{"version":3,"sources":["../src/options.js","../src/constants.js","../src/create-element.js","../src/component.js","../src/render.js","../src/create-context.js","../src/util.js","../src/diff/children.js","../src/diff/props.js","../src/diff/index.js","../src/clone-element.js","../src/index.js","../src/check-props.js","../src/devtools/custom.js","../src/debug.js","../src/devtools/renderer.js","../src/devtools/index.js","../../src/util.js","../src/suspense.js","../../node_modules/react-use/lib/util.js","../../node_modules/react-use/lib/useEvent.js","../../node_modules/nano-css/index.js","../../node_modules/nano-css/addon/rule.js","../../node_modules/nano-css/addon/cache.js","../../node_modules/nano-css/addon/hydrate.js","../../node_modules/nano-css/addon/nesting.js","nano.ts","../../node_modules/micro-signals/lib/tag-map.js","../../node_modules/micro-signals/lib/extended-signal.js","../../node_modules/micro-signals/lib/signal.js","../../node_modules/micro-signals/lib/caches.js","../../node_modules/micro-signals/lib/index.js","../wasm/index.ts","../wasm/react.tsx","../../node_modules/classnames/index.js","Display.tsx","smalldash.ts","promise.ts","../roms/index.ts","../roms/debug/blargg/index.ts","../roms/debug/index.ts","CartSelect.tsx","Controller.tsx","data.ts","../../node_modules/parcel-bundler/src/builtins/bundle-url.js","../../node_modules/parcel-bundler/src/builtins/bundle-loader.js","logo.svg","App.tsx","Toaster.tsx","Page.tsx","index.tsx","../../node_modules/parcel-bundler/src/builtins/loaders/browser/wasm-loader.js","../../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["options","const","isValidElement","q","defer","prevDebounce","IS_HYDRATE","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","let","removeNode","node","parentNode","removeChild","createElement","type","children","ref","key","arguments","length","push","defaultProps","createVNode","vnode","_children","_parent","_depth","_dom","_lastDomChild","_component","constructor","createRef","Fragment","coerceToVNode","possibleVNode","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","_dirty","debounceRendering","process","p","component","mounts","newDom","oldDom","parentDom","force","sort","a","b","_vnode","pop","_parentDom","_force","diff","_context","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","isSvg","excessDomChildren","isHydrating","j","oldVNode","sibDom","firstChildDom","refs","oldChildren","oldChildrenLength","toChildArray","childVNode","undefined","outer","appendChild","nextSibling","insertBefore","value","unmount","applyRef","callback","flattened","Array","isArray","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","test","name","oldValue","s","useCapture","nameLower","cssText","replace","toLowerCase","slice","addEventListener","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","e","this","event","newVNode","tmp","isNew","oldState","snapshot","clearProcessingException","provider","cctx","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","prototype","render","doRender","sub","state","_renderCallbacks","_nextState","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","_render","getChildContext","getSnapshotBeforeUpdate","call","componentDidUpdate","diffElementNodes","diffed","_catchError","root","_commit","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","data","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","current","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","_root","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","_props","some","old","splice","setState","update","forceUpdate","Promise","then","bind","resolve","setTimeout","error","getDerivedStateFromError","componentDidCatch","loggedTypeFailures","getNodeType","getDisplayName","displayName","setIn","path","last","parent","reduce","acc","attr","getData","updater","setInState","prev","setInProps","setInContext","getChildren","duration","endTime","startTime","text","publicInstance","getInstance","memoizedInteractions","actualDuration","actualStartTime","treeBaseDuration","filter","Boolean","isRoot","shallowEqual","isProps","Object","keys","serializeVNode","attrs","prop","hasOwnProperty","toString","JSON","stringify","console","warn","Renderer","hook","rid","pending","inst2vnode","WeakMap","connected","catchErrors","fn","arg","markConnected","flushPendingEvents","events","emit","mount","set","work","renderer","item","stack","inst","get","next","_prevState","handleCommitFiberRoot","has","handleCommitFiberUnmount","delete","getNativeFromReactElement","getReactElementFromNative","walkTree","cleanup","noop","now","Date","performance","f","currentIndex","currentComponent","afterPaintEffects","oldBeforeRender","__hooks","_pendingEffects","handleEffects","oldAfterDiff","hooks","_handles","handle","createHandle","_pendingLayoutEffects","oldBeforeUnmount","getHookState","index","_hook","_list","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_value","action","nextValue","useEffect","args","argsChanged","_args","afterPaint","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","_callback","useCallback","useContext","useDebugValue","formatter","forEach","_cleanup","flushAfterPaintEffects","_afterPaintQueued","window","prevRaf","requestAnimationFrame","done","clearTimeout","timeout","cancelAnimationFrame","raf","effects","invokeCleanup","invokeEffect","result","oldArgs","newArgs","oldCatchError","Suspense","_suspensions","lazy","loader","prom","Lazy","exports","default","_forwarded","_childDidSuspend","promise","onSuspensionComplete","fallback","_parkedChildren","detachDom","version","REACT_ELEMENT_TYPE","Symbol","for","CAMEL_PROPS","oldEventHook","createFactory","firstChild","preactRender","persist","nativeEvent","ContextProvider","Portal","_this","container","wrap","h","_container","_temp","_unmount","_wrap","_hasMounted","createPortal","mapFn","map","Children","count","only","Error","toArray","multiple","selected","shouldSanitize","preactCompatNormalized","normalizeVNode","class","className","classNameDescriptor","enumerable","defineProperty","element","preactCloneElement","apply","$$typeof","unmountComponentAtNode","configurable","shallowDiffers","findDOMNode","PureComponent","isPureReactComponent","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","isReactComponent","forwardRef","Forwarded","setSafeDescriptor","proto","v","oldVNodeHook","ondoubleclick","ondblclick","onbeforeinput","onchange","normalized","oninput","_patchedLifecycles","unstable_batchedUpdates","KEBAB_REGEX","hash","str","charCodeAt","create","config","client","raw","pfx","kebab","decl","selector","putRaw","rawCssRule","sh","head","sheet","insertRule","cssRules","put","decls","atrule","postponed","putAt","addon","rule","css","block","hydrated","selectorText","bundleURL","getBundleURLCached","getBundleURL","err","matches","match","getBaseURL","url","require","loadBundlesLazy","bundles","id","code","LazyPromise","reject","loadBundles","all","loadBundle","bundleLoaders","registerBundleLoader","module","load","register","bundle","substring","lastIndexOf","bundleLoader","resolved","catch","executor","onSuccess","onError","SvgLogo","_extends","target","source","_ref","React","fill","d","width","height","viewBox","fetch","res","WebAssembly","instantiateStreaming","arrayBuffer","instantiate","wasmModule","instance","script","async","charset","src","onerror","onload","getElementsByTagName"],"mappings":"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","file":"web.d3ef1c6c.js","sourceRoot":"../src/web","sourcesContent":["/** @type {import('./internal').Options}  */\nconst options = {};\n\nexport default options;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\n","import options from './options';\nimport { assign } from './util';\n\n/**\n  * Create an virtual node (used for JSX)\n  * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n  * constructor for this virtual node\n  * @param {object | null | undefined} [props] The properties of the virtual node\n  * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n  * @returns {import('./internal').VNode}\n  */\nexport function createElement(type, props, children) {\n\tprops = assign({}, props);\n\n\tif (arguments.length>3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (let i=3; i<arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children!=null) {\n\t\tprops.children = children;\n\t}\n\n\t// \"type\" may be undefined during development. The check is needed so that\n\t// we can display a nice error message with our debug helpers\n\tif (type!=null && type.defaultProps!=null) {\n\t\tfor (let i in type.defaultProps) {\n\t\t\tif (props[i]===undefined) props[i] = type.defaultProps[i];\n\t\t}\n\t}\n\tlet ref = props.ref;\n\tlet key = props.key;\n\tif (ref!=null) delete props.ref;\n\tif (key!=null) delete props.key;\n\n\treturn createVNode(type, props, key, ref);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_lastDomChild: null,\n\t\t_component: null,\n\t\tconstructor: undefined\n\t};\n\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode => vnode!=null && vnode.constructor === undefined;\n\n/**\n * Coerce an untrusted value into a VNode\n * Specifically, this should be used anywhere a user could provide a boolean, string, or number where\n * a VNode or Component is desired instead\n * @param {boolean | string | number | import('./internal').VNode} possibleVNode A possible VNode\n * @returns {import('./internal').VNode | null}\n */\nexport function coerceToVNode(possibleVNode) {\n\tif (possibleVNode == null || typeof possibleVNode === 'boolean') return null;\n\tif (typeof possibleVNode === 'string' || typeof possibleVNode === 'number') {\n\t\treturn createVNode(null, possibleVNode, null, null);\n\t}\n\n\t// Clone vnode if it has already been used. ceviche/#57\n\tif (possibleVNode._dom!=null || possibleVNode._component!=null) {\n\t\tlet vnode = createVNode(possibleVNode.type, possibleVNode.props, possibleVNode.key, null);\n\t\tvnode._dom = possibleVNode._dom;\n\t\treturn vnode;\n\t}\n\n\treturn possibleVNode;\n}\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n\t// this.constructor // When component is functional component, this is reset to functional component\n\t// if (this.state==null) this.state = {};\n\t// this.state = {};\n\t// this._dirty = true;\n\t// this._renderCallbacks = []; // Only class components\n\n\t// Other properties that Component will have set later,\n\t// shown here as commented out for quick reference\n\t// this.base = null;\n\t// this._context = null;\n\t// this._vnode = null;\n\t// this._nextState = null; // Only class components\n\t// this._processingException = null; // Always read, set only when handling error\n\t// this._pendingError = null; // Always read, set only when handling error. This is used to indicate at diffTime to set _processingException\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s = (this._nextState!==this.state && this._nextState) || (this._nextState = assign({}, this.state));\n\n\t// if update() mutates state in-place, skip the copy:\n\tif (typeof update!=='function' || (update = update(s, this.props))) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update==null) return;\n\n\tif (this._vnode) {\n\t\tthis._force = false;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tthis._force = true;\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type === 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} c The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom,\n\t\tforce = component._force;\n\tcomponent._force = false;\n\tif (parentDom) {\n\t\tlet mounts = [];\n\t\tlet newDom = diff(parentDom, vnode, assign({}, vnode), component._context, parentDom.ownerSVGElement!==undefined, null, mounts, force, oldDom == null ? getDomSibling(vnode) : oldDom);\n\t\tcommitRoot(mounts, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet q = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb) => void}\n */\nconst defer = typeof Promise=='function' ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce = options.debounceRendering;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif ((!c._dirty && (c._dirty = true) && q.push(c) === 1) ||\n\t    (prevDebounce !== options.debounceRendering)) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(options.debounceRendering || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet p;\n\tq.sort((a, b) => b._vnode._depth - a._vnode._depth);\n\twhile ((p=q.pop())) {\n\t\t// forceUpdate's callback argument is reused here to indicate a non-forced update.\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\tlet oldVNode = isHydrating ? null : replaceNode && replaceNode._children || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\tlet mounts = [];\n\tdiff(\n\t\tparentDom,\n\t\tisHydrating ? parentDom._children = vnode : (replaceNode || parentDom)._children = vnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? null\n\t\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tmounts,\n\t\tfalse,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating,\n\t);\n\tcommitRoot(mounts, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\n/**\n *\n * @param {any} defaultValue\n */\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (props.value !== _props.value) {\n\t\t\t\t\t\tctx[context._id].props.value = _props.value;\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\t// Check if still mounted\n\t\t\t\t\t\t\tif (c._parentDom) {\n\t\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.sub = (c) => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\treturn context;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { coerceToVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts The list of components\n * which have mounted\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(parentDom, newParentVNode, oldParentVNode, context, isSvg, excessDomChildren, mounts, oldDom, isHydrating) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t}\n\t\telse if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t}\n\t\telse {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti=0;\n\tnewParentVNode._children = toChildArray(newParentVNode._children, childVNode => {\n\n\t\tif (childVNode!=null) {\n\t\t\tchildVNode._parent = newParentVNode;\n\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t// (holes).\n\t\t\toldVNode = oldChildren[i];\n\n\t\t\tif (oldVNode===null || (oldVNode && childVNode.key == oldVNode.key && childVNode.type === oldVNode.type)) {\n\t\t\t\toldChildren[i] = undefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\tfor (j=0; j<oldChildrenLength; j++) {\n\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\tif (oldVNode && childVNode.key == oldVNode.key && childVNode.type === oldVNode.type) {\n\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\toldVNode = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\tnewDom = diff(parentDom, childVNode, oldVNode, context, isSvg, excessDomChildren, mounts, null, oldDom, isHydrating);\n\n\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t(refs || (refs=[])).push(j, childVNode._component || newDom, childVNode);\n\t\t\t}\n\n\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\tif (newDom!=null) {\n\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t}\n\n\t\t\t\tif (childVNode._lastDomChild != null) {\n\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t// have a non-null _lastDomChild. Continue the diff from the end of\n\t\t\t\t\t// this Fragment's DOM tree.\n\t\t\t\t\tnewDom = childVNode._lastDomChild;\n\n\t\t\t\t\t// Eagerly cleanup _lastDomChild. We don't need to persist the value because\n\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t// diffing Components and Fragments.\n\t\t\t\t\tchildVNode._lastDomChild = null;\n\t\t\t\t}\n\t\t\t\telse if (excessDomChildren==oldVNode || newDom!=oldDom || newDom.parentNode==null) {\n\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\touter: if (oldDom==null || oldDom.parentNode!==parentDom) {\n\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\tfor (sibDom=oldDom, j=0; (sibDom=sibDom.nextSibling) && j<oldChildrenLength; j+=2) {\n\t\t\t\t\t\t\tif (sibDom==newDom) {\n\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t// updated properly.\n\t\t\t\t\t//\n\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldDom = newDom.nextSibling;\n\n\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t// At this point, if childVNode._lastDomChild existed, then\n\t\t\t\t\t// newDom = childVNode._lastDomChild per line 101. Else it is\n\t\t\t\t\t// the same as childVNode._dom, meaning this component returned\n\t\t\t\t\t// only a single DOM node\n\t\t\t\t\tnewParentVNode._lastDomChild = newDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ti++;\n\t\treturn childVNode;\n\t});\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren!=null && typeof newParentVNode.type !== 'function') for (i=excessDomChildren.length; i--; ) if (excessDomChildren[i]!=null) removeNode(excessDomChildren[i]);\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i=oldChildrenLength; i--; ) if (oldChildren[i]!=null) unmount(oldChildren[i], oldChildren[i]);\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {import('../internal').VNode[]} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children==null || typeof children === 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t}\n\telse if (Array.isArray(children)) {\n\t\tfor (let i=0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t}\n\telse {\n\t\tflattened.push(callback ? callback(coerceToVNode(children)) : children);\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (!(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif ((!hydrate || typeof newProps[i]=='function') && i!=='value' && i!=='checked' && oldProps[i]!==newProps[i]) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t}\n\telse {\n\t\tstyle[key] = typeof value==='number' && IS_NON_DIMENSIONAL.test(key)===false ? value+'px' : value==null ? '' : value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tname = isSvg ? (name==='className' ? 'class' : name) : (name==='class' ? 'className' : name);\n\n\tif (name==='key' || name === 'children') {}\n\telse if (name==='style') {\n\t\tconst s = dom.style;\n\n\t\tif (typeof value==='string') {\n\t\t\ts.cssText = value;\n\t\t}\n\t\telse {\n\t\t\tif (typeof oldValue==='string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) for (let i in oldValue) {\n\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) for (let i in value) {\n\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0]==='o' && name[1]==='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tlet nameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t}\n\t\telse {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t}\n\telse if (\n\t\tname!=='list'\n\t\t&& name!=='tagName'\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\t&& name!=='form'\n\t\t&& !isSvg\n\t\t&& (name in dom)\n\t) {\n\t\tdom[name] = value==null ? '' : value;\n\t}\n\telse if (typeof value!=='function' && name!=='dangerouslySetInnerHTML') {\n\t\tif (name!==(name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value==null || value===false) {\n\t\t\t\tdom.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdom.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\t}\n\t\t}\n\t\telse if (value==null || value===false) {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t\telse {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component, enqueueRender } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren, toChildArray } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts A list of newly\n * mounted components\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diff(parentDom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, force, oldDom, isHydrating) {\n\tlet tmp, newType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif (tmp = options._diff) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType==='function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && context[tmp._id];\n\t\t\tlet cctx = tmp ? (provider ? provider.props.value : tmp._defaultValue) : context;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, cctx); // eslint-disable-line new-cap\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, cctx);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = cctx;\n\t\t\t\tc._context = context;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState==null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps!=null) {\n\t\t\t\tassign(c._nextState==c.state ? (c._nextState = assign({}, c._nextState)) : c._nextState, newType.getDerivedStateFromProps(newProps, c._nextState));\n\t\t\t}\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (newType.getDerivedStateFromProps==null && c.componentWillMount!=null) c.componentWillMount();\n\t\t\t\tif (c.componentDidMount!=null) mounts.push(c);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (newType.getDerivedStateFromProps==null && force==null && c.componentWillReceiveProps!=null) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, cctx);\n\t\t\t\t}\n\n\t\t\t\tif (!force && c.shouldComponentUpdate!=null && c.shouldComponentUpdate(newProps, c._nextState, cctx)===false) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldDom!=null ? oldDom!==oldVNode._dom ? oldDom : oldVNode._dom : null;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) newVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t}\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate!=null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, cctx);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\tc.context = cctx;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (tmp = options._render) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment = tmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = toChildArray(isTopLevelFragment ? tmp.props.children : tmp);\n\n\t\t\tif (c.getChildContext!=null) {\n\t\t\t\tcontext = assign(assign({}, context), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate!=null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(parentDom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, oldDom, isHydrating);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\twhile (tmp=c._renderCallbacks.pop()) {\n\t\t\t\tif (c._nextState) { c.state = c._nextState; }\n\t\t\t\ttmp.call(c);\n\t\t\t}\n\n\t\t\t// Don't call componentDidUpdate on mount or when we bailed out via\n\t\t\t// `shouldComponentUpdate`\n\t\t\tif (!isNew && oldProps!=null && c.componentDidUpdate!=null) {\n\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tnewVNode._dom = diffElementNodes(oldVNode._dom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, isHydrating);\n\t\t}\n\n\t\tif (tmp = options.diffed) tmp(newVNode);\n\t}\n\tcatch (e) {\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\nexport function commitRoot(mounts, root) {\n\tlet c;\n\twhile ((c = mounts.pop())) {\n\t\ttry {\n\t\t\tc.componentDidMount();\n\t\t}\n\t\tcatch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n\n\tif (options._commit) options._commit(root);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts An array of newly\n * mounted components\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(dom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, isHydrating) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type==='svg' || isSvg;\n\n\tif (dom==null && excessDomChildren!=null) {\n\t\tfor (i=0; i<excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\t\t\tif (child!=null && (newVNode.type===null ? child.nodeType===3 : child.localName===newVNode.type)) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom==null) {\n\t\tif (newVNode.type===null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\t\tdom = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type) : document.createElement(newVNode.type);\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (newVNode.type===null) {\n\t\tif (oldProps !== newProps) {\n\t\t\tif (excessDomChildren!=null) excessDomChildren[excessDomChildren.indexOf(dom)] = null;\n\t\t\tdom.data = newProps;\n\t\t}\n\t}\n\telse if (newVNode!==oldVNode) {\n\t\tif (excessDomChildren!=null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html!=oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = newHtml && newHtml.__html || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\tnewVNode._children = newVNode.props.children;\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(dom, newVNode, oldVNode, context, newVNode.type==='foreignObject' ? false : isSvg, excessDomChildren, mounts, EMPTY_OBJ, isHydrating);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (('value' in newProps) && newProps.value!==undefined && newProps.value !== dom.value) dom.value = newProps.value==null ? '' : newProps.value;\n\t\t\tif (('checked' in newProps) && newProps.checked!==undefined && newProps.checked !== dom.checked) dom.checked = newProps.checked;\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n\tcatch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif (r = vnode.ref) {\n\t\tapplyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type !== 'function') {\n\t\tskipRemove = (dom = vnode._dom)!=null;\n\t}\n\n\tvnode._dom = vnode._lastDomChild = null;\n\n\tif ((r = vnode._component)!=null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif (r = vnode._children) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom!=null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} oldVNode The oldVNode of the vnode\n * that threw, if this VNode threw while diffing\n */\n(options)._catchError = function (error, vnode, oldVNode) {\n\n\t/** @type {import('../internal').Component} */\n\tlet component;\n\n\tfor (; vnode = vnode._parent;) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (component.constructor && component.constructor.getDerivedStateFromError!=null) {\n\t\t\t\t\tcomponent.setState(component.constructor.getDerivedStateFromError(error));\n\t\t\t\t}\n\t\t\t\telse if (component.componentDidCatch!=null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\treturn enqueueRender(component._pendingError = component);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n};\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length>2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\treturn createVNode(vnode.type, props, props.key || vnode.key, props.ref || vnode.ref);\n}\n","import { initDebug } from './debug';\nimport { initDevTools } from './devtools';\n\nif (process.env.NODE_ENV==='development') {\n\tinitDebug();\n\tinitDevTools();\n}\n","const ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nlet loggedTypeFailures = {};\n\nexport function checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n\tObject.keys(typeSpecs).forEach((typeSpecName) => {\n\t\tlet error;\n\t\ttry {\n\t\t\terror = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n\t\t}\n\t\tcatch (e) {\n\t\t\terror = e;\n\t\t}\n\t\tif (error && !(error.message in loggedTypeFailures)) {\n\t\t\tloggedTypeFailures[error.message] = true;\n\t\t\tconsole.error(`Failed ${location} type: ${error.message}${getStack && getStack() || ''}`);\n\t\t}\n\t});\n}\n","/* istanbul ignore file */\nimport { Component, Fragment } from 'preact';\n\n/**\n * Get the type/category of a vnode\n * @param {import('../internal').VNode} vnode\n * @returns {import('../internal').NodeType}\n */\nexport function getNodeType(vnode) {\n\tif (vnode.type===Fragment) return 'Wrapper';\n\telse if (typeof vnode.type==='function') return 'Composite';\n\telse if (typeof vnode.type==='string') return 'Native';\n\treturn 'Text';\n}\n\n/**\n * Get human readable name of the component/dom element\n * @param {import('../internal').VNode} vnode\n * @returns {string}\n */\nexport function getDisplayName(vnode) {\n\tif (vnode.type===Fragment) return 'Fragment';\n\telse if (typeof vnode.type==='function') return vnode.type.displayName || vnode.type.name;\n\telse if (typeof vnode.type==='string') return vnode.type;\n\treturn '#text';\n}\n\n/**\n * Deeply mutate a property by walking down an array of property keys\n * @param {object} obj\n * @param {Array<string | number>} path\n * @param {any} value\n */\nexport function setIn(obj, path, value) {\n\tlet last = path.pop();\n\tlet parent = path.reduce((acc, attr) => acc ? acc[attr] : null, obj);\n\tif (parent) {\n\t\tparent[last] = value;\n\t}\n}\n\n/**\n * Get devtools compatible data from vnode\n * @param {import('../internal').VNode} vnode\n * @returns {import('../internal').DevtoolData}\n */\nexport function getData(vnode) {\n\tlet c = vnode._component;\n\n\t/** @type {import('../internal').DevtoolsUpdater | null} */\n\tlet updater = null;\n\n\tif (c!=null && c instanceof Component) {\n\t\t// These functions will be called when the user changes state, props or\n\t\t// context values via the devtools ui panel\n\t\tupdater = {\n\t\t\tsetState: c.setState.bind(c),\n\t\t\tforceUpdate: c.forceUpdate.bind(c),\n\t\t\tsetInState(path, value) {\n\t\t\t\tc.setState(prev => {\n\t\t\t\t\tsetIn(prev, path, value);\n\t\t\t\t\treturn prev;\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetInProps(path, value) {\n\t\t\t\tsetIn(vnode.props, path, value);\n\t\t\t\tc.setState({});\n\t\t\t},\n\t\t\tsetInContext(path, value) {\n\t\t\t\tsetIn(c.context, path, value);\n\t\t\t\tc.setState({});\n\t\t\t}\n\t\t};\n\t}\n\n\tlet children = getChildren(vnode);\n\n\tlet duration = vnode.endTime - vnode.startTime;\n\treturn {\n\t\tnodeType: getNodeType(vnode),\n\t\ttype: vnode.type,\n\t\tname: getDisplayName(vnode),\n\t\tref: vnode.ref || null,\n\t\tkey: vnode.key || null,\n\t\tupdater,\n\t\ttext: vnode.type===null ? vnode.props : null,\n\t\tstate: c!=null && c instanceof Component ? c.state : null,\n\t\tprops: vnode.props,\n\t\t// The devtools inline text children if they are the only child\n\t\tchildren: vnode.type!==null\n\t\t\t? children!=null && children.length==1 && children[0].type===null\n\t\t\t\t? children[0].props\n\t\t\t\t: children\n\t\t\t: null,\n\t\tpublicInstance: getInstance(vnode),\n\t\tmemoizedInteractions: [],\n\n\t\t// Profiler data\n\t\tactualDuration: duration,\n\t\tactualStartTime: vnode.startTime,\n\t\ttreeBaseDuration: duration\n\t};\n}\n\n/**\n * Get all rendered vnode children as an array. Moreover we need to filter\n * out `null` or other falsy children.\n * @param {import('../internal').VNode} vnode\n * @returns {import('../internal').VNode[]}\n */\nexport function getChildren(vnode) {\n\tif (vnode._component==null) {\n\t\treturn vnode._children!=null ? vnode._children.filter(Boolean) : [];\n\t}\n\n\treturn vnode._children != null ? vnode._children.filter(Boolean) : null;\n}\n\n/**\n * Check if a vnode is a root node\n * @param {import('../internal').VNode} vnode\n * @returns {boolean}\n */\nexport function isRoot(vnode) {\n\t// Timings of root vnodes will never be set\n\treturn vnode.type===Fragment && vnode._parent === null;\n}\n\n/**\n * Cache a vnode by its instance and retrieve previous vnodes by the next\n * instance.\n *\n * We need this to be able to identify the previous vnode of a given instance.\n * For components we want to check if we already rendered it and use the class\n * instance as key. For html elements we use the dom node as key.\n *\n * @param {import('../internal').VNode} vnode\n * @returns {import('../internal').Component | import('../internal').PreactElement | Text | null}\n */\nexport function getInstance(vnode) {\n\t// Use the parent element as instance for root nodes\n\tif (isRoot(vnode)) {\n\t\t// Edge case: When the tree only consists of components that have not rendered\n\t\t// anything into the DOM we revert to using the vnode as instance.\n\t\treturn vnode._children.length > 0 && vnode._children[0]!=null && vnode._children[0]._dom!=null\n\t\t\t? /** @type {import('../internal').PreactElement | null} */\n\t\t\t(vnode._children[0]._dom.parentNode)\n\t\t\t: vnode;\n\t}\n\tif (vnode._component!=null) return vnode._component;\n\tif (vnode.type===Fragment) return vnode.props;\n\treturn vnode._dom;\n}\n\n/**\n * Compare two objects\n * @param {object} a\n * @param {object} b\n * @param {boolean} [isProps]\n * @returns {boolean}\n */\nexport function shallowEqual(a, b, isProps) {\n\tif (a==null || b==null) return false;\n\n\tfor (let key in a) {\n\t\tif (isProps && key=='children' && b[key]!=null) continue;\n\t\tif (a[key]!==b[key]) return false;\n\t}\n\n\tif (Object.keys(a).length!==Object.keys(b).length) return false;\n\treturn true;\n}\n\n/**\n * Check if a vnode was actually updated\n * @param {import('../internal').VNode} next\n * @param {import('../internal').VNode} prev\n * @returns {boolean}\n */\nexport function hasDataChanged(prev, next) {\n\treturn (prev.props !== next.props && !shallowEqual(prev.props, next.props, true))\n\t\t|| (prev._component!=null &&\n\t\t\t!shallowEqual(next._component._prevState, next._component.state))\n\t\t|| prev._dom !== next._dom\n\t\t|| prev.ref !== next.ref;\n}\n","import { checkPropTypes } from './check-props';\nimport { getDisplayName } from './devtools/custom';\nimport { options, Component } from 'preact';\nimport { ELEMENT_NODE, DOCUMENT_NODE, DOCUMENT_FRAGMENT_NODE } from './constants';\n\nfunction getClosestDomNodeParent(parent) {\n\tif (!parent) return {};\n\tif (typeof parent.type === 'function') {\n\t\treturn getClosestDomNodeParent(parent._parent);\n\t}\n\treturn parent;\n}\n\nexport function initDebug() {\n\t/* eslint-disable no-console */\n\tlet oldBeforeDiff = options._diff;\n\tlet oldDiffed = options.diffed;\n\tlet oldVnode = options.vnode;\n\tlet oldCatchError = options._catchError;\n\tconst warnedComponents = { useEffect: {}, useLayoutEffect: {}, lazyPropTypes: {} };\n\n\toptions._catchError = (error, vnode, oldVNode) => {\n\t\tlet component = vnode && vnode._component;\n\t\tif (component && typeof error.then === 'function') {\n\t\t\tconst promise = error;\n\t\t\terror = new Error('Missing Suspense. The throwing component was: ' + getDisplayName(vnode));\n\n\t\t\tlet parent = vnode;\n\t\t\tfor (; parent; parent = parent._parent) {\n\t\t\t\tif (parent._component && parent._component._childDidSuspend) {\n\t\t\t\t\terror = promise;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We haven't recovered and we know at this point that there is no\n\t\t\t// Suspense component higher up in the tree\n\t\t\tif (error instanceof Error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\toldCatchError(error, vnode, oldVNode);\n\t};\n\n\toptions._root = (vnode, parentNode) => {\n\t\tif (!parentNode) {\n\t\t\tthrow new Error('Undefined parent passed to render(), this is the second argument.\\nCheck if the element is available in the DOM/has the correct id.');\n\t\t}\n\t\tlet isValid;\n\t\tswitch (parentNode.nodeType) {\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\tcase DOCUMENT_NODE: isValid = true; break;\n\t\t\tdefault: isValid = false;\n\t\t}\n\t\tif (!isValid) throw new Error(`\n\t\t\tExpected a valid HTML node as a second argument to render.\n\t\t\tReceived ${parentNode} instead: render(<${vnode.type.name || vnode.type} />, ${parentNode});\n\t\t`);\n\t};\n\n\toptions._diff = vnode => {\n\t\tlet { type, _parent: parent } = vnode;\n\t\tlet parentVNode = getClosestDomNodeParent(parent);\n\n\t\tif (type===undefined) {\n\t\t\tthrow new Error('Undefined component passed to createElement()\\n\\n'+\n\t\t\t'You likely forgot to export your component or might have mixed up default and named imports'+\n\t\t\tserializeVNode(vnode));\n\t\t}\n\t\telse if (type!=null && typeof type==='object') {\n\t\t\tif (type._lastDomChild!==undefined && type._dom!==undefined) {\n\t\t\t\tlet info = 'Did you accidentally pass a JSX literal as JSX twice?\\n\\n'+\n\t\t\t\t'  let My'+getDisplayName(type)+' = '+serializeVNode(type)+';\\n'+\n\t\t\t\t'  let vnode = <My'+getDisplayName(type)+' />;\\n\\n'+\n\t\t\t\t'This usually happens when you export a JSX literal and not the component.';\n\t\t\t\tthrow new Error('Invalid type passed to createElement(): '+type+'\\n\\n'+info+'\\n');\n\t\t\t}\n\n\t\t\tthrow new Error('Invalid type passed to createElement(): '+(Array.isArray(type) ? 'array' : type));\n\t\t}\n\n\t\tif ((type==='thead' || type==='tfoot' || type==='tbody') && parentVNode.type!=='table') {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table.' +\n\t\t\t\t'Your <thead/tbody/tfoot> should have a <table> parent.'\n\t\t\t\t+ serializeVNode(vnode)\n\t\t\t);\n\t\t}\n\t\telse if (\n\t\t\ttype==='tr' && (\n\t\t\t\tparentVNode.type!=='thead' &&\n\t\t\t\tparentVNode.type!=='tfoot' &&\n\t\t\t\tparentVNode.type!=='tbody' &&\n\t\t\t\tparentVNode.type!=='table'\n\t\t\t)) {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table.' +\n\t\t\t\t'Your <tr> should have a <thead/tbody/tfoot/table> parent.'\n\t\t\t\t+ serializeVNode(vnode)\n\t\t\t);\n\t\t}\n\t\telse if (type==='td' && parentVNode.type!=='tr') {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table.' +\n\t\t\t\t\t'Your <td> should have a <tr> parent.'\n\t\t\t\t\t+ serializeVNode(vnode)\n\t\t\t);\n\t\t}\n\t\telse if (type==='th' && parentVNode.type!=='tr') {\n\t\t\tconsole.error(\n\t\t\t\t'Improper nesting of table.' +\n\t\t\t\t'Your <th> should have a <tr>.'\n\t\t\t\t+ serializeVNode(vnode)\n\t\t\t);\n\t\t}\n\n\t\tif (\n\t\t\tvnode.ref!==undefined &&\n\t\t\ttypeof vnode.ref!=='function' &&\n\t\t\ttypeof vnode.ref!=='object' &&\n\t\t\t!('$$typeof' in vnode)  // allow string refs when preact-compat is installed\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\t`Component's \"ref\" property should be a function, or an object created ` +\n\t\t\t\t`by createRef(), but got [${typeof vnode.ref}] instead\\n` +\n\t\t\t\tserializeVNode(vnode)\n\t\t\t);\n\t\t}\n\n\t\tif (typeof vnode.type==='string') {\n\t\t\tfor (const key in vnode.props) {\n\t\t\t\tif (key[0]==='o' && key[1]==='n' && typeof vnode.props[key]!=='function' && vnode.props[key]!=null) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Component's \"${key}\" property should be a function, ` +\n\t\t\t\t\t\t`but got [${typeof vnode.props[key]}] instead\\n` +\n\t\t\t\t\t\tserializeVNode(vnode)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Check prop-types if available\n\t\tif (typeof vnode.type==='function' && vnode.type.propTypes) {\n\t\t\tif (vnode.type.displayName === 'Lazy' && !warnedComponents.lazyPropTypes[vnode.type]) {\n\t\t\t\tconst m = 'PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ';\n\t\t\t\ttry {\n\t\t\t\t\tconst lazyVNode = vnode.type();\n\t\t\t\t\twarnedComponents.lazyPropTypes[vnode.type] = true;\n\t\t\t\t\tconsole.warn(m + 'Component wrapped in lazy() is ' + (lazyVNode.type.displayName || lazyVNode.type.name));\n\t\t\t\t}\n\t\t\t\tcatch (promise) {\n\t\t\t\t\tconsole.warn(m + 'We will log the wrapped component\\'s name once it is loaded.');\n\t\t\t\t}\n\t\t\t}\n\t\t\tcheckPropTypes(vnode.type.propTypes, vnode.props, getDisplayName(vnode), serializeVNode(vnode));\n\t\t}\n\n\t\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n\t};\n\n\toptions._hook = (comp) => {\n\t\tif (!comp) {\n\t\t\tthrow new Error('Hook can only be invoked from render methods.');\n\t\t}\n\t};\n\n\tconst warn = (property, err) => ({\n\t\tget() {\n\t\t\tthrow new Error(`getting vnode.${property} is deprecated, ${err}`);\n\t\t},\n\t\tset() {\n\t\t\tthrow new Error(`setting vnode.${property} is not allowed, ${err}`);\n\t\t}\n\t});\n\n\tconst deprecatedAttributes = {\n\t\tnodeName: warn('nodeName', 'use vnode.type'),\n\t\tattributes: warn('attributes', 'use vnode.props'),\n\t\tchildren: warn('children', 'use vnode.props.children')\n\t};\n\n\toptions.vnode = (vnode) => {\n\t\tlet source, self;\n\t\tif (vnode.props && vnode.props.__source) {\n\t\t\tsource = vnode.props.__source;\n\t\t\tdelete vnode.props.__source;\n\t\t}\n\t\tif (vnode.props && vnode.props.__self) {\n\t\t\tself = vnode.props.__self;\n\t\t\tdelete vnode.props.__self;\n\t\t}\n\t\tvnode.__self = self;\n\t\tvnode.__source = source;\n\t\tObject.defineProperties(vnode, deprecatedAttributes);\n\t\tif (oldVnode) oldVnode(vnode);\n\t};\n\n\toptions.diffed = (vnode) => {\n\t\t// Check if the user passed plain objects as children. Note that we cannot\n\t\t// move this check into `options.vnode` because components can receive\n\t\t// children in any shape they want (e.g.\n\t\t// `<MyJSONFormatter>{{ foo: 123, bar: \"abc\" }}</MyJSONFormatter>`).\n\t\t// Putting this check in `options.diffed` ensures that\n\t\t// `vnode._children` is set and that we only validate the children\n\t\t// that were actually rendered.\n\t\tif (vnode._children) {\n\t\t\tvnode._children.forEach(child => {\n\t\t\t\tif (child && child.type===undefined) {\n\t\t\t\t\t// Remove internal vnode keys that will always be patched\n\t\t\t\t\tdelete child._parent;\n\t\t\t\t\tdelete child._depth;\n\t\t\t\t\tconst keys = Object.keys(child).join(',');\n\t\t\t\t\tthrow new Error(`Objects are not valid as a child. Encountered an object with the keys {${keys}}.`);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (oldDiffed) oldDiffed(vnode);\n\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tlet hooks = vnode._component.__hooks;\n\t\t\t(hooks._list || []).forEach(hook => {\n\t\t\t\tif (hook._callback && (!hook._args || !Array.isArray(hook._args))) {\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`In ${vnode.type.name || vnode.type} you are calling useMemo/useCallback without passing arguments.\\n` +\n\t\t\t\t\t\t`This is a noop since it will not be able to memoize, it will execute it every render.`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (hooks._pendingEffects && Array.isArray(hooks._pendingEffects)) {\n\t\t\t\thooks._pendingEffects.forEach((effect) => {\n\t\t\t\t\tif ((!effect._args || !Array.isArray(effect._args)) && !warnedComponents.useEffect[vnode.type]) {\n\t\t\t\t\t\twarnedComponents.useEffect[vnode.type] = true;\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tconsole.warn('You should provide an array of arguments as the second argument to the \"useEffect\" hook.\\n\\n' +\n\t\t\t\t\t\t\t'Not doing so will invoke this effect on every render.\\n\\n' +\n\t\t\t\t\t\t\t'This effect can be found in the render of ' + (vnode.type.name || vnode.type) + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (hooks._pendingLayoutEffects && Array.isArray(hooks._pendingLayoutEffects)) {\n\t\t\t\thooks._pendingLayoutEffects.forEach((layoutEffect) => {\n\t\t\t\t\tif ((!layoutEffect._args || !Array.isArray(layoutEffect._args)) && !warnedComponents.useLayoutEffect[vnode.type]) {\n\t\t\t\t\t\twarnedComponents.useLayoutEffect[vnode.type] = true;\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tconsole.warn('You should provide an array of arguments as the second argument to the \"useLayoutEffect\" hook.\\n\\n' +\n\t\t\t\t\t\t\t'Not doing so will invoke this effect on every render.\\n\\n' +\n\t\t\t\t\t\t\t'This effect can be found in the render of ' + (vnode.type.name || vnode.type) + '.');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (vnode._children != null) {\n\t\t\tconst keys = [];\n\t\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\t\tconst child = vnode._children[i];\n\t\t\t\tif (!child || child.key==null) continue;\n\n\t\t\t\tconst key = child.key;\n\t\t\t\tif (keys.indexOf(key) !== -1) {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t'Following component has two or more children with the ' +\n\t\t\t\t\t\t`same key attribute: \"${key}\". This may cause glitches and misbehavior ` +\n\t\t\t\t\t\t'in rendering process. Component: \\n\\n' +\n\t\t\t\t\t\tserializeVNode(vnode)\n\t\t\t\t\t);\n\n\t\t\t\t\t// Break early to not spam the console\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tkeys.push(key);\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst setState = Component.prototype.setState;\nComponent.prototype.setState = function(update, callback) {\n\tif (this._vnode==null) {\n\t\tconsole.warn(\n\t\t\t`Calling \"this.setState\" inside the constructor of a component is a ` +\n\t\t\t`no-op and might be a bug in your application. Instead, set ` +\n\t\t\t`\"this.state = {}\" directly.`\n\t\t);\n\t}\n\treturn setState.call(this, update, callback);\n};\n\n/**\n * Serialize a vnode tree to a string\n * @param {import('./internal').VNode} vnode\n * @returns {string}\n */\nexport function serializeVNode(vnode) {\n\tlet { props } = vnode;\n\tlet name = getDisplayName(vnode);\n\n\tlet attrs = '';\n\tfor (let prop in props) {\n\t\tif (props.hasOwnProperty(prop) && prop!=='children') {\n\t\t\tlet value = props[prop];\n\n\t\t\t// If it is an object but doesn't have toString(), use Object.toString\n\t\t\tif (typeof value==='function') {\n\t\t\t\tvalue = `function ${value.displayName || value.name}() {}`;\n\t\t\t}\n\n\t\t\tvalue = Object(value) === value && !value.toString\n\t\t\t\t? Object.prototype.toString.call(value)\n\t\t\t\t: value + '';\n\n\t\t\tattrs += ` ${prop}=${JSON.stringify(value)}`;\n\t\t}\n\t}\n\n\tlet children = props.children;\n\treturn `<${name}${attrs}${children && children.length\n\t\t? '>..</'+name+'>'\n\t\t: ' />'}`;\n}\n","/* istanbul ignore file */\nimport { getData, getChildren, getInstance, hasDataChanged, isRoot } from './custom';\n\n/**\n * Custom renderer tailored for Preact. It converts updated vnode trees\n * to events the devtools can understand.\n * @class Renderer\n */\nexport class Renderer {\n\tconstructor(hook, rid) {\n\n\t\t/** @type {string} */\n\t\tthis.rid = rid;\n\t\tthis.hook = hook;\n\n\t\t/** @type {Array<import('../internal').DevtoolsEvent>} */\n\t\tthis.pending = [];\n\n\t\t/**\n\t\t * Store the instance of a vnode. This will be later used to decide if a\n\t\t * vnode needs to be mounted or updated. For components the instance refers\n\t\t * to the actuall class instance whereas for dom nodes it refers to the\n\t\t * underlying dom element.\n\t\t * @type {WeakMap<import('../internal').Component | import('../internal').PreactElement | HTMLElement | Text, import('../internal').VNode>}\n\t\t */\n\t\tthis.inst2vnode = new WeakMap();\n\t\tthis.connected = false;\n\t}\n\n\t/**\n\t * Mark the connection status as ready so that we can proceed\n\t * to actually flush events.\n\t */\n\tmarkConnected() {\n\t\tthis.connected = true;\n\t\tthis.flushPendingEvents();\n\t}\n\n\t/**\n\t * Flush all queued events\n\t */\n\tflushPendingEvents() {\n\t\tif (!this.connected) return;\n\n\t\tlet events = this.pending;\n\t\tthis.pending = [];\n\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\tlet event = events[i];\n\t\t\tthis.hook.emit(event.type, event);\n\t\t}\n\t}\n\n\t/**\n\t * Recursively mount a vnode tree. Note that the devtools expects the tree to\n\t * be mounted from the bottom up, otherwise the order will be messed up.\n\t * Therefore we mount children prior to mounting the vnode itself.\n\t * @param {import('../internal').VNode} vnode\n\t */\n\tmount(vnode) {\n\t\tthis.inst2vnode.set(getInstance(vnode), vnode);\n\t\tlet data = getData(vnode);\n\n\t\t/** @type {Array<import('../internal').DevtoolsEvent>} */\n\t\tlet work = [{\n\t\t\tinternalInstance: vnode,\n\t\t\tdata,\n\t\t\trenderer: this.rid,\n\t\t\ttype: 'mount'\n\t\t}];\n\n\t\t// Children must be mounted first\n\t\tif (Array.isArray(data.children)) {\n\t\t\tlet stack = data.children.slice();\n\t\t\tlet item;\n\t\t\twhile ((item = stack.pop())!=null) {\n\t\t\t\tlet children = getChildren(item);\n\t\t\t\tstack.push(...children);\n\n\t\t\t\tthis.inst2vnode.set(getInstance(item), item);\n\n\t\t\t\tlet data = getData(item);\n\n\t\t\t\twork.push({\n\t\t\t\t\tinternalInstance: item,\n\t\t\t\t\tdata,\n\t\t\t\t\trenderer: this.rid,\n\t\t\t\t\ttype: 'mount'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = work.length; --i>=0;) {\n\t\t\tthis.pending.push(work[i]);\n\t\t}\n\n\t\t// Special event if we have a root\n\t\tif (isRoot(vnode)) {\n\t\t\tthis.pending.push({\n\t\t\t\tinternalInstance: vnode,\n\t\t\t\tdata,\n\t\t\t\trenderer: this.rid,\n\t\t\t\ttype: 'root'\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Update a vnode tree\n\t * @param {import('../internal').VNode} vnode\n\t */\n\tupdate(vnode) {\n\t\tlet data = getData(vnode);\n\n\t\t// Children must be updated first\n\t\tif (Array.isArray(data.children)) {\n\t\t\tfor (let i = 0; i < data.children.length; i++) {\n\t\t\t\tlet child = data.children[i];\n\t\t\t\tlet inst = getInstance(child);\n\n\t\t\t\tlet prevChild = this.inst2vnode.get(inst);\n\t\t\t\tif (prevChild==null) this.mount(child);\n\t\t\t\telse this.update(child);\n\n\t\t\t\t// Mutate child to keep referential equality intact\n\t\t\t\tdata.children[i] = this.inst2vnode.get(inst);\n\t\t\t}\n\t\t}\n\n\t\tlet prev = this.inst2vnode.get(data.publicInstance);\n\n\t\t// The `updateProfileTimes` event is a faster version of `updated` and\n\t\t// is processed much quicker inside the devtools extension.\n\t\tif (!hasDataChanged(prev, vnode)) {\n\t\t\t// Always assume profiling data has changed. When we skip an event here\n\t\t\t// the devtools element picker will somehow break.\n\t\t\tthis.pending.push({\n\t\t\t\t// This property is only used as an id inside the devtools. The\n\t\t\t\t// relevant data will be read from `.data` instead which is a\n\t\t\t\t// normalized structure that every react release adheres to. This\n\t\t\t\t// makes backwards-compatibility easier instead of relying on internal\n\t\t\t\t// vnode/fiber shape.\n\t\t\t\tinternalInstance: prev,\n\t\t\t\tdata,\n\t\t\t\trenderer: this.rid,\n\t\t\t\ttype: 'updateProfileTimes'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.pending.push({\n\t\t\t// This property is only used as an id inside the devtools. The\n\t\t\t// relevant data will be read from `.data` instead which is a\n\t\t\t// normalized structure that every react release adheres to. This\n\t\t\t// makes backwards-compatibility easier instead of relying on internal\n\t\t\t// vnode/fiber shape.\n\t\t\tinternalInstance: prev,\n\t\t\tdata,\n\t\t\trenderer: this.rid,\n\t\t\ttype: 'update'\n\t\t});\n\t}\n\n\t/**\n\t * Pass a rendered tree to the devtools. At this point elements have already\n\t * unmounted, so we don't need to check for removals and only update vs mount\n\t * instead.\n\t * @param {import('../internal').VNode} vnode\n\t */\n\thandleCommitFiberRoot(vnode) {\n\t\tlet inst = getInstance(vnode);\n\n\t\tif (this.inst2vnode.has(inst)) this.update(vnode);\n\t\telse this.mount(vnode);\n\n\t\t// The devtools checks via the existence of this property if the devtools\n\t\t// profiler should be enabled or not. If it is missing from the first root\n\t\t// node the \"Profiler\" tab won't show up.\n\t\t/** @type {import('../internal').VNode} */\n\t\tlet root = null;\n\t\tif (isRoot(vnode)) {\n\n\t\t\t/** @type {*} */\n\t\t\t(vnode).treeBaseDuration = 0;\n\t\t\troot = vnode;\n\t\t}\n\t\telse {\n\t\t\t// \"rootCommitted\" always needs the actual root node for the profiler\n\t\t\t// to be able to collect timings. The `_parent` property will\n\t\t\t// point to a vnode for a root node.\n\t\t\troot = vnode;\n\t\t\twhile (root._parent!=null) {\n\t\t\t\troot = root._parent;\n\t\t\t}\n\t\t}\n\n\t\tthis.pending.push({\n\t\t\tinternalInstance: root,\n\t\t\trenderer: this.rid,\n\t\t\tdata: getData(root),\n\t\t\ttype: 'rootCommitted'\n\t\t});\n\n\t\tthis.flushPendingEvents();\n\t\treturn vnode;\n\t}\n\n\t/**\n\t * Unmount a vnode recursively. Contrary to mounting or updating unmounting needs\n\t * to push the events in parent-first order. Because `options.unmount` is\n\t * already fired in parent-first order we don't need to traverse anything here.\n\t * @param {import('../internal').VNode} vnode\n\t */\n\thandleCommitFiberUnmount(vnode) {\n\t\tlet inst = getInstance(vnode);\n\t\tthis.inst2vnode.delete(inst);\n\n\t\t// Special case when unmounting a root (most prominently caused by webpack's\n\t\t// `hot-module-reloading`). If this happens we need to unmount the virtual\n\t\t// `Fragment` we're wrapping around each root just for the devtools.\n\n\t\tthis.pending.push({\n\t\t\tinternalInstance: vnode,\n\t\t\trenderer: this.rid,\n\t\t\ttype: 'unmount'\n\t\t});\n\t}\n\n\t/**\n\t * Get the dom element by a vnode\n\t * @param {import('../internal').VNode} vnode\n\t * @returns {import('../internal').PreactElement | Text}\n\t */\n\tgetNativeFromReactElement(vnode) {\n\t\treturn vnode._dom;\n\t}\n\n\t/**\n\t * Get a vnode by a dom element\n\t * @param {import('../internal').PreactElement | Text} dom\n\t * @returns {import('../internal').VNode | null}\n\t */\n\tgetReactElementFromNative(dom) {\n\t\treturn this.inst2vnode.get(dom) || null;\n\t}\n\n\t// Unused, but devtools expects it to be there\n\t/* istanbul ignore next */\n\twalkTree() {}\n\n\t// Unused, but devtools expects it to be there\n\t/* istanbul ignore next */\n\tcleanup() {}\n}\n","/* istanbul ignore file */\nimport { options, Component, Fragment } from 'preact';\nimport { Renderer } from './renderer';\n\n/**\n * Wrap function with generic error logging\n *\n * @param {*} fn\n * @returns\n */\nfunction catchErrors(fn) {\n\treturn function(arg) {\n\t\ttry {\n\t\t\treturn fn(arg);\n\t\t}\n\t\tcatch (e) {\n\t\t\t/* istanbul ignore next */\n\t\t\tconsole.error('The react devtools encountered an error');\n\t\t\t/* istanbul ignore next */\n\t\t\tconsole.error(e); // eslint-disable-line no-console\n\t\t}\n\t};\n}\n\n/* istanbul ignore next */\nlet noop = () => undefined;\n\nexport function initDevTools() {\n\t// This global variable is injected by the devtools\n\t/** @type {import('../internal').DevtoolsWindow} */\n\tlet hook = (window).__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\tif (hook==null) return;\n\n\t/** @type {(vnode: import('../internal').VNode) => void} */\n\tlet onCommitRoot = noop;\n\n\t/** @type {(vnode: import('../internal').VNode) => void} */\n\tlet onCommitUnmount = noop;\n\n\t// Initialize our custom renderer\n\tlet rid = Math.random().toString(16).slice(2);\n\tlet preactRenderer = new Renderer(hook, rid);\n\n\tcatchErrors(() => {\n\t\tlet isDev = false;\n\t\ttry {\n\t\t\tisDev = process.env.NODE_ENV!=='production';\n\t\t}\n\t\tcatch (e) {}\n\n\t\t// Tell devtools which bundle type we run in\n\t\twindow.parent.postMessage({\n\t\t\tsource: 'react-devtools-detector',\n\t\t\treactBuildType: /* istanbul ignore next */  isDev\n\t\t\t\t? 'development'\n\t\t\t\t: 'production'\n\t\t}, '*');\n\n\t\tlet renderer = {\n\t\t\tbundleType: /* istanbul ignore next */  isDev ? 1 : 0,\n\t\t\tversion: '16.5.2',\n\t\t\trendererPackageName: 'preact',\n\t\t\t// We don't need this, but the devtools `attachRenderer` function relys\n\t\t\t// it being there.\n\t\t\tfindHostInstanceByFiber(vnode) {\n\t\t\t\treturn vnode._dom;\n\t\t\t},\n\t\t\t// We don't need this, but the devtools `attachRenderer` function relys\n\t\t\t// it being there.\n\t\t\tfindFiberByHostInstance(instance) {\n\t\t\t\treturn preactRenderer.inst2vnode.get(instance) || null;\n\t\t\t}\n\t\t};\n\n\t\tif (!hook._renderers) {\n\t\t\tconsole.info(\n\t\t\t\t'Preact is not compatible with your version of react-devtools. We ' +\n\t\t\t\t'will address this in future releases.'\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\thook._renderers[rid] = renderer;\n\n\t\t// We can't bring our own `attachRenderer` function therefore we simply\n\t\t// prevent the devtools from overwriting our custom renderer by creating\n\t\t// a noop setter.\n\t\tObject.defineProperty(hook.helpers, rid, {\n\t\t\tget: () => preactRenderer,\n\t\t\tset: () => {\n\t\t\t\tif (!preactRenderer.connected) {\n\t\t\t\t\thelpers.markConnected();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tlet helpers = hook.helpers[rid];\n\n\t\t// Tell the devtools that we are ready to start\n\t\thook.emit('renderer-attached', {\n\t\t\tid: rid,\n\t\t\trenderer,\n\t\t\thelpers\n\t\t});\n\n\t\tonCommitRoot = catchErrors(root => {\n\t\t\t// Empty root\n\t\t\tif (root.type===Fragment && root._children.length==0) return;\n\n\t\t\tlet roots = hook.getFiberRoots(rid);\n\t\t\troot = helpers.handleCommitFiberRoot(root);\n\t\t\tif (!roots.has(root)) roots.add(root);\n\t\t});\n\n\t\tonCommitUnmount = catchErrors(vnode => {\n\t\t\thook.onCommitFiberUnmount(rid, vnode);\n\t\t});\n\t})();\n\n\t// Store (possible) previous hooks so that we don't overwrite them\n\tlet prevVNodeHook = options.vnode;\n\tlet prevCommitRoot = options._commit;\n\tlet prevBeforeUnmount = options.unmount;\n\tlet prevBeforeDiff = options._diff;\n\tlet prevAfterDiff = options.diffed;\n\n\toptions.vnode = (vnode) => {\n\t\t// Tiny performance improvement by initializing fields as doubles\n\t\t// from the start. `performance.now()` will always return a double.\n\t\t// See https://github.com/facebook/react/issues/14365\n\t\t// and https://slidr.io/bmeurer/javascript-engine-fundamentals-the-good-the-bad-and-the-ugly\n\t\tvnode.startTime = NaN;\n\t\tvnode.endTime = NaN;\n\n\t\tvnode.startTime = 0;\n\t\tvnode.endTime = -1;\n\t\tif (prevVNodeHook) prevVNodeHook(vnode);\n\t};\n\n\toptions._diff = (vnode) => {\n\t\tvnode.startTime = now();\n\t\tif (prevBeforeDiff!=null) prevBeforeDiff(vnode);\n\t};\n\n\toptions.diffed = (vnode) => {\n\t\tvnode.endTime = now();\n\t\tif (prevAfterDiff!=null) prevAfterDiff(vnode);\n\t};\n\n\toptions._commit = catchErrors((vnode) => {\n\t\t// Call previously defined hook\n\t\tif (prevCommitRoot!=null) prevCommitRoot(vnode);\n\n\t\t// These cases are already handled by `unmount`\n\t\tif (vnode==null) return;\n\t\tonCommitRoot(vnode);\n\t});\n\n\toptions.unmount = catchErrors((vnode) => {\n\t\t// Call previously defined hook\n\t\tif (prevBeforeUnmount!=null) prevBeforeUnmount(vnode);\n\t\tonCommitUnmount(vnode);\n\t});\n\n\t// Inject tracking into setState\n\tconst setState = Component.prototype.setState;\n\tComponent.prototype.setState = function(update, callback) {\n\t\t// Duplicated in setState() but doesn't matter due to the guard.\n\t\tlet s = (this._nextState!==this.state && this._nextState) || (this._nextState = Object.assign({}, this.state));\n\n\t\t// Needed in order to check if state has changed after the tree has been committed:\n\t\tthis._prevState = Object.assign({}, s);\n\n\t\treturn setState.call(this, update, callback);\n\t};\n}\n\n/**\n * Get current timestamp in ms. Used for profiling.\n * @returns {number}\n */\nexport let now = Date.now;\n\ntry {\n\t/* istanbul ignore else */\n\tnow = performance.now.bind(performance);\n}\ncatch (e) {}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { Component, createElement, _unmount as unmount, options } from 'preact';\nimport { removeNode } from '../../src/util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode) {\n\tif (error.then && oldVNode) {\n\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; vnode = vnode._parent;) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (oldVNode) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\n\t\t\t\tcomponent._childDidSuspend(error);\n\t\t\t\treturn; // Don't call oldCatchError if we found a Suspense\n\t\t\t}\n\t\t}\n\t}\n\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nfunction detachDom(children) {\n\tfor (let i = 0; i < children.length; i++) {\n\t\tlet child = children[i];\n\t\tif (child != null) {\n\t\t\tif (typeof child.type !== 'function' && child._dom) {\n\t\t\t\tremoveNode(child._dom);\n\t\t\t}\n\t\t\telse if (child._children) {\n\t\t\t\tdetachDom(child._children);\n\t\t\t}\n\t\t}\n\t}\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._suspensions = [];\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @param {Promise} promise The thrown promise\n */\nSuspense.prototype._childDidSuspend = function(promise) {\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\tc._suspensions.push(promise);\n\n\tconst onSuspensionComplete = () => {\n\t\t// From https://twitter.com/Rich_Harris/status/1125850391155965952\n\t\tc._suspensions[c._suspensions.indexOf(promise)] = c._suspensions[c._suspensions.length - 1];\n\t\tc._suspensions.pop();\n\n\t\tif (c._suspensions.length == 0) {\n\t\t\tunmount(c.props.fallback);\n\t\t\tc._vnode._dom = null;\n\n\t\t\tc._vnode._children = c.state._parkedChildren;\n\t\t\tc.setState({ _parkedChildren: null });\n\t\t}\n\t};\n\n\tif (c.state._parkedChildren == null) {\n\t\tc.setState({ _parkedChildren: c._vnode._children });\n\t\tdetachDom(c._vnode._children);\n\t\tc._vnode._children = [];\n\t}\n\n\tpromise.then(onSuspensionComplete, onSuspensionComplete);\n};\n\nSuspense.prototype.render = function(props, state) {\n\treturn state._parkedChildren ? props.fallback : props.children;\n};\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\t(exports) => { component = exports.default; },\n\t\t\t\t(e) => { error = e; },\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isClient = typeof window === 'object';\nexports.on = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.addEventListener.apply(obj, args);\n};\nexports.off = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.removeEventListener.apply(obj, args);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar util_1 = require(\"./util\");\nvar defaultTarget = util_1.isClient ? window : null;\nvar useEvent = function (name, handler, target, options) {\n    if (target === void 0) { target = defaultTarget; }\n    react_1.useEffect(function () {\n        if (!handler) {\n            return;\n        }\n        if (!target) {\n            return;\n        }\n        var fn = target.addEventListener || target.on;\n        fn.call(target, name, handler, options);\n        return function () {\n            var cleanFn = target.removeEventListener || target.off;\n            cleanFn.call(target, name, handler, options);\n        };\n    }, [name, handler, target, JSON.stringify(options)]);\n};\nexports.default = useEvent;\n","'use strict';\n\nvar KEBAB_REGEX = /[A-Z]/g;\n\nvar hash = function (str) {\n    var hash = 5381, i = str.length;\n\n    while (i) hash = (hash * 33) ^ str.charCodeAt(--i);\n\n    return '_' + (hash >>> 0).toString(36);\n};\n\nexports.create = function (config) {\n    config = config || {};\n    var assign = config.assign || Object.assign;\n    var client = typeof window === 'object';\n\n    // Check if we are really in browser environment.\n    if (process.env.NODE_ENV !== 'production') {\n        if (client) {\n            if ((typeof document !== 'object') || !document.getElementsByTagName('HTML')) {\n                console.error(\n                    'nano-css detected browser environment because of \"window\" global, but ' +\n                    '\"document\" global seems to be defective.'\n                );\n            }\n        }\n    }\n\n    var renderer = assign({\n        raw: '',\n        pfx: '_',\n        client: client,\n        assign: assign,\n        stringify: JSON.stringify,\n        kebab: function (prop) {\n            return prop.replace(KEBAB_REGEX, '-$&').toLowerCase();\n        },\n        decl: function (key, value) {\n            key = renderer.kebab(key);\n            return key + ':' + value + ';';\n        },\n        hash: function (obj) {\n            return hash(renderer.stringify(obj));\n        },\n        selector: function (parent, selector) {\n            return parent + (selector[0] === ':' ? ''  : ' ') + selector;\n        },\n        putRaw: function (rawCssRule) {\n            renderer.raw += rawCssRule;\n        },\n    }, config);\n\n    if (renderer.client) {\n        if (!renderer.sh)\n            document.head.appendChild(renderer.sh = document.createElement('style'));\n\n        if (process.env.NODE_ENV !== 'production') {\n            renderer.sh.setAttribute('data-nano-css-dev', '');\n\n            // Test style sheet used in DEV mode to test if .insetRule() would throw.\n            renderer.shTest = document.createElement('style');\n            renderer.shTest.setAttribute('data-nano-css-dev-tests', '');\n            document.head.appendChild(renderer.shTest);\n        }\n\n        renderer.putRaw = function (rawCssRule) {\n            // .insertRule() is faster than .appendChild(), that's why we use it in PROD.\n            // But CSS injected using .insertRule() is not displayed in Chrome Devtools,\n            // that's why we use .appendChild in DEV.\n            if (process.env.NODE_ENV === 'production') {\n                var sheet = renderer.sh.sheet;\n\n                // Unknown pseudo-selectors will throw, this try/catch swallows all errors.\n                try {\n                    sheet.insertRule(rawCssRule, sheet.cssRules.length);\n                // eslint-disable-next-line no-empty\n                } catch (error) {}\n            } else {\n                // Test if .insertRule() works in dev mode. Unknown pseudo-selectors will throw when\n                // .insertRule() is used, but .appendChild() will not throw.\n                try {\n                    renderer.shTest.sheet.insertRule(rawCssRule, renderer.shTest.sheet.cssRules.length);\n                } catch (error) {\n                    if (config.verbose) {\n                        console.error(error);\n                    }\n                }\n\n                // Insert pretty-printed CSS for dev mode.\n                renderer.sh.appendChild(document.createTextNode(rawCssRule));\n            }\n        };\n    }\n\n    renderer.put = function (selector, decls, atrule) {\n        var str = '';\n        var prop, value;\n        var postponed = [];\n\n        for (prop in decls) {\n            value = decls[prop];\n\n            if ((value instanceof Object) && !(value instanceof Array)) {\n                postponed.push(prop);\n            } else {\n                if ((process.env.NODE_ENV !== 'production') && !renderer.sourcemaps) {\n                    str += '    ' + renderer.decl(prop, value, selector, atrule) + '\\n';\n                } else {\n                    str += renderer.decl(prop, value, selector, atrule);\n                }\n            }\n        }\n\n        if (str) {\n            if ((process.env.NODE_ENV !== 'production') && !renderer.sourcemaps) {\n                str = '\\n' + selector + ' {\\n' + str + '}\\n';\n            } else {\n                str = selector + '{' + str + '}';\n            }\n            renderer.putRaw(atrule ? atrule + '{' + str + '}' : str);\n        }\n\n        for (var i = 0; i < postponed.length; i++) {\n            prop = postponed[i];\n\n            if (prop[0] === \"@\" && prop !== \"@font-face\") {\n                renderer.putAt(selector, decls[prop], prop);\n            } else {\n                renderer.put(renderer.selector(selector, prop), decls[prop], atrule);\n            }\n        }\n    };\n\n    renderer.putAt = renderer.put;\n\n    return renderer;\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('rule', renderer, ['put']);\n    }\n\n    var blocks;\n\n    if (process.env.NODE_ENV !== 'production') {\n        blocks = {};\n    }\n\n    renderer.rule = function (css, block) {\n        // Warn user if CSS selectors clash.\n        if (process.env.NODE_ENV !== 'production') {\n            if (block) {\n                if (typeof block !== 'string') {\n                    throw new TypeError(\n                        'nano-css block name must be a string. ' +\n                        'For example, use nano.rule({color: \"red\", \"RedText\").'\n                    );\n                }\n\n                if (blocks[block]) {\n                    console.error('Block name \"' + block + '\" used more than once.');\n                }\n\n                blocks[block] = 1;\n            }\n        }\n\n        block = block || renderer.hash(css);\n        block = renderer.pfx + block;\n        renderer.put('.' + block, css);\n\n        return ' ' + block;\n    };\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    var cache = {};\n\n    renderer.cache = function (css) {\n        if (!css) return '';\n\n        var key = renderer.hash(css);\n\n        if (!cache[key]) {\n            cache[key] = renderer.rule(css, key);\n        }\n\n        return cache[key];\n    };\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('hydrate', renderer, ['put']);\n    }\n\n    var hydrated = {};\n\n    renderer.hydrate = function (sh) {\n        var cssRules = sh.cssRules || sh.sheet.cssRules;\n\n        for (var i = 0; i < cssRules.length; i++)\n            hydrated[cssRules[i].selectorText] = 1;\n    };\n\n    if (renderer.client) {\n        if (renderer.sh) renderer.hydrate(renderer.sh);\n\n        var put = renderer.put;\n\n        renderer.put = function (selector, css) {\n            if (selector in hydrated) {\n                if (process.env.NODE_ENV !== 'production') {\n                    // eslint-disable-next-line\n                    console.info('Hydrated selector: ' + selector);\n                }\n\n                return;\n            }\n\n            put(selector, css);\n        };\n    }\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    renderer.selector = function (parentSelectors, selector) {\n        var parents = parentSelectors.split(',');\n        var result = [];\n        var selectors = selector.split(',');\n        var len1 = parents.length;\n        var len2 = selectors.length;\n        var i, j, sel, pos, parent, replacedSelector;\n\n        for (i = 0; i < len2; i++) {\n            sel = selectors[i];\n            pos = sel.indexOf('&');\n\n            if (pos > -1) {\n                for (j = 0; j < len1; j++) {\n                    parent = parents[j];\n                    replacedSelector = sel.replace(/&/g, parent);\n                    result.push(replacedSelector);\n                }\n            } else {\n                for (j = 0; j < len1; j++) {\n                    parent = parents[j];\n\n                    if (parent) {\n                        result.push(parent + ' ' + sel);\n                    } else {\n                        result.push(sel);\n                    }\n                }\n            }\n        }\n\n        return result.join(',');\n    };\n};\n","import { create } from \"nano-css\";\n\nimport { addon as addonRule } from \"nano-css/addon/rule\";\nimport { addon as addonCache } from \"nano-css/addon/cache\";\nimport { addon as addonHydrate } from \"nano-css/addon/hydrate\";\nimport { addon as addonNesting } from \"nano-css/addon/nesting\";\nimport { CssLikeObject } from \"nano-css/types/common\";\n\nconst nano = create({\n  pfx: \"fd\",\n  sh: document.getElementById(\"nano-css\") as any\n});\n\naddonRule(nano);\naddonCache(nano);\naddonHydrate(nano);\naddonNesting(nano);\n\nexport default Object.assign(nano, {\n  putMany(obj: Record<string, CssLikeObject>) {\n    for (const key in obj) {\n      nano.put(key, obj[key]);\n    }\n  }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TagMap = /** @class */ (function () {\n    function TagMap() {\n        this._tagToListeners = new WeakMap();\n        this._listenerToTags = new WeakMap();\n    }\n    TagMap.prototype.setListeners = function (listener) {\n        var _this = this;\n        var tags = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            tags[_i - 1] = arguments[_i];\n        }\n        var tagSet = this._listenerToTags.get(listener) || new Set();\n        tags.forEach(function (tag) {\n            var listenerSet = _this._tagToListeners.get(tag) || new Set();\n            listenerSet.add(listener);\n            tagSet.add(tag);\n            _this._tagToListeners.set(tag, listenerSet);\n        });\n        this._listenerToTags.set(listener, tagSet);\n    };\n    TagMap.prototype.getListeners = function (tag) {\n        return this._tagToListeners.get(tag) || new Set();\n    };\n    TagMap.prototype.getTags = function (listener) {\n        return this._listenerToTags.get(listener) || new Set();\n    };\n    TagMap.prototype.clearListener = function (listener) {\n        var _this = this;\n        var tags = this.getTags(listener);\n        this._listenerToTags.delete(listener);\n        tags.forEach(function (tag) {\n            var listenerSet = _this.getListeners(tag);\n            listenerSet.delete(listener);\n            if (listenerSet.size === 0) {\n                _this._tagToListeners.delete(tag);\n            }\n        });\n    };\n    return TagMap;\n}());\nexports.TagMap = TagMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tag_map_1 = require(\"./tag-map\");\nvar ExtendedSignal = /** @class */ (function () {\n    function ExtendedSignal(_baseSignal) {\n        this._baseSignal = _baseSignal;\n        this._tagMap = new tag_map_1.TagMap();\n    }\n    ExtendedSignal.merge = function () {\n        var signals = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            signals[_i] = arguments[_i];\n        }\n        var listeners = new Map();\n        return new ExtendedSignal({\n            add: function (listener) {\n                var newListener = function (payload) { return listener(payload); };\n                listeners.set(listener, newListener);\n                signals.forEach(function (signal) { return signal.add(newListener); });\n            },\n            remove: function (listener) {\n                var newListener = listeners.get(listener);\n                listeners.delete(listener);\n                signals.forEach(function (signal) { return signal.remove(newListener); });\n            },\n        });\n    };\n    ExtendedSignal.promisify = function (resolveSignal, rejectSignal) {\n        return new Promise(function (resolve, reject) {\n            function clearListeners() {\n                resolveSignal.remove(completeResolution);\n                if (rejectSignal) {\n                    rejectSignal.remove(completeRejection);\n                }\n            }\n            function completeRejection(payload) {\n                clearListeners();\n                reject(payload);\n            }\n            function completeResolution(payload) {\n                clearListeners();\n                resolve(payload);\n            }\n            resolveSignal.add(completeResolution);\n            if (rejectSignal) {\n                rejectSignal.add(completeRejection);\n            }\n        });\n    };\n    ExtendedSignal.prototype.add = function (listener) {\n        var tags = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            tags[_i - 1] = arguments[_i];\n        }\n        var _a;\n        (_a = this._tagMap).setListeners.apply(_a, [listener].concat(tags));\n        this._baseSignal.add(listener);\n    };\n    ExtendedSignal.prototype.remove = function (listenerOrTag) {\n        var _this = this;\n        this._tagMap.getListeners(listenerOrTag)\n            .forEach(function (taggedListener) {\n            _this._baseSignal.remove(taggedListener);\n            _this._tagMap.clearListener(taggedListener);\n        });\n        this._baseSignal.remove(listenerOrTag);\n        this._tagMap.clearListener(listenerOrTag);\n    };\n    ExtendedSignal.prototype.addOnce = function (listener) {\n        var _this = this;\n        var tags = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            tags[_i - 1] = arguments[_i];\n        }\n        var _a;\n        // to match the set behavior of add, only add the listener if the listener is not already\n        // registered, don't add the same listener twice\n        if (this._tagMap.getListeners(listener).size > 0) {\n            return;\n        }\n        var oneTimeListener = function (payload) {\n            _this._baseSignal.remove(oneTimeListener);\n            listener(payload);\n        };\n        (_a = this._tagMap).setListeners.apply(_a, [oneTimeListener, listener].concat(tags));\n        this._baseSignal.add(oneTimeListener);\n    };\n    ExtendedSignal.prototype.filter = function (filter) {\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) {\n            if (filter(payload)) {\n                listener(payload);\n            }\n        }; });\n    };\n    ExtendedSignal.prototype.map = function (transform) {\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) { return listener(transform(payload)); }; });\n    };\n    ExtendedSignal.prototype.merge = function () {\n        var signals = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            signals[_i] = arguments[_i];\n        }\n        return ExtendedSignal.merge.apply(ExtendedSignal, [this._baseSignal].concat(signals));\n    };\n    ExtendedSignal.prototype.promisify = function (rejectSignal) {\n        return ExtendedSignal.promisify(this._baseSignal, rejectSignal);\n    };\n    ExtendedSignal.prototype.readOnly = function () {\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) { return listener(payload); }; });\n    };\n    ExtendedSignal.prototype.cache = function (cache) {\n        this._baseSignal.add(function (payload) { return cache.add(payload); });\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) { return listener(payload); }; }, function (listener, listenerActive) {\n            cache.forEach(function (payload) {\n                if (listenerActive()) {\n                    listener(payload);\n                }\n            });\n        });\n    };\n    return ExtendedSignal;\n}());\nexports.ExtendedSignal = ExtendedSignal;\n/**\n * Provides a new signal, with its own set of listeners, and the ability to transform listeners that\n * are added to the new signal.\n */\nfunction convertedListenerSignal(baseSignal, convertListener, postAddHook) {\n    var listenerMap = new Map();\n    return new ExtendedSignal({\n        add: function (listener) {\n            var newListener = convertListener(listener);\n            listenerMap.set(listener, newListener);\n            baseSignal.add(newListener);\n            if (postAddHook) {\n                postAddHook(listener, function () { return listenerMap.has(listener); });\n            }\n        },\n        remove: function (listener) {\n            var newListener = listenerMap.get(listener);\n            listenerMap.delete(listener);\n            // TODO undefined ok in other case\n            if (newListener !== undefined) {\n                baseSignal.remove(newListener);\n            }\n        },\n    });\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extended_signal_1 = require(\"./extended-signal\");\nvar Signal = /** @class */ (function (_super) {\n    __extends(Signal, _super);\n    function Signal() {\n        var _this = _super.call(this, {\n            add: function (listener) {\n                _this._listeners.add(listener);\n            },\n            remove: function (listener) {\n                _this._listeners.delete(listener);\n            },\n        }) || this;\n        _this._listeners = new Set();\n        _this._instanceDefaultListener = function (payload) { return Signal._staticDefaultListener(payload); };\n        return _this;\n    }\n    Signal.setDefaultListener = function (listener) {\n        Signal._staticDefaultListener = listener;\n    };\n    Signal.prototype.dispatch = function (payload) {\n        if (this._listeners.size === 0) {\n            var instanceDefaultListener = this._instanceDefaultListener;\n            instanceDefaultListener(payload);\n            return;\n        }\n        this._listeners.forEach(function (callback) { return callback.call(undefined, payload); });\n    };\n    Signal.prototype.setDefaultListener = function (listener) {\n        this._instanceDefaultListener = listener;\n    };\n    Signal._staticDefaultListener = function () {\n        // default static listener is a noop\n    };\n    return Signal;\n}(extended_signal_1.ExtendedSignal));\nexports.Signal = Signal;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayCache = /** @class */ (function () {\n    function ArrayCache() {\n        this._payloads = [];\n    }\n    ArrayCache.prototype.forEach = function (callback) {\n        this._payloads.forEach(function (value) { return callback(value); });\n    };\n    return ArrayCache;\n}());\nexports.ArrayCache = ArrayCache;\nvar ValueCache = /** @class */ (function (_super) {\n    __extends(ValueCache, _super);\n    function ValueCache() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ValueCache.prototype.add = function (value) {\n        this._payloads = [value];\n    };\n    return ValueCache;\n}(ArrayCache));\nexports.ValueCache = ValueCache;\nvar CollectionCache = /** @class */ (function (_super) {\n    __extends(CollectionCache, _super);\n    function CollectionCache() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CollectionCache.prototype.add = function (value) {\n        this._payloads.push(value);\n    };\n    return CollectionCache;\n}(ArrayCache));\nexports.CollectionCache = CollectionCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar signal_1 = require(\"./signal\");\nexports.Signal = signal_1.Signal;\nvar extended_signal_1 = require(\"./extended-signal\");\nexports.ExtendedSignal = extended_signal_1.ExtendedSignal;\nvar caches_1 = require(\"./caches\");\nexports.ValueCache = caches_1.ValueCache;\nexports.CollectionCache = caches_1.CollectionCache;\n","//@ts-ignore\nimport WASM from \"../../zig-cache/fundude.wasm\";\n\nimport { Signal } from \"micro-signals\";\n\nObject.assign(window, { WASM });\n\nexport interface PtrMatrix extends PtrArray {\n  width: number;\n  height: number;\n}\n\nexport class PtrArray {\n  public base: Uint8Array;\n  readonly ptr: number;\n  readonly _length: number;\n\n  constructor(ptr: number, length: number) {\n    this.ptr = ptr;\n    this._length = length;\n    this.base = new Uint8Array(WASM.memory.buffer, ptr, length);\n  }\n\n  static clone(array: Uint8Array): PtrArray {\n    const ptr = WASM.malloc(array.length);\n    const ptrArray = new PtrArray(ptr, array.length);\n    ptrArray.base.set(array);\n    return ptrArray;\n  }\n\n  static matrix(ptr: number, width: number, height: number): PtrMatrix {\n    return Object.assign(new PtrArray(ptr, width * height), {\n      width,\n      height\n    });\n  }\n\n  length(): number {\n    if (this.base.length == 0) {\n      this.base = new Uint8Array(WASM.memory.buffer, this.ptr, this._length);\n    }\n\n    return this.base.length;\n  }\n}\n\nfunction toUTF8(ptr: number) {\n  const scan = new Uint8Array(WASM.memory.buffer, ptr);\n  const end = scan.findIndex(c => c === 0);\n  const rawBytes = scan.subarray(0, end);\n  return new TextDecoder(\"utf-8\").decode(rawBytes);\n}\n\nexport const MMU_OFFSETS = {\n  shift: 0x8000,\n  segments: [\n    { start: 0x8000, end: 0xa000 - 1, name: \"vram\" },\n    { start: 0xc000, end: 0xe000 - 1, name: \"ram\" },\n    { start: 0xfe00, end: 0xfea0 - 1, name: \"oam\" },\n    { start: 0xff00, end: 0xff4c - 1, name: \"io\" },\n    { start: 0xff80, end: 0xffff - 1, name: \"himem\" }\n  ]\n};\n\nenum InputBitMapping {\n  right = 1,\n  left = 2,\n  up = 4,\n  down = 8,\n\n  a = 16,\n  b = 32,\n  select = 64,\n  start = 128\n}\n\nexport type Input = keyof typeof InputBitMapping;\n\nexport default class FundudeWasm {\n  public changed = new Signal<void>();\n\n  private readonly pointer: number;\n  cart!: Uint8Array;\n  private cartClone?: PtrArray;\n\n  readonly width: number;\n  readonly height: number;\n\n  constructor(cart: Uint8Array) {\n    this.pointer = WASM.fd_alloc();\n    this.init(cart);\n\n    this.width = 160;\n    this.height = 144;\n  }\n\n  display() {\n    return PtrArray.matrix(this.pointer, this.width, this.height);\n  }\n\n  background() {\n    return PtrArray.matrix(WASM.fd_background_ptr(this.pointer), 256, 256);\n  }\n\n  window() {\n    return PtrArray.matrix(WASM.fd_window_ptr(this.pointer), 256, 256);\n  }\n\n  spritesheet() {\n    return PtrArray.matrix(WASM.fd_spritesheet_ptr(this.pointer), 8, 8 * 40);\n  }\n\n  patterns() {\n    return PtrArray.matrix(WASM.fd_patterns_ptr(this.pointer), 8, 8 * 128 * 3);\n  }\n\n  cpu() {\n    const raw = new PtrArray(WASM.fd_cpu_ptr(this.pointer), 12);\n    return Object.assign(raw, {\n      AF: () => raw.base[0] + (raw.base[1] << 8),\n      BC: () => raw.base[2] + (raw.base[3] << 8),\n      DE: () => raw.base[4] + (raw.base[5] << 8),\n      HL: () => raw.base[6] + (raw.base[7] << 8),\n      SP: () => raw.base[8] + (raw.base[9] << 8),\n      PC: () => raw.base[10] + (raw.base[11] << 8)\n    });\n  }\n\n  mmu() {\n    return new PtrArray(WASM.fd_mmu_ptr(this.pointer), 0x8000);\n  }\n\n  init(cart: Uint8Array) {\n    if (this.cartClone) {\n      WASM.free(this.cartClone.ptr);\n    }\n\n    this.cart = cart;\n    this.cartClone = PtrArray.clone(cart);\n\n    const status = WASM.fd_init(this.pointer, cart.length, this.cartClone.ptr);\n    switch (status) {\n      case 0:\n        break;\n      case 1:\n        throw new Error(\"Cart unsupported\");\n      case 2:\n        throw new Error(\"Cart size invalid\");\n      case 3:\n        throw new Error(\"Cart ram size error\");\n      default:\n        throw new Error(\"Unknown error\");\n    }\n\n    this.changed.dispatch();\n  }\n\n  dealloc() {\n    if (this.cartClone) {\n      WASM.free(this.cartClone.ptr);\n    }\n    WASM.free(this.pointer);\n  }\n\n  breakpoint: number = -1;\n  setBreakpoint(bp: number) {\n    this.breakpoint = bp;\n    WASM.fd_set_breakpoint(this.pointer, bp);\n    this.changed.dispatch();\n  }\n\n  reset() {\n    WASM.fd_reset(this.pointer);\n    this.changed.dispatch();\n  }\n\n  step(): number {\n    const cycles = WASM.fd_step(this.pointer);\n    this.changed.dispatch();\n    return cycles;\n  }\n\n  stepFrame(frames = 1): number {\n    const cycles = WASM.fd_step_frames(this.pointer, frames);\n    this.changed.dispatch();\n    return cycles;\n  }\n\n  _inputStatus(raw: number): Record<Input, boolean> {\n    const mapping = {} as Record<Input, boolean>;\n    for (let bit = 0; bit < 8; bit++) {\n      const mask = 1 << bit;\n      const input = InputBitMapping[mask];\n      const value = Boolean(raw & mask);\n      mapping[input] = value;\n    }\n    return mapping;\n  }\n\n  inputPress(input: Input) {\n    const val = InputBitMapping[input];\n    return this._inputStatus(WASM.fd_input_press(this.pointer, val));\n  }\n\n  inputRelease(input: Input) {\n    const val = InputBitMapping[input];\n    return this._inputStatus(WASM.fd_input_release(this.pointer, val));\n  }\n\n  inputReleaseAll() {\n    return this._inputStatus(WASM.fd_input_release(this.pointer, 0xff));\n  }\n\n  static *disassemble(cart: Uint8Array): IterableIterator<[number, string]> {\n    const fd = new FundudeWasm(cart);\n    try {\n      while (true) {\n        const addr = fd.cpu().PC();\n        const outPtr = WASM.fd_disassemble(fd.pointer);\n        if (!outPtr) {\n          return;\n        }\n        yield [addr, toUTF8(outPtr)];\n      }\n    } finally {\n      fd.dealloc();\n    }\n  }\n}\n","import React from \"react\";\nimport FundudeWasm from \".\";\n\ninterface Item {\n  fd: FundudeWasm;\n  run: () => void;\n  pause: () => void;\n}\n\ninterface Props {\n  autoBoot: boolean;\n  bootCart: Uint8Array;\n  children: React.ReactNode;\n}\n\ninterface State {\n  fd: FundudeWasm;\n  isRunning: boolean;\n}\n\nexport const Context = React.createContext<Item>(null!);\n\nexport class Provider extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      fd: new FundudeWasm(props.bootCart),\n      isRunning: false\n    };\n\n    Object.assign(window, { fd: this.state.fd });\n\n    this.handleChange = this.handleChange.bind(this);\n    this.run = this.run.bind(this);\n    this.pause = this.pause.bind(this);\n    this.spin = this.spin.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.autoBoot) {\n      this.run();\n    } else {\n      this.state.fd.changed.add(this.handleChange);\n    }\n  }\n\n  handleChange() {\n    this.forceUpdate();\n  }\n\n  spin() {\n    if (!this.state.isRunning) {\n      return;\n    }\n\n    this.state.fd.stepFrame();\n\n    if (this.state.fd.cpu().PC() === this.state.fd.breakpoint) {\n      return this.pause();\n    }\n\n    requestAnimationFrame(this.spin);\n  }\n\n  run() {\n    if (!this.state.isRunning) {\n      this.state.fd.changed.remove(this.handleChange);\n      this.setState({ isRunning: true }, this.spin);\n    }\n  }\n\n  pause() {\n    if (this.state.isRunning) {\n      this.state.fd.changed.add(this.handleChange);\n      this.setState({ isRunning: false });\n    }\n  }\n\n  render() {\n    if (!this.state.fd) {\n      return null;\n    }\n\n    return (\n      <Context.Provider\n        value={{ fd: this.state.fd, run: this.run, pause: this.pause }}\n      >\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport default { Context, Provider };\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Signal } from \"micro-signals\";\n\nimport nano from \"./nano\";\nimport { PtrMatrix } from \"../wasm\";\n\nconst CSS = {\n  root: nano.rule({\n    backgroundColor: \"white\"\n  }),\n\n  grid: nano.rule({\n    backgroundSize: `8px 8px`,\n    backgroundImage: [\n      \"linear-gradient(to right, lightgray 2px, transparent 1px)\",\n      \"linear-gradient(to bottom, lightgray 2px, transparent 1px)\"\n    ].join(\",\")\n  })\n};\n\nconst PADDING = 1;\n\nconst PALETTE: Record<number, Uint8Array> = {\n  0: Uint8Array.of(15, 56, 15, 0),\n  1: Uint8Array.of(15, 56, 15, 85),\n  2: Uint8Array.of(15, 56, 15, 170),\n  3: Uint8Array.of(15, 56, 15, 255)\n};\n\nfunction imageData(pixels: PtrMatrix) {\n  const imageData = new ImageData(pixels.width, pixels.height);\n  for (let i = 0; i < pixels.length(); i++) {\n    const colorIndex = pixels.base[i];\n    const color = PALETTE[colorIndex] || Uint8Array.of(255, 0, 0, 255);\n    imageData.data.set(color, 4 * i);\n  }\n  return imageData;\n}\n\nexport default function Display(props: {\n  className?: string;\n  pixels: PtrMatrix;\n  scale?: number;\n  signal?: Signal<any>;\n}) {\n  const ref = React.useRef<HTMLCanvasElement>(null);\n  const render = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    const ctx = ref.current.getContext(\"2d\")!;\n    ctx.putImageData(imageData(props.pixels), PADDING, PADDING);\n  }, [ref.current]);\n\n  React.useEffect(render);\n\n  React.useEffect(() => {\n    if (props.signal) {\n      const signal = props.signal;\n      signal.add(render);\n      return () => signal.remove(render);\n    }\n  }, [props.signal]);\n\n  const scale = props.scale || 1;\n  const width = props.pixels.width + PADDING * 2;\n  const height = props.pixels.height + PADDING * 2;\n\n  return (\n    <canvas\n      className={classnames(CSS.root, props.className, {\n        [CSS.grid]: scale === 1\n      })}\n      ref={ref}\n      width={width}\n      height={height}\n      style={{ width: width * scale }}\n    />\n  );\n}\n","export function mapObject<E>(\n  obj: any,\n  callback: (value: any, key?: string) => E\n): E[] {\n  const result = [];\n  for (const key in obj) {\n    result.push(callback(obj[key], key));\n  }\n  return result;\n}\n\ntype Indexable = string | number | symbol;\n\nexport function fromEntries<K extends Indexable, V>(\n  entries: Iterable<[K, V]>\n): Record<K, V> {\n  const result = {} as Record<K, V>;\n  for (const [key, value] of entries) {\n    result[key] = value;\n  }\n  return result;\n}\n","export function deferred<T>() {\n  let resolve: (value?: T | PromiseLike<T> | undefined) => void;\n  let reject: (reason?: any) => void;\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return Object.assign(promise, { resolve: resolve!, reject: reject! });\n}\n\nexport function nextAnimationFrame() {\n  return new Promise(requestAnimationFrame);\n}\n\nexport function readAsArray(file: File) {\n  const reader = new FileReader();\n  return new Promise<ArrayBuffer>((resolve, reject) => {\n    reader.onload = evt => resolve((evt as any).target.result);\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n}\n","import sheepitup from \"./sheepitup.gb\";\n\nexport default { sheepitup };\n","import cpu_01_special from \"./cpu-01-special.gb\";\nimport cpu_02_interrupts from \"./cpu-02-interrupts.gb\";\nimport cpu_03_op_sp_hl from \"./cpu-03-op-sp-hl.gb\";\nimport cpu_04_op_r_imm from \"./cpu-04-op-r-imm.gb\";\nimport cpu_05_op_rp from \"./cpu-05-op-rp.gb\";\nimport cpu_06_ld_r_r from \"./cpu-06-ld-r-r.gb\";\nimport cpu_07_jr_jp_call_ret_rst from \"./cpu-07-jr-jp-call-ret-rst.gb\";\nimport cpu_08_misc_instrs from \"./cpu-08-misc-instrs.gb\";\nimport cpu_09_op_r_r from \"./cpu-09-op-r-r.gb\";\nimport cpu_10_bit_ops from \"./cpu-10-bit-ops.gb\";\nimport cpu_11_op_a_hl from \"./cpu-11-op-a-hl.gb\";\n\nexport default {\n  cpu_01_special,\n  cpu_02_interrupts,\n  cpu_03_op_sp_hl,\n  cpu_04_op_r_imm,\n  cpu_05_op_rp,\n  cpu_06_ld_r_r,\n  cpu_07_jr_jp_call_ret_rst,\n  cpu_08_misc_instrs,\n  cpu_09_op_r_r,\n  cpu_10_bit_ops,\n  cpu_11_op_a_hl\n};\n","import blargg from \"./blargg\";\n\nexport default { blargg };\n","import React from \"react\";\nimport cx from \"classnames\";\n\nimport nano from \"./nano\";\nimport { mapObject } from \"./smalldash\";\nimport { readAsArray } from \"./promise\";\n\nimport FD from \"../wasm/react\";\n\nimport ROMS from \"../roms\";\nimport DEBUG_ROMS from \"../roms/debug\";\n\nconst CSS = {\n  root: nano.rule({\n    position: \"relative\",\n    zIndex: 1,\n    width: \"350px\",\n    textAlign: \"center\"\n  }),\n\n  toggler: nano.rule({\n    position: \"relative\",\n    display: \"block\",\n    zIndex: 1,\n    font: \"12px monospace\",\n    width: \"100%\",\n    border: \"none\",\n    padding: \"0 10px\",\n    background: \"#d9d9d9\",\n    borderRadius: \"3px 3px 0 0\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\"\n  }),\n\n  selector: nano.rule({\n    position: \"absolute\",\n    overflow: \"hidden\",\n    top: \"100%\",\n    width: \"100%\",\n    background: \"rgba(255, 255, 255, 0.8)\",\n    transition: \"300ms ease-in-out height\",\n    padding: \"0 10px\",\n    height: \"0\",\n    borderRadius: \"0 0 3px 3px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n\n    \"&.active\": {\n      height: \"350px\"\n    }\n  }),\n\n  selectorList: nano.rule({\n    font: \"14px monospace\",\n    flex: 1,\n    overflow: \"hidden\",\n  }),\n\n  backdrop: nano.rule({\n    position: \"fixed\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    background: \"#000000\",\n    opacity: 0,\n    transition: \"300ms ease-in-out opacity\",\n    pointerEvents: \"none\",\n\n    \"&.active\": {\n      pointerEvents: \"initial\",\n      opacity: 0.8\n    }\n  }),\n\n  prompt: nano.rule({\n    marginTop: \"12px\",\n\n    \"&:before, &:after\": {\n      padding: \"0 4px\",\n      content: \"'—'\"\n    }\n  }),\n\n  upload: nano.rule({\n    display: \"inline-block\",\n    cursor: \"pointer\",\n    background: \"white\",\n    border: \"1px solid black\",\n    borderRadius: \"4px\",\n    padding: \"4px 20px\",\n    marginBottom: \"10px\"\n  }),\n\n  hidden: nano.rule({\n    display: \"none\"\n  })\n};\n\nexport default function CartSelect(props: {\n  startName: string;\n  debug?: boolean;\n}) {\n  const { fd } = React.useContext(FD.Context);\n  const [choosing, setChoosing] = React.useState(false);\n  const [name, setName] = React.useState(props.startName);\n\n  const selectCart = React.useCallback(\n    (name: string, data: Uint8Array) => {\n      setChoosing(false);\n      fd.init(data);\n      setName(name);\n    },\n    [fd]\n  );\n\n  type LinkClicked = React.MouseEventHandler<HTMLAnchorElement>;\n  const downloadCart = React.useCallback<LinkClicked>(async event => {\n    event.preventDefault();\n    const link = event.currentTarget;\n    const resp = await fetch(link.href);\n    if (!resp.ok) {\n      throw resp;\n    }\n\n    const data = new Uint8Array(await resp.arrayBuffer());\n    selectCart(link.text, data);\n  }, []);\n\n  type FileChanged = React.ChangeEventHandler<HTMLInputElement>;\n  const onFile = React.useCallback<FileChanged>(async event => {\n    const file = event.currentTarget.files[0] as File;\n    const data = new Uint8Array(await readAsArray(file));\n    selectCart(file.name, data);\n  }, []);\n\n  const carts = props.debug ? DEBUG_ROMS.blargg : ROMS;\n\n  return (\n    <div className={CSS.root}>\n      <button className={CSS.toggler} onClick={() => setChoosing(!choosing)}>\n        {name}\n      </button>\n\n      <div\n        className={cx(CSS.backdrop, choosing && \"active\")}\n        onClick={() => setChoosing(false)}\n      />\n\n      <div className={cx(CSS.selector, choosing && \"active\")}>\n        <h3 className={CSS.prompt}>try one of these games</h3>\n        <div className={cx(CSS.selectorList, choosing && \"active\")}>\n          {mapObject(carts, (value, name) => (\n            <a key={name} href={value} onClick={downloadCart}>\n              {name}\n            </a>\n          ))}\n        </div>\n\n        <h3 className={CSS.prompt}>or</h3>\n        <label className={CSS.upload}>\n          <span>Upload a ROM</span>\n          <input\n            className={CSS.hidden}\n            type=\"file\"\n            onChange={onFile}\n            onClick={event => (event.currentTarget.value = \"\")}\n          />\n        </label>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport cx from \"classnames\";\nimport useEvent from \"react-use/lib/useEvent\";\n\nimport nano from \"./nano\";\n\nimport FundudeWasm, { Input } from \"../wasm\";\n\nconst CSS = {\n  root: nano.rule({\n    display: \"flex\",\n    flex: \"1\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    touchAction: \"none\"\n  }),\n\n  button: nano.rule({\n    display: \"inline-block\",\n    background: \"#082A08\",\n    boxShadow: \"inset 0 0 2px 2px #082A08\",\n    border: \"none\",\n    color: \"white\",\n    fontFamily: \"Helvetica, Arial, sans-serif\",\n    fontSize: \"24px\",\n\n    \"&.pressed\": {\n      background: \"white\",\n      color: \"#082A08\"\n    }\n  }),\n\n  dpad: {\n    base: nano.rule({\n      position: \"relative\",\n      width: \"90px\",\n      height: \"90px\"\n    }),\n    direction: nano.rule({\n      position: \"absolute\",\n      height: \"33.3333%\",\n      width: \"33.3333%\"\n    }),\n    up: nano.rule({ left: \"33.3333%\", top: 0 }),\n    down: nano.rule({ left: \"33.3333%\", bottom: 0 }),\n    left: nano.rule({ left: 0, top: \"33.3333%\" }),\n    right: nano.rule({ right: 0, top: \"33.3333%\" })\n  },\n\n  buttons: {\n    base: nano.rule({}),\n    a: nano.rule({ width: \"40px\", height: \"40px\", borderRadius: \"100%\" }),\n    b: nano.rule({ width: \"40px\", height: \"40px\", borderRadius: \"100%\" }),\n    select: nano.rule({ fontSize: \"14px\" }),\n    start: nano.rule({ fontSize: \"14px\" })\n  }\n};\n\nconst INITIAL_STATE = {\n  up: false,\n  down: false,\n  left: false,\n  right: false,\n\n  select: false,\n  start: false,\n  a: false,\n  b: false\n};\n\nconst KEY_MAP: Record<string, Input> = {\n  KeyW: \"up\",\n  KeyD: \"right\",\n  KeyS: \"down\",\n  KeyA: \"left\",\n\n  ArrowUp: \"up\",\n  ArrowRight: \"right\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n\n  Backspace: \"select\",\n  Backslash: \"select\",\n  Enter: \"start\",\n\n  KeyN: \"select\",\n  KeyM: \"start\",\n  Comma: \"b\",\n  Period: \"a\",\n\n  KeyO: \"select\",\n  KeyP: \"start\",\n  BracketLeft: \"b\",\n  BracketRight: \"a\"\n};\n\nexport default function Controller(props: { fd: FundudeWasm }) {\n  const [inputs, setInputs] = React.useState(INITIAL_STATE);\n  const [clicking, setClicking] = React.useState(false);\n\n  function handleMouseDown(event: React.MouseEvent<HTMLButtonElement>) {\n    setClicking(true);\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleMouseEnter(event: React.MouseEvent<HTMLButtonElement>) {\n    if (!clicking) {\n      return;\n    }\n    event.currentTarget.focus();\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleMouseLeave(event: React.MouseEvent<HTMLButtonElement>) {\n    if (!clicking) {\n      return;\n    }\n    event.currentTarget.blur();\n    setInputs(props.fd.inputRelease(event.currentTarget.value as any));\n  }\n\n  useEvent(\"mouseup\", (event: React.MouseEvent<HTMLButtonElement>) => {\n    if (!clicking) {\n      return;\n    }\n    setClicking(false);\n    event.currentTarget.blur();\n    setInputs(props.fd.inputReleaseAll());\n  });\n\n  function handleTouch(event: React.TouchEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleUntouch(event: React.TouchEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    setInputs(props.fd.inputRelease(event.currentTarget.value as any));\n  }\n\n  useEvent(\"keydown\", (event: KeyboardEvent) => {\n    if (event.target.nodeName == \"INPUT\") {\n      return;\n    }\n\n    const input = KEY_MAP[event.code];\n    if (input) {\n      event.preventDefault();\n      setInputs(props.fd.inputPress(input));\n    }\n  });\n  useEvent(\"keyup\", (event: KeyboardEvent) => {\n    if (event.target.nodeName == \"INPUT\") {\n      return;\n    }\n\n    const input = KEY_MAP[event.code];\n    if (input) {\n      event.preventDefault();\n      setInputs(props.fd.inputRelease(input));\n    }\n  });\n\n  function Button(props: {\n    value: Input;\n    className: string;\n    children?: string;\n  }) {\n    return (\n      <button\n        value={props.value}\n        className={cx(CSS.button, props.className, {\n          pressed: inputs[props.value]\n        })}\n        onMouseDown={handleMouseDown}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onTouchStart={handleTouch}\n        onTouchEnd={handleUntouch}\n      >\n        {props.children}\n      </button>\n    );\n  }\n\n  return (\n    <div className={CSS.root}>\n      <div className={CSS.dpad.base}>\n        <Button value=\"up\" className={cx(CSS.dpad.direction, CSS.dpad.up)} />\n        <Button\n          value=\"down\"\n          className={cx(CSS.dpad.direction, CSS.dpad.down)}\n        />\n        <Button\n          value=\"left\"\n          className={cx(CSS.dpad.direction, CSS.dpad.left)}\n        />\n        <Button\n          value=\"right\"\n          className={cx(CSS.dpad.direction, CSS.dpad.right)}\n        />\n      </div>\n\n      <div className={CSS.buttons.base}>\n        <Button value=\"select\" className={CSS.buttons.select}>\n          Select\n        </Button>\n        <Button value=\"start\" className={CSS.buttons.start}>\n          Start\n        </Button>\n      </div>\n\n      <div className={CSS.buttons.base}>\n        <Button value=\"b\" className={CSS.buttons.b}>\n          B\n        </Button>\n        <Button value=\"a\" className={CSS.buttons.a}>\n          A\n        </Button>\n      </div>\n    </div>\n  );\n}\n","function asCart(hexString: string): Uint8Array {\n  const result = new Uint8Array(32 * 1024);\n  hexString\n    .replace(/\\s+/g, \"\")\n    .match(/.{1,2}/g)!\n    .forEach((s, i) => {\n      result[i] = parseInt(s, 16);\n    });\n  return result;\n}\n\nexport const BOOTLOADER = asCart(`\n31 FE FF AF 21 FF 9F 32 CB 7C 20 FB 21 26 FF 0E\n11 3E 80 32 E2 0C 3E F3 E2 32 3E 77 77 3E FC E0\n47 11 04 01 21 10 80 1A CD 95 00 CD 96 00 13 7B\nFE 34 20 F3 11 D8 00 06 08 1A 13 22 23 05 20 F9\n3E 19 EA 10 99 21 2F 99 0E 0C 3D 28 08 32 0D 20\nF9 2E 0F 18 F3 67 3E 64 57 E0 42 3E 91 E0 40 04\n1E 02 0E 0C F0 44 FE 90 20 FA 0D 20 F7 1D 20 F2\n0E 13 24 7C 1E 83 FE 62 28 06 1E C1 FE 64 20 06\n7B E2 0C 3E 87 E2 F0 42 90 E0 42 15 20 D2 05 20\n4F 16 20 18 CB 4F 06 04 C5 CB 11 17 C1 CB 11 17\n05 20 F5 22 23 22 23 C9 CE ED 66 66 CC 0D 00 0B\n03 73 00 83 00 0C 00 0D 00 08 11 1F 88 89 00 0E\nDC CC 6E E6 DD DD D9 99 BB BB 67 63 6E 0E EC CC\nDD DC 99 9F BB B9 33 3E 3C 42 B9 A5 B9 A5 42 3C\n21 04 01 11 A8 00 1A 13 BE 20 FE 23 7D FE 34 20\nF5 06 19 78 86 23 05 20 FB 86 20 FE 3E 01 E0 50\n\n00 00 00 00\n\nFF CF 66 66 DD DD 99 DF 88 8B 0C C3 77 66 9D DD\nBB BB 77 66 9D DD EE 8E FC CC 66 73 DD D9 B9 99\nB8 88 3C C0 66 77 DD D8 BB FE 66 77 DD D9 E8 EE\n`);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M38.81.27L37.4 8.96H20.54l-1.72 10.58h14.27l-1.37 8.72H17.4L14.13 49H.58L8.33.27H38.8zm52.67 0l-4.15 29.78c-.6 4.31-1.94 7.93-4.05 10.86a19.35 19.35 0 01-8.13 6.56 28.05 28.05 0 01-11.29 2.16c-5.61 0-10.1-.98-13.46-2.95-3.35-1.97-5.7-4.32-7.04-7.07a17.99 17.99 0 01-2.02-7.9c0-2.1.22-4.5.65-7.25L45.5.27h11.9l-3.58 25.46c-.2 1.26-.3 2.5-.3 3.69 0 2.65.73 4.86 2.2 6.62 1.46 1.77 4.15 2.66 8.07 2.66 1.99 0 3.77-.32 5.35-.97a9.44 9.44 0 004.05-3.27c1.13-1.53 1.9-3.6 2.3-6.2L79.6.27h11.9zm55.84 0L140.04 49h-11.6l-19.06-29.32L104.92 49H92.5L99.7.27h11.68l19.09 29.29 4.4-29.29h12.44zm16.93 28.68v-10h-10v10h10zm56.65-4.8c0 5.4-1.03 9.96-3.1 13.64a19.81 19.81 0 01-9.19 8.36c-4.07 1.9-9.1 2.85-15.1 2.85h-22.46l7-48.73h17.92c4.24 0 7.95.64 11.13 1.9a20.9 20.9 0 017.82 5.24 21.4 21.4 0 014.52 7.61 28.04 28.04 0 011.46 9.12zm-12.7.17c0-2.44-.46-4.8-1.38-7.1a12.65 12.65 0 00-5.12-5.85c-2.48-1.61-5.93-2.41-10.33-2.41h-2l-4.54 31.32h6.54c3.11 0 5.8-.47 8.03-1.4a13.29 13.29 0 008-8.83c.54-1.83.8-3.74.8-5.73zM275.73.27l-4.16 29.78c-.58 4.31-1.93 7.93-4.04 10.86a19.35 19.35 0 01-8.13 6.56 28.05 28.05 0 01-11.3 2.16c-5.6 0-10.09-.98-13.45-2.95-3.36-1.97-5.7-4.32-7.05-7.07a17.99 17.99 0 01-2-7.9c0-2.1.2-4.5.63-7.25L229.74.27h11.9l-3.58 25.46c-.2 1.26-.3 2.5-.3 3.69 0 2.65.73 4.86 2.2 6.62 1.46 1.77 4.15 2.66 8.07 2.66 1.99 0 3.77-.32 5.34-.97a9.44 9.44 0 004.06-3.27c1.13-1.53 1.9-3.6 2.3-6.2l4.1-27.99h11.9zm50.88 23.87c0 5.42-1.03 9.97-3.1 13.65a19.81 19.81 0 01-9.19 8.36c-4.07 1.9-9.1 2.85-15.1 2.85h-22.46l7-48.73h17.92c4.24 0 7.95.64 11.13 1.9a20.9 20.9 0 017.82 5.24 21.4 21.4 0 014.52 7.61 28.04 28.04 0 011.46 9.12zm-12.7.18c0-2.44-.46-4.8-1.38-7.1a12.65 12.65 0 00-5.12-5.85c-2.48-1.61-5.93-2.41-10.33-2.41h-2l-4.54 31.32h6.54c3.11 0 5.8-.47 8.03-1.4a13.29 13.29 0 008-8.83c.54-1.83.8-3.74.8-5.73zm-140.48 4.67h-8.74v9.96h-10.82V29h-10.33l1.51-10.12h8.82V8.95h10.78v9.92h10.24l-1.46 10.12zM367.95.27l-1.23 8.69H347l-1.52 10.58h17.13l-1.24 8.72h-17.26l-1.65 12.02h23.98L365.2 49h-36.53L335.75.27h32.2z\"\n});\n\nvar SvgLogo = function SvgLogo(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 552,\n    height: 75,\n    viewBox: \"0 0 368 50\"\n  }, props), _ref);\n};\n\nexport default SvgLogo;","import React from \"react\";\n\nimport FD from \"../wasm/react\";\nimport nano from \"./nano\";\n\nimport Display from \"./Display\";\nimport CartSelect from \"./CartSelect\";\nimport Controller from \"./Controller\";\nimport { BOOTLOADER } from \"./data\";\n\nconst LazyDebug = {\n  Left: React.lazy(() =>\n    import(\"./Debug\").then(mod => ({ default: mod.Left }))\n  ),\n  Right: React.lazy(() =>\n    import(\"./Debug\").then(mod => ({ default: mod.Right }))\n  )\n};\n\n//@ts-ignore\nimport Logo from \"./logo.svg\";\n\nconst CSS = {\n  root: nano.rule({\n    overflow: \"hidden\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\"\n  }),\n\n  app: nano.rule({\n    marginTop: \"4px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }),\n\n  shell: nano.rule({\n    padding: \"20px 16px\",\n    background: \"#f5f5dc\",\n    boxShadow: \"inset 0 0 0 4px rgba(32, 32, 32, 0.5)\",\n    borderRadius: \"8px 8px 40px 40px\"\n  }),\n\n  displayWrapper: nano.rule({\n    backgroundColor: \"#606060\",\n    padding: \"20px 50px 0\",\n    borderRadius: \"8px\"\n  }),\n\n  display: nano.rule({\n    maxWidth: \"100vw\"\n  }),\n\n  title: nano.rule({\n    position: \"relative\",\n    textTransform: \"uppercase\",\n    fontFamily: \"'Gill Sans', Verdana, sans-serif\",\n    fontWeight: \"bold\",\n    fontStyle: \"italic\",\n    letterSpacing: \"-0.06em\",\n    color: \"transparent\"\n  }),\n\n  titleSymbol: nano.rule({\n    fontSize: \"0.5em\",\n    verticalAlign: \"middle\"\n  }),\n\n  logo: nano.rule({\n    color: \"white\",\n    position: \"absolute\",\n    top: \"20%\",\n    width: \"auto\",\n    height: \"59%\",\n    pointerEvents: \"none\"\n  }),\n\n  controls: nano.rule({\n    height: \"300px\",\n    width: \"324px\",\n    margin: \"0 auto\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  })\n};\n\nexport function App(props: { debug?: boolean }) {\n  const { fd } = React.useContext(FD.Context);\n\n  return (\n    <div className={CSS.app}>\n      <CartSelect startName=\"{insert cart}\" debug={props.debug} />\n      <div className={CSS.shell}>\n        <div className={CSS.displayWrapper}>\n          <Display\n            className={CSS.display}\n            pixels={fd.display()}\n            signal={fd.changed}\n            scale={2}\n          />\n          <h1 className={CSS.title}>\n            <Logo className={CSS.logo} />\n            FUN\n            <i className={CSS.titleSymbol}>&#10012;</i>\n            DUDE\n          </h1>\n        </div>\n        <div className={CSS.controls}>\n          <Controller fd={fd} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function(props: { debug?: boolean }) {\n  return (\n      <FD.Provider bootCart={BOOTLOADER} autoBoot={!props.debug}>\n        <div className={CSS.root}>\n          <React.Suspense fallback={<div />}>\n            {props.debug && <LazyDebug.Left />}\n          </React.Suspense>\n          <App debug={props.debug} />\n          <React.Suspense fallback={<div />}>\n            {props.debug && <LazyDebug.Right />}\n          </React.Suspense>\n        </div>\n      </FD.Provider>\n  );\n}\n","import React from \"react\";\nimport nano from \"./nano\";\n\nconst CSS = {\n  topright: nano.rule({\n    position: \"fixed\",\n    right: \"10px\",\n    maxWidth: \"200px\"\n  }),\n\n  item: nano.rule({\n    marginTop: \"10px\",\n    border: \"1px solid black\",\n    padding: \"10px\",\n    borderRadius: \"4px\"\n  })\n};\n\ninterface Toast {\n  title: string;\n  body: React.ReactNode;\n}\n\ninterface Toaster {\n  toasts: Toast[];\n  add: (toast: Toast) => any;\n}\n\nexport const Context = React.createContext<Toaster>(null!);\n\ninterface Props {\n  show?: \"topright\";\n  children: React.ReactNode;\n}\n\ninterface State {\n  toasts: Toast[];\n  fatal: boolean;\n}\n\nexport class Provider extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.add = this.add.bind(this);\n    this.error = this.error.bind(this);\n\n    this.state = {\n      toasts: [],\n      fatal: false\n    };\n  }\n\n  componentDidCatch(error: Error) {\n    this.setState({ fatal: true });\n    this.add({ title: \"Fatal\", body: error.message || error });\n    console.error(error);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"error\", event => {\n      this.error(event.message);\n    });\n    window.addEventListener(\"unhandledrejection\", event => {\n      this.error(event.reason);\n    });\n  }\n\n  add(toast: Toast) {\n    this.setState(({ toasts }) => ({\n      toasts: [...toasts, toast]\n    }));\n  }\n\n  error(err: Error | string) {\n    this.add({ title: \"Error\", body: err.message || err });\n  }\n\n  render() {\n    return (\n      <Context.Provider\n        value={{\n          toasts: this.state.toasts,\n          add: this.add\n        }}\n      >\n        {this.props.show && (\n          <div className={CSS[this.props.show]}>\n            {this.state.toasts.map((toast, i) => (\n              <div key={i} className={CSS.item}>\n                <h3>{toast.title}</h3>\n                <div>{toast.body}</div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {!this.state.fatal && this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport default { Context, Provider };\n","import React from \"react\";\nimport useEvent from \"react-use/lib/useEvent\";\n\nimport nano from \"./nano\";\n\nimport App from \"./App\";\nimport Toaster from \"./Toaster\";\n\nnano.putMany({\n  \"*\": {\n    boxSizing: \"border-box\",\n    fontFamily: \"inherit\",\n    margin: 0\n  },\n  html: {\n    touchAction: \"manipulation\"\n  },\n  input: {\n    maxWidth: \"100%\"\n  },\n  button: {\n    cursor: \"pointer\"\n  }\n});\n\nconst CSS = {\n  github: nano.rule({\n    fontFamily: \"Helvetica, 'Open Sans', Arial, sans-serif\",\n    fontWeight: 600,\n    position: \"fixed\",\n    left: \"-50px\",\n    top: \"40px\",\n    padding: \"10px 40px\",\n    transform: \"rotate(-45deg)\",\n    background: \"rgba(15, 56, 15, .3333)\",\n    boxShadow: \"0 0 2px currentColor\",\n    color: \"rgb(15, 56, 15)\",\n    textDecoration: \"none\",\n    transition: \"200ms ease box-shadow\",\n\n    \":hover\": {\n      boxShadow: \"0 0 5px 1px currentColor\"\n    }\n  })\n};\n\nexport default function Page() {\n  const [debug, setDebug] = React.useState(\n    window.location.hash.includes(\"debug\")\n  );\n  useEvent(\"hashchange\", () =>\n    setDebug(window.location.hash.includes(\"debug\"))\n  );\n\n  return (\n    <Toaster.Provider show=\"topright\">\n      <a\n        className={CSS.github}\n        href=\"https://github.com/fengb/fundude\"\n        target=\"_blank\"\n      >\n        Fork me on Github\n      </a>\n      <App debug={debug} />\n    </Toaster.Provider>\n  );\n}\n","import \"preact/debug\";\nimport { h, render, hydrate } from \"preact\";\nimport Page from \"./Page\";\n\nconst container = document.getElementById('app');\nconst r = container.hasChildNodes() ? hydrate : render;\nr(h(Page), container);\n","module.exports = function loadWASMBundle(bundle) {\n  return fetch(bundle)\n    .then(function (res) {\n      if (WebAssembly.instantiateStreaming) {\n        return WebAssembly.instantiateStreaming(res);\n      } else {\n        return res.arrayBuffer()\n          .then(function (data) {\n            return WebAssembly.instantiate(data);\n          });\n      }\n    })\n    .then(function (wasmModule) {\n      return wasmModule.instance.exports;\n    });\n};\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}