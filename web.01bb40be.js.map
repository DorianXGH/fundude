{"version":3,"sources":["../src/options.js","../src/constants.js","../src/component.js","../src/create-context.js","../src/util.js","../src/create-element.js","../src/diff/children.js","../src/diff/props.js","../src/diff/index.js","../src/render.js","../src/clone-element.js","../src/index.js","../../src/util.js","../src/suspense.js","../../node_modules/process/browser.js","../src/free-style.ts","../../node_modules/typestyle/lib.es2015/internal/formatting.js","../../node_modules/typestyle/lib.es2015/internal/utilities.js","../../node_modules/typestyle/lib.es2015/internal/typestyle.js","../../node_modules/typestyle/lib.es2015/index.js","../../node_modules/react-use/lib/util.js","../../node_modules/react-use/lib/useEvent.js","../../node_modules/micro-signals/lib/tag-map.js","../../node_modules/micro-signals/lib/extended-signal.js","../../node_modules/micro-signals/lib/signal.js","../../node_modules/micro-signals/lib/caches.js","../../node_modules/micro-signals/lib/index.js","../wasm/index.ts","../wasm/react.tsx","../../node_modules/classnames/index.js","Display.tsx","smalldash.ts","Toaster.tsx","promise.ts","../roms/index.ts","../roms/debug/blargg/index.ts","../roms/debug/index.ts","CartSelect.tsx","Controller.tsx","data.ts","../../node_modules/parcel-bundler/src/builtins/bundle-url.js","../../node_modules/parcel-bundler/src/builtins/bundle-loader.js","logo.svg","App.tsx","index.tsx","../../node_modules/parcel-bundler/src/builtins/loaders/browser/wasm-loader.js","../../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["options","const","q","defer","i","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","let","removeNode","node","parentNode","removeChild","createElement","type","children","ref","key","arguments","length","push","defaultProps","createVNode","vnode","_children","_parent","_depth","_dom","_lastDomChild","_component","constructor","createRef","Fragment","coerceToVNode","possibleVNode","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","_dirty","debounceRendering","process","p","sort","a","b","_vnode","pop","forceUpdate","diffChildren","parentDom","newParentVNode","oldParentVNode","isSvg","excessDomChildren","mounts","oldDom","childVNode","j","oldVNode","newDom","sibDom","firstChildDom","refs","newChildren","toChildArray","oldChildren","oldChildrenLength","undefined","diff","outer","appendChild","nextSibling","insertBefore","unmount","applyRef","flattened","map","keepHoles","Array","isArray","diffProps","dom","newProps","oldProps","hydrate","setProperty","setStyle","style","value","test","name","oldValue","s","useCapture","nameLower","cssText","replace","toLowerCase","slice","addEventListener","eventProxy","_listeners","removeEventListener","selected","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","e","this","event","newVNode","force","tmp","isNew","oldState","snapshot","clearProcessingException","provider","cctx","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","prototype","render","doRender","sub","state","_context","_renderCallbacks","_nextState","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","_render","_parentDom","getChildContext","getSnapshotBeforeUpdate","call","componentDidUpdate","diffElementNodes","diffed","_catchError","commitRoot","root","_commit","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","data","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","current","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","_root","ownerSVGElement","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","some","old","splice","setState","update","callback","Promise","then","bind","resolve","setTimeout","error","component","getDerivedStateFromError","componentDidCatch","currentIndex","currentComponent","afterPaintEffects","oldBeforeRender","__hooks","_pendingEffects","handleEffects","oldAfterDiff","hooks","_pendingLayoutEffects","oldBeforeUnmount","getHookState","index","_hook","_list","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_value","action","nextValue","useEffect","args","argsChanged","_args","afterPaint","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","_callback","useCallback","useContext","useDebugValue","formatter","forEach","hook","_cleanup","flushAfterPaintEffects","_afterPaintQueued","effects","invokeCleanup","invokeEffect","result","oldArgs","newArgs","arg","f","window","requestAnimationFrame","done","clearTimeout","timeout","cancelAnimationFrame","raf","oldCatchError","Suspense","_suspensions","lazy","loader","prom","Lazy","exports","default","displayName","_childDidSuspend","promise","onSuspensionComplete","fallback","_parkedChildren","detachDom","version","REACT_ELEMENT_TYPE","Symbol","for","CAMEL_PROPS","oldEventHook","createFactory","parent","firstChild","preactRender","persist","nativeEvent","ContextProvider","Portal","_this","container","wrap","h","_container","_temp","_unmount","_wrap","_hasMounted","createPortal","mapFn","fn","Children","count","only","Error","toArray","multiple","shouldSanitize","attrs","preactCompatNormalized","normalizeVNode","class","className","classNameDescriptor","enumerable","Object","defineProperty","element","isValidElement","preactCloneElement","apply","$$typeof","unmountComponentAtNode","configurable","get","shallowDiffers","findDOMNode","PureComponent","isPureReactComponent","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","_forwarded","setUnsafeDescriptor","set","v","forwardRef","Forwarded","isReactComponent","oldVNodeHook","ondoubleclick","ondblclick","onbeforeinput","onchange","normalized","oninput","unstable_batchedUpdates","cachedSetTimeout","cachedClearTimeout","module","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","Item","array","noop","nextTick","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","ensureStringObj","object","debugName","val","FreeStyle","IS_UNIQUE","nested","selector","subproperties","explodeKeyframes","frames","$debugName","keyframes","offset","cb","classes","_i","keys","reduce","filter","join","extend","objects","_a","objects_1","media","mediaQuery","mediaQuerySections","orientation","minWidth","mediaLength","maxWidth","minHeight","maxHeight","$nest","createFreeStyle","create","TypeStyle","autoGenerateTag","cssRaw","mustBeValidCSS","_raw","_pendingRawChange","_styleUpdated","cssRule","_freeStyle","registerRule","forceRenderStyles","target","_getTag","textContent","getStyles","fontFace","freeStyle","_b","face","animationName","registerKeyframes","reinit","_lastFreeStyleChangeId","changeId","setStylesTarget","tag","_tag","stylesheet","classNames","classNames_1","getOwnPropertyNames","classDef","_autoGenerateTag","_pending","_afterAllSync","pending","head","lastChangeId","registerStyle","ts","createTypeStyle","instance","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","require","loadBundlesLazy","bundles","id","code","LazyPromise","reject","loadBundles","all","loadBundle","bundleLoaders","registerBundleLoader","load","register","bundle","substring","lastIndexOf","bundleLoader","resolved","catch","executor","onSuccess","onError","SvgLogo","_extends","source","hasOwnProperty","_ref","React","fill","d","viewBox","fetch","res","WebAssembly","instantiateStreaming","arrayBuffer","instantiate","wasmModule","script","async","charset","src","onerror","onload","getElementsByTagName"],"mappings":";AACMA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,OAAAA,EAAAA,QAAAA,QAAAA,EAAAA,QAAAA,EAAAA,QAAAA,cAAAA,EAAAA,QAAAA,SAAAA,EAAAA,QAAAA,UAAAA,EAAAA,QAAAA,UAAAA,EAAAA,QAAAA,aAAAA,EAAAA,QAAAA,cAAAA,EAAAA,QAAAA,aAAAA,EAAAA,QAAAA,SAAAA,EAAAA,QAAAA,aAAAA,ECDCC,IDCDD,EEkJFE,EAMEC,ECvJKC,EFFEC,EAAY,GACZC,EAAY,GACZC,EAAqB,kEGK3B,SAASC,EAAOC,EAAKC,GACtBC,IAAAA,IAAIP,KAAKM,EAAOD,EAAIL,GAAKM,EAAMN,GAAAA,OAAAA,EAU9B,SAASQ,EAAWC,GACtBC,IAAAA,EAAaD,EAAKC,WAClBA,GAAYA,EAAWC,YAAYF,GCTxC,SAAgBG,EAAcC,EAAMP,EAAOQ,GAKhCd,IAAAA,EAWAA,EAINe,EACAC,EAAAA,EAAAA,UApBJV,GAAAA,EAAQF,EAAO,GAAIE,GAEfW,UAAUC,OAAO,EAAA,IACpBJ,EAAW,CAACA,GACHd,EAAE,EAAGA,EAAEiB,UAAUC,OAAQlB,IACjCc,EAASK,KAAKF,EAAUjB,IAGZ,GAAA,MAAVc,IACHR,EAAMQ,SAAWA,GAKR,MAAND,GAAiC,MAAnBA,EAAKO,aAAAA,IACbpB,KAAKa,EAAKO,kBAAAA,IACdd,EAAMN,KAAgBM,EAAMN,GAAKa,EAAKO,aAAapB,IAIrDgB,OAAAA,EAAMV,EAAMU,IACP,OAFLD,EAAMT,EAAMS,aAEMT,EAAMS,IACnB,MAALC,UAAkBV,EAAMU,IAErBK,EAAYR,EAAMP,EAAOU,EAAKD,GAetC,SAAgBM,EAAYR,EAAMP,EAAOU,EAAKD,GAGvCO,IAAAA,EAAQ,CAAA,KACbT,EAAAA,MACAP,EAAAA,IACAU,EAAAA,IACAD,EACAQ,IAAW,KACXC,IAAS,KACTC,IAAQ,EACRC,IAAM,KACNC,EAAe,KACfC,IAAY,KACZC,iBAAAA,GAGGjC,OAAAA,EAAQ0B,OAAO1B,EAAQ0B,MAAMA,GAE1BA,EAGR,SAAgBQ,IACR,MAAA,GAGD,SAASC,EAASzB,GACjBA,OAAAA,EAAMQ,SAUP,SAASkB,EAAcC,GACR,GAAA,MAAjBA,GAAkD,kBAAlBA,EAA6B,OAAO,KAC3C,GAAA,iBAAlBA,GAAuD,iBAAlBA,EAAAA,OACxCZ,EAAY,KAAMY,EAAe,KAAM,MAIvB,GAAA,MAApBA,EAAcP,KAAwC,MAA1BO,EAAcL,IAAkB,CAC3DN,IAAAA,EAAQD,EAAYY,EAAcpB,KAAMoB,EAAc3B,MAAO2B,EAAcjB,IAAK,MACpFM,OAAAA,EAAMI,IAAOO,EAAcP,IACpBJ,EAGDW,OAAAA,EHzFD,SAASC,EAAU5B,EAAO6B,GAC3B7B,KAAAA,MAAQA,EAAAA,KACR6B,QAAUA,EAmFT,SAASC,EAAcd,EAAOe,GAClB,GAAA,MAAdA,EAAAA,OAEIf,EAAME,IACVY,EAAcd,EAAME,IAASF,EAAME,IAAQD,IAAUe,QAAQhB,GAAS,GACtE,KAAA,IAAA,IAGAiB,EACGF,EAAaf,EAAMC,IAAUL,OAAQmB,IAAAA,GAG5B,OAFfE,EAAUjB,EAAMC,IAAUc,KAEa,MAAhBE,EAAQb,IAAAA,OAIvBa,EAAQb,IASY,MAAA,mBAAfJ,EAAMT,KAAsBuB,EAAcd,GAAS,KAMlE,SAASkB,EAAwBlB,GAGtBtB,IAAAA,EACJyC,EAHyB,GAAA,OAA1BnB,EAAQA,EAAME,MAAwC,MAApBF,EAAMM,IAAoB,CAChEN,IAAAA,EAAMI,IAAOJ,EAAMM,IAAWc,KAAO,KAC5B1C,EAAI,EAAGA,EAAIsB,EAAMC,IAAUL,OAAQlB,IAAAA,GAE9B,OADTyC,EAAQnB,EAAMC,IAAUvB,KACO,MAAdyC,EAAMf,IAAc,CACxCJ,EAAMI,IAAOJ,EAAMM,IAAWc,KAAOD,EAAMf,IAAAA,MAKtCc,OAAAA,EAAwBlB,IA6B1B,SAASqB,EAAcC,IACxBA,EAAEC,MAAWD,EAAEC,KAAAA,IAAgC,IAAd/C,EAAEqB,KAAKyB,KAC3ChD,EAAQkD,mBAAqB/C,GAAOgD,GAKvC,SAASA,IACJC,IAAAA,EACJlD,IAAAA,EAAEmD,KAAAA,SAAMC,EAAGC,GAAMA,OAAAA,EAAEC,IAAO3B,IAASyB,EAAEE,IAAO3B,MACpCuB,EAAElD,EAAEuD,OAEPL,EAAEH,KAAQG,EAAEM,aAAAA,GI5JX,SAASC,EAAaC,EAAWC,EAAgBC,EAAgBvB,EAASwB,EAAOC,EAAmBC,EAAQC,GAC9GC,IAAAA,EAAY/D,EAAGgE,EAAGC,EAAUC,EAAQC,EAAQC,EAAeC,EAE3DC,EAAcb,EAAelC,KAAagD,EAAad,EAAenD,MAAMQ,SAAU2C,EAAelC,IAAU,GAAIS,GAAAA,GAGnHwC,EAAed,GAAkBA,EAAenC,KAAcrB,EAE9DuE,EAAoBD,EAAYtD,OAMhC4C,IAAAA,GAAU7D,IAEZ6D,EADwB,MAArBF,EACMA,EAAkB,GAEnBa,EACCrC,EAAcsB,EAAgB,GAG9B,MAIN1D,EAAE,EAAGA,EAAEsE,EAAYpD,OAAQlB,IAAAA,GAGf,OAFhB+D,EAAaO,EAAYtE,GAAKgC,EAAcsC,EAAYtE,KAElC,CACrB+D,GAAAA,EAAWvC,IAAUiC,EACrBM,EAAWtC,IAASgC,EAAehC,IAAS,EAQ7B,QAFfwC,EAAWO,EAAYxE,KAECiE,GAAYF,EAAW/C,KAAOiD,EAASjD,KAAO+C,EAAWlD,OAASoD,EAASpD,KAClG2D,EAAYxE,QAAAA,OAAK0E,IAKZV,EAAE,EAAGA,EAAES,EAAmBT,IAAK,CAAA,IACnCC,EAAWO,EAAYR,KAGPD,EAAW/C,KAAOiD,EAASjD,KAAO+C,EAAWlD,OAASoD,EAASpD,KAAM,CACpF2D,EAAYR,QAAAA,EAAKU,MAGlBT,EAAW,KAObC,GAAAA,EAASS,EAAKnB,EAAWO,EAHzBE,EAAWA,GAAYhE,EAGwBkC,EAASwB,EAAOC,EAAmBC,EAAQ,KAAMC,IAE3FE,EAAID,EAAWhD,MAAQkD,EAASlD,KAAOiD,IAC1CK,IAASA,EAAK,KAAKlD,KAAK6C,EAAGD,EAAWnC,KAAcsC,EAAQH,GAIlD,MAARG,EAAc,CACI,GAAA,MAAjBE,IACHA,EAAgBF,GAGe,MAA5BH,EAAWpC,EAIduC,EAASH,EAAWpC,EAKpBoC,EAAWpC,EAAgB,UAEvB,GAAIiC,GAAmBK,GAAYC,GAAQJ,GAA6B,MAAnBI,EAAOxD,WAKhEkE,EAAO,GAAY,MAARd,GAAgBA,EAAOpD,aAAa8C,EAC9CA,EAAUqB,YAAYX,OAElB,CAECC,IAAAA,EAAOL,EAAQE,EAAE,GAAIG,EAAOA,EAAOW,cAAgBd,EAAES,EAAmBT,GAAG,EAAA,GAC3EG,GAAQD,EAAAA,MACLU,EAGRpB,EAAUuB,aAAab,EAAQJ,GAIjCA,EAASI,EAAOY,YAEkB,mBAAvBrB,EAAe5C,OAKzB4C,EAAe9B,EAAgBuC,IAMnCT,GAAAA,EAAe/B,IAAO0C,EAGC,MAAnBR,GAA0D,mBAAxBH,EAAe5C,KAAqB,IAAKb,EAAE4D,EAAkB1C,OAAQlB,KAAiC,MAAtB4D,EAAkB5D,IAAUQ,EAAWoD,EAAkB5D,IAG1KA,IAAAA,EAAEyE,EAAmBzE,KAA2B,MAAhBwE,EAAYxE,IAAUgF,EAAQR,EAAYxE,GAAIwE,EAAYxE,IAG3FqE,GAAAA,EAAAA,IACErE,EAAI,EAAGA,EAAIqE,EAAKnD,OAAQlB,IAC5BiF,EAASZ,EAAKrE,GAAIqE,IAAOrE,GAAIqE,IAAOrE,IAevC,SAAgBuE,EAAazD,EAAUoE,EAAWC,EAAKC,GACrC,GAAA,MAAbF,IAAmBA,EAAY,IACrB,MAAVpE,GAAsC,kBAAbA,EACxBsE,GAAWF,EAAU/D,KAAK,WAE1B,GAAIkE,MAAMC,QAAQxE,GAAAA,IACjBP,IAAIP,EAAE,EAAGA,EAAIc,EAASI,OAAQlB,IAClCuE,EAAazD,EAASd,GAAIkF,EAAWC,EAAKC,QAI3CF,EAAU/D,KAAKgE,EAAMA,EAAIrE,GAAYA,GAG/BoE,OAAAA,ECvKD,SAASK,EAAUC,EAAKC,EAAUC,EAAU/B,EAAOgC,GACrD3F,IAAAA,EAECA,IAAAA,KAAK0F,EACH1F,KAAKyF,GACVG,EAAYJ,EAAKxF,EAAG,KAAM0F,EAAS1F,GAAI2D,GAIpC3D,IAAAA,KAAKyF,EACHE,GAA+B,mBAAbF,EAASzF,IAAuB,UAAJA,GAAmB,YAAJA,GAAiB0F,EAAS1F,KAAKyF,EAASzF,IAC1G4F,EAAYJ,EAAKxF,EAAGyF,EAASzF,GAAI0F,EAAS1F,GAAI2D,GAKjD,SAASkC,EAASC,EAAO9E,EAAK+E,GACzB/E,MAAAA,EAAI,GACP8E,EAAMF,YAAY5E,EAAK+E,GAGvBD,EAAM9E,GAAsB,iBAAR+E,IAAAA,IAAoB5F,EAAmB6F,KAAKhF,GAAe+E,EAAM,KAAOA,EAY9F,SAASH,EAAYJ,EAAKS,EAAMF,EAAOG,EAAUvC,GAKzCwC,IAAAA,EAWkBnG,EAMHA,EAUjBoG,EACAC,EA9BM,GAAA,SAFXJ,EAAOtC,EAAgB,cAAPsC,EAAqB,QAAUA,EAAgB,UAAPA,EAAiB,YAAcA,IAE1D,aAATA,QACf,GAAW,UAAPA,EACFE,GAAAA,EAAIX,EAAIM,MAEK,iBAARC,EACVI,EAAEG,QAAUP,MAER,CACkB,GAAA,iBAAXG,IACVC,EAAEG,QAAU,GACZJ,EAAW,MAGRA,EAAU,IAASlG,KAAKkG,EACrBH,GAAS/F,KAAK+F,GACnBF,EAASM,EAAGnG,EAAG,IAIb+F,GAAAA,EAAO,IAAS/F,KAAK+F,EACnBG,GAAYH,EAAM/F,KAAOkG,EAASlG,IACtC6F,EAASM,EAAGnG,EAAG+F,EAAM/F,SAOpB,GAAc,MAAViG,EAAK,IAAsB,MAAVA,EAAK,GAC1BG,EAAaH,KAAUA,EAAKA,EAAKM,QAAQ,WAAY,KACrDF,EAAYJ,EAAKO,cACrBP,GAAQI,KAAab,EAAMa,EAAYJ,GAAMQ,MAAM,GAE/CV,GACEG,GAAUV,EAAIkB,iBAAiBT,EAAMU,EAAYP,IACrDZ,EAAIoB,IAAepB,EAAIoB,EAAa,KAAKX,GAAQF,GAGlDP,EAAIqB,oBAAoBZ,EAAMU,EAAYP,QAGvC,GAAW,SAAPH,GAAwB,YAAPA,IAAqBtC,GAAUsC,KAAQT,EAG5DA,GAAAA,EAAItE,QAAgB,SAAN+E,EAAAA,IACZA,EAAOT,EAAItE,OAAQ+E,KACvBT,EAAI5F,QAAQqG,GAAMa,SAAWtB,EAAI5F,QAAQqG,GAAMF,OAAOA,OAIvDP,EAAIS,GAAe,MAAPF,EAAc,GAAKA,MAGT,mBAARA,GAA6B,4BAAPE,IACjCA,KAAQA,EAAOA,EAAKM,QAAQ,WAAY,KAChC,MAAPR,IAAAA,IAAeA,EAClBP,EAAIuB,kBAAkB,+BAAgCd,EAAKO,eAG3DhB,EAAIwB,eAAe,+BAAgCf,EAAKO,cAAeT,GAGzD,MAAPA,IAAAA,IAAeA,EACvBP,EAAIyB,gBAAgBhB,GAGpBT,EAAI0B,aAAajB,EAAMF,IAU1B,SAASY,EAAWQ,GACZC,OAAAA,KAAKR,EAAWO,EAAEtG,MAAMjB,EAAQyH,MAAQzH,EAAQyH,MAAMF,GAAKA,GCtGnE,SAAgBxC,EAAKnB,EAAW8D,EAAUrD,EAAU9B,EAASwB,EAAOC,EAAmBC,EAAQ0D,EAAOzD,GACjG0D,IAAAA,EAUE5E,EAAG6E,EAAO/B,EAAUgC,EAAUC,EAAUC,EACxCnC,EAKAoC,EACAC,EAjBGC,EAAUT,EAASzG,KAAAA,QAAAA,IAIxByG,EAASzF,YAA2B,OAAO,MAE3C2F,EAAM5H,EAAQoI,MAAOR,EAAIF,GAAAA,IAG5B1C,EAAO,GAAqB,mBAAVmD,EAAsB,CAEnCtC,GAAAA,EAAW6B,EAAShH,MAKpBuH,GADJL,EAAMO,EAAQE,cACQ9F,EAAQqF,EAAIU,KAC9BJ,EAAON,EAAOK,EAAWA,EAASvH,MAAMyF,MAAQyB,EAAIW,IAAiBhG,EAGrE8B,EAASrC,IAEZgG,GADAhF,EAAI0E,EAAS1F,IAAaqC,EAASrC,KACNwG,IAAuBxF,EAAEyF,KAIlDN,EAAQO,WAAaP,EAAQO,UAAUC,OAC1CjB,EAAS1F,IAAagB,EAAI,IAAImF,EAAQtC,EAAUqC,IAGhDR,EAAS1F,IAAagB,EAAI,IAAIV,EAAUuD,EAAUqC,GAClDlF,EAAEf,YAAckG,EAChBnF,EAAE2F,OAASC,GAERX,GAAUA,EAASY,IAAI7F,GAE3BA,EAAEtC,MAAQmF,EACL7C,EAAE8F,QAAO9F,EAAE8F,MAAQ,IACxB9F,EAAET,QAAU2F,EACZlF,EAAE+F,IAAWxG,EACbsF,EAAQ7E,EAAEC,KAAAA,EACVD,EAAEgG,IAAmB,IAIJ,MAAdhG,EAAEiG,MACLjG,EAAEiG,IAAajG,EAAE8F,OAEoB,MAAlCX,EAAQe,0BACX1I,EAAOwC,EAAEiG,KAAYjG,EAAE8F,MAAS9F,EAAEiG,IAAazI,EAAO,GAAIwC,EAAEiG,KAAejG,EAAEiG,IAAYd,EAAQe,yBAAyBrD,EAAU7C,EAAEiG,MAInIpB,EACmC,MAAlCM,EAAQe,0BAAwD,MAAtBlG,EAAEmG,oBAA0BnG,EAAEmG,qBACnD,MAArBnG,EAAEoG,mBAAyBnF,EAAO1C,KAAKyB,OAEvC,CACkC,GAAA,MAAlCmF,EAAQe,0BAAyC,MAAPvB,GAA4C,MAA7B3E,EAAEqG,2BAC9DrG,EAAEqG,0BAA0BxD,EAAUqC,IAGlCP,GAAkC,MAAzB3E,EAAEsG,wBAAAA,IAA+BtG,EAAEsG,sBAAsBzD,EAAU7C,EAAEiG,IAAYf,GAAe,CAC7GlF,EAAEtC,MAAQmF,EACV7C,EAAE8F,MAAQ9F,EAAEiG,IACZjG,EAAEC,KAAAA,EACFD,EAAEQ,IAASkE,EACXA,EAAS5F,IAAOuC,EAASvC,IACzB4F,EAAS/F,IAAY0C,EAAS1C,IACxBqD,MAAAA,EAGHhC,MAAAA,EAAEuG,qBACLvG,EAAEuG,oBAAoB1D,EAAU7C,EAAEiG,IAAYf,GAIhDpC,IAAAA,EAAW9C,EAAEtC,MACboH,EAAW9E,EAAE8F,MAEb9F,EAAET,QAAU2F,EACZlF,EAAEtC,MAAQmF,EACV7C,EAAE8F,MAAQ9F,EAAEiG,KAERrB,EAAM5H,EAAQwJ,MAAS5B,EAAIF,GAE/B1E,EAAEC,KAAAA,EACFD,EAAEQ,IAASkE,EACX1E,EAAEyG,IAAa7F,EAIfe,EADgC,OADhCiD,EAAM5E,EAAE2F,OAAO3F,EAAEtC,MAAOsC,EAAE8F,MAAO9F,EAAET,WACKqF,EAAI3G,MAAQkB,GAAuB,MAAXyF,EAAIxG,IAClCwG,EAAIlH,MAAMQ,SAAW0G,EAAKF,EAAS/F,IAAU,GAAIS,GAAAA,GAE5D,MAAnBY,EAAE0G,kBACLnH,EAAU/B,EAAOA,EAAO,GAAI+B,GAAUS,EAAE0G,oBAGpC7B,GAAoC,MAA3B7E,EAAE2G,0BACf5B,EAAW/E,EAAE2G,wBAAwB7D,EAAUgC,IAGhDnE,EAAaC,EAAW8D,EAAUrD,EAAU9B,EAASwB,EAAOC,EAAmBC,EAAQC,GAEvFlB,EAAEF,KAAO4E,EAAS5F,IAEX8F,EAAI5E,EAAEgG,IAAiBvF,OAAOmE,EAAIgC,KAAK5G,GAIzC6E,GAAmB,MAAV/B,GAAwC,MAAtB9C,EAAE6G,oBACjC7G,EAAE6G,mBAAmB/D,EAAUgC,EAAUC,GAGtCC,IACHhF,EAAEyF,IAAgBzF,EAAEwF,IAAuB,WAI5Cd,EAAS5F,IAAOgI,EAAiBzF,EAASvC,IAAM4F,EAAUrD,EAAU9B,EAASwB,EAAOC,EAAmBC,IAGpG2D,EAAM5H,EAAQ+J,SAAQnC,EAAIF,GAE/B,MAAOH,GACNvH,EAAQgK,IAAYzC,EAAGG,EAAUrD,GAG3BqD,OAAAA,EAAS5F,IAGV,SAASmI,EAAWhG,EAAQiG,GAAAA,IAAAA,IAC9BlH,EACIA,EAAIiB,EAAOR,OAAAA,IAEjBT,EAAEoG,oBAEH,MAAO7B,GACNvH,EAAQgK,IAAYzC,EAAGvE,EAAEQ,KAIvBxD,EAAQmK,KAASnK,EAAQmK,IAAQD,GAgBtC,SAASJ,EAAiBlE,EAAK8B,EAAUrD,EAAU9B,EAASwB,EAAOC,EAAmBC,GACjF7D,IAAAA,EASIyC,EA8BHuH,EACAC,EAvCDvE,EAAWzB,EAAS3D,MACpBmF,EAAW6B,EAAShH,MAGxBqD,GAAAA,EAAwB,QAAhB2D,EAASzG,MAAgB8C,EAExB,MAAL6B,GAAgC,MAAnB5B,EAAAA,IACX5D,EAAE,EAAGA,EAAE4D,EAAkB1C,OAAQlB,IAAAA,GAE1B,OADLyC,EAAQmB,EAAkB5D,MACI,OAAhBsH,EAASzG,KAA+B,IAAjB4B,EAAMyH,SAAezH,EAAM0H,YAAY7C,EAASzG,MAAO,CACjG2E,EAAM/C,EACNmB,EAAkB5D,GAAK,KAAA,MAMjB,GAAA,MAALwF,EAAW,CACM,GAAA,OAAhB8B,EAASzG,KAAAA,OACLuJ,SAASC,eAAe5E,GAEhCD,EAAM7B,EAAQyG,SAASE,gBAAgB,6BAA8BhD,EAASzG,MAAQuJ,SAASxJ,cAAc0G,EAASzG,MAEtH+C,EAAoB,KAGD,OAAA,OAAhB0D,EAASzG,KACR6E,IAAaD,IAChBD,EAAI+E,KAAO9E,GAGJ6B,IAAWrD,IACI,MAAnBL,IACHA,EAAoB1D,EAAUuG,MAAM+C,KAAKhE,EAAIgF,aAK1CR,GAFJtE,EAAWzB,EAAS3D,OAASL,GAENwK,wBACnBR,EAAUxE,EAASgF,wBAIE,MAArB7G,IACCqG,GAAWD,KAETC,GAAYD,GAAWC,EAAQS,QAAQV,EAAQU,SACnDlF,EAAImF,UAAYV,GAAWA,EAAQS,QAAU,KAKhDnF,EAAUC,EAAKC,EAAUC,EAAU/B,EAA0B,MAAnBC,GAGrCqG,GACJ1G,EAAaiC,EAAK8B,EAAUrD,EAAU9B,EAAyB,kBAAhBmF,EAASzG,MAAiC8C,EAAOC,EAAmBC,EAAQ5D,GAInG,MAArB2D,IACE,UAAW6B,QAAAA,IAAaA,EAASM,OAAqBN,EAASM,QAAUP,EAAIO,QAAOP,EAAIO,MAAwB,MAAhBN,EAASM,MAAc,GAAKN,EAASM,OACrI,YAAaN,QAAAA,IAAaA,EAASmF,SAAuBnF,EAASmF,UAAYpF,EAAIoF,UAASpF,EAAIoF,QAAUnF,EAASmF,WAInHpF,EASR,SAAgBP,EAASlE,EAAKgF,EAAOzE,GAAAA,IAEnB,mBAALP,EAAiBA,EAAIgF,GAC3BhF,EAAI8J,QAAU9E,EAEpB,MAAOoB,GACNvH,EAAQgK,IAAYzC,EAAG7F,IAYzB,SAAgB0D,EAAQ1D,EAAOwJ,EAAaC,GACvCC,IAAAA,EAOAxF,EAqBMxF,EA3BNJ,GAAAA,EAAQoF,SAASpF,EAAQoF,QAAQ1D,IAEjC0J,EAAI1J,EAAMP,MACbkE,EAAS+F,EAAG,KAAMF,GAIdC,GAAoC,mBAAfzJ,EAAMT,OAC/BkK,EAAiC,OAAnBvF,EAAMlE,EAAMI,MAG3BJ,EAAMI,IAAOJ,EAAMK,EAAgB,KAEP,OAAvBqJ,EAAI1J,EAAMM,KAAmB,CAC7BoJ,GAAAA,EAAEC,qBAAAA,IAEJD,EAAEC,uBAEH,MAAO9D,GACNvH,EAAQgK,IAAYzC,EAAG2D,GAIzBE,EAAEtI,KAAOsI,EAAE3B,IAAa,KAGrB2B,GAAAA,EAAI1J,EAAMC,IAAAA,IACJvB,EAAI,EAAGA,EAAIgL,EAAE9J,OAAQlB,IACzBgL,EAAEhL,IAAIgF,EAAQgG,EAAEhL,GAAI8K,EAAaC,GAInCvF,MAAAA,GAAWhF,EAAWgF,GAI3B,SAASgD,EAASlI,EAAOoI,EAAOvG,GACxBiF,OAAAA,KAAKvF,YAAYvB,EAAO6B,GC/ShC,SAAgBoG,EAAOjH,EAAOkC,EAAW0H,GAEpCjH,IAAAA,EAIAJ,EALAjE,EAAQuL,KAAOvL,EAAQuL,IAAM7J,EAAOkC,GACpCS,EAAWiH,GAAeA,EAAY3J,KAAaiC,EAAUjC,IAEjED,EAAQV,EAAcmB,EAAU,KAAM,CAACT,IAEnCuC,EAAS,GACbc,EACCnB,GACC0H,GAAe1H,GAAWjC,IAAYD,EACvC2C,GAAYhE,EACZA,OAAAA,IACAuD,EAAU4H,gBACVF,EACG,CAACA,GACDjH,EACC,KACA/D,EAAUuG,MAAM+C,KAAKhG,EAAUgH,YACnC3G,GAAAA,EAEAqH,GAAejL,GAEhB4J,EAAWhG,EAAQvC,GASb,SAASqE,EAAQrE,EAAOkC,GAC9BA,EAAUjC,IAAY,KACtBgH,EAAOjH,EAAOkC,GCpCR,SAAS6H,EAAa/J,EAAOhB,GACnCA,OAAAA,EAAQF,EAAOA,EAAO,GAAIkB,EAAMhB,OAAQA,GACpCW,UAAUC,OAAO,IAAGZ,EAAMQ,SAAWZ,EAAUuG,MAAM+C,KAAKvI,UAAW,IAClEI,EAAYC,EAAMT,KAAMP,EAAOA,EAAMU,KAAOM,EAAMN,IAAKV,EAAMS,KAAOO,EAAMP,KPL3E,SAASuK,EAAcC,GACvBC,IAAAA,EAAM,GAENrJ,EAAU,CACf+F,IAAK,OAASlI,IACdmI,IAAeoD,EACfE,SAAAA,SAASnL,EAAO6B,GACR7B,OAAAA,EAAMQ,SAASqB,IAEvBuJ,SAAAA,SAASpL,GAEDqL,IAAAA,EAAAA,EAAAA,KADFvE,OAAAA,KAAKkC,kBACHqC,EAAO,GAAA,KACRrC,gBAAAA,WACJkC,OAAAA,EAAIrJ,EAAQ+F,KAAOd,EACZoE,GAAAA,KAEHtC,sBAAAA,SAAwB5I,GAC5BqL,EAAKC,KAAAA,SAAKhJ,GAELA,EAAEyG,MACLzG,EAAET,QAAU7B,EAAMyF,MAClBpD,EAAcC,OAAAA,KAIZ6F,IAAAA,SAAO7F,GACX+I,EAAKxK,KAAKyB,GACNiJ,IAAAA,EAAMjJ,EAAEqI,qBACZrI,EAAEqI,qBAAAA,WACDU,EAAKG,OAAOH,EAAKrJ,QAAQM,GAAI,GAC7BiJ,GAAOA,EAAIrC,KAAK5G,MAIZtC,EAAMQ,WAIfqB,OAAAA,EAAQsJ,SAASxD,YAAc9F,EAExBA,EH/CFvC,QAAAA,QAAAA,EAAAA,QAAAA,QAAAA,EAAU,GEsChBsC,EAAUoG,UAAUyD,SAAW,SAASC,EAAQC,GAE3C9F,IAAAA,EAAKiB,KAAKyB,MAAazB,KAAKsB,OAAStB,KAAKyB,MAAgBzB,KAAKyB,IAAazI,EAAO,GAAIgH,KAAKsB,SAG5E,mBAATsD,IAAwBA,EAASA,EAAO7F,EAAGiB,KAAK9G,UAC1DF,EAAO+F,EAAG6F,GAIC,MAARA,GAEA5E,KAAKhE,MACJ6I,GAAU7E,KAAKwB,IAAiBzH,KAAK8K,GACzCtJ,EAAcyE,QAShBlF,EAAUoG,UAAUhF,YAAc,SAAS2I,GAMnC1E,IAAAA,EAEF1D,EACAK,EARD5C,EAAQ8F,KAAKhE,IAAQU,EAASsD,KAAKhE,IAAO1B,IAAM8B,EAAY4D,KAAKiC,IACjE7F,IAIG+D,GAAAA,IAAQ0E,EAEVpI,EAAS,GACTK,EAASS,EAAKnB,EAAWlC,EAAOlB,EAAO,GAAIkB,GAAQ8F,KAAKuB,SAAAA,IAAUnF,EAAU4H,gBAA6B,KAAMvH,EAAQ0D,EAAiB,MAAVzD,EAAiB1B,EAAcd,GAASwC,GAC1K+F,EAAWhG,EAAQvC,GAEf4C,GAAUJ,GACbtB,EAAwBlB,IAGtB2K,GAAUA,KAaf/J,EAAUoG,UAAUC,OAASxG,EAwDzBjC,EAAI,GAMFC,EAAwB,mBAATmM,QAAsBA,QAAQ5D,UAAU6D,KAAKC,KAAKF,QAAQG,WAAaC,WM+K3F1M,EAASgK,IAAc,SAAU2C,EAAOjL,EAAO2C,GAAAA,IAAAA,IAG3CuI,EAEGlL,EAAQA,EAAME,KAAAA,IACfgL,EAAYlL,EAAMM,OAAgB4K,EAAUpE,IAAAA,IAE3CoE,GAAAA,EAAU3K,aAA+D,MAAhD2K,EAAU3K,YAAY4K,yBAClDD,EAAUT,SAASS,EAAU3K,YAAY4K,yBAAyBF,QAE9D,CAAiC,GAAA,MAA7BC,EAAUE,kBAAAA,SAClBF,EAAUE,kBAAkBH,GAKtB5J,OAAAA,EAAc6J,EAAUnE,IAAgBmE,GAEhD,MAAOrF,GACNoF,EAAQpF,EAKLoF,MAAAA,GL/VIvM,EAAI;;AQsOO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAAA,QAAA,WAAA,EAAA,QAAA,UAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,OAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,QAAA,EAAA,QAAA,YAAA,EAAA,QAAA,WAAA,EAAA,QAAA,cAAA,EAAA,IArOlB2M,EAGAC,EAkOkB,EAAA,QAAA,UA/NlBC,EAAoB,GAEpBC,EAAkBlN,EAAQwJ,QAAAA,IAC9BxJ,EAAQwJ,QAAAA,IAAAA,SAAU9H,GACbwL,GAAiBA,EAAgBxL,GAGrCqL,EAAe,GADfC,EAAmBtL,EAAMM,KAGJmL,MACpBH,EAAiBG,IAAQC,EAAkBC,EAAcL,EAAiBG,IAAQC,KAIpFzM,IAAI2M,EAAetN,EAAQ+J,QAAAA,OAC3B/J,EAAQ+J,QAAAA,OAAAA,SAASrI,GACZ4L,GAAcA,EAAa5L,GAEzBsB,IAAAA,EAAItB,EAAMM,IACXgB,GAAAA,EAAAA,CAECuK,IAAAA,EAAQvK,EAAEmK,IACZI,IACHA,EAAMC,EAAwBH,EAAcE,EAAMC,MAKpD7M,IAAI8M,EAAmBzN,EAAQoF,QAAAA,QAkB/B,SAASsI,EAAaC,GACTC,EAAAA,QAAAA,KAAO5N,EAAQ4N,QAAAA,IAAMZ,GAM3BO,IAAAA,EAAQP,EAAiBG,MAAYH,EAAiBG,IAAU,CAAEU,EAAO,GAAIT,EAAiB,GAAII,EAAuB,KAE3HG,OAAAA,GAASJ,EAAMM,EAAMvM,QACxBiM,EAAMM,EAAMtM,KAAK,IAEXgM,EAAMM,EAAMF,GAGb,SAASG,EAASC,GACjBC,OAAAA,EAAWC,EAAgBF,GAGnC,SAAgBC,EAAWE,EAASH,EAAcI,GAG3CC,IAAAA,EAAYV,EAAaX,KAC1BqB,OAAAA,EAAUpM,MACdoM,EAAUpM,IAAagL,EAEvBoB,EAAUC,EAAS,CACjBF,EAA4CA,EAAKJ,GAA1CE,EAAe,KAAMF,GAAAA,SAE7BO,GACOC,IAAAA,EAAYL,EAAQE,EAAUC,EAAO,GAAIC,GAC3CF,EAAUC,EAAO,KAAKE,IACzBH,EAAUC,EAAO,GAAKE,EACtBH,EAAUpM,IAAWmK,SAAS,QAM3BiC,EAAUC,EAOX,SAASG,EAAUnC,EAAUoC,GAG7B3F,IAAAA,EAAQ4E,EAAaX,KACvB2B,EAAY5F,EAAM6F,EAAOF,KAC5B3F,EAAMuF,EAAShC,EACfvD,EAAM6F,EAAQF,EAEdzB,EAAiBG,IAAQC,EAAgB7L,KAAKuH,GAC9C8F,EAAW5B,IAQN,SAAS6B,EAAgBxC,EAAUoC,GAGnC3F,IAAAA,EAAQ4E,EAAaX,KACvB2B,EAAY5F,EAAM6F,EAAOF,KAC5B3F,EAAMuF,EAAShC,EACfvD,EAAM6F,EAAQF,EACdzB,EAAiBG,IAAQK,EAAsBjM,KAAKuH,IAI/C,SAASgG,EAAOC,GACfC,OAAAA,EAAAA,WAAAA,MAAAA,CAAiB/D,QAAS8D,IAAiB,IAGnD,SAAgBE,EAAoB9N,EAAK+N,EAAcT,GAChD3F,IAAAA,EAAQ4E,EAAaX,KACvB2B,EAAY5F,EAAM6F,EAAOF,KAC5B3F,EAAM6F,EAAQF,EACVtN,IACHA,EAAI8J,QAAUiE,MASV,SAASF,EAAQ3C,EAAUoC,GAG3B3F,IAAAA,EAAQ4E,EAAaX,KACvB2B,OAAAA,EAAY5F,EAAM6F,EAAOF,IAC5B3F,EAAM6F,EAAQF,EACd3F,EAAMqG,EAAY9C,EACXvD,EAAMuF,EAAShC,KAGhBvD,EAAMuF,EAOP,SAASe,EAAY/C,EAAUoC,GAC9BO,OAAAA,EAAAA,WAAc3C,OAAAA,GAAUoC,GAMzB,SAASY,EAAW9M,GACpB0F,IAAAA,EAAW+E,EAAiBzK,QAAQA,EAAQ+F,KAAAA,IAC7CL,EAAU,OAAO1F,EAAQgG,IACxBO,IAAAA,EAAQ4E,EAAaX,KAEP,OAAA,MAAhBjE,EAAMuF,IACTvF,EAAMuF,GAAAA,EACNpG,EAASY,IAAImE,IAEP/E,EAASvH,MAAMyF,MAOhB,SAASmJ,EAAcnJ,EAAOoJ,GACxBD,EAAAA,QAAAA,eACXtP,EAAQsP,QAAAA,cAAcC,EAAYA,EAAUpJ,GAASA,GAvJvDnG,EAAQoF,QAAAA,QAAAA,SAAU1D,GACb+L,GAAkBA,EAAiB/L,GAEjCsB,IAAAA,EAAItB,EAAMM,IACXgB,GAAAA,EAAAA,CAECuK,IAAAA,EAAQvK,EAAEmK,IACZI,GACHA,EAAMM,EAAM2B,QAAAA,SAAQC,GAAQA,OAAAA,EAAKC,GAAYD,EAAKC,QA2JpD/O,IAAIiO,EAAAA,aAKJ,SAASe,IACR1C,EAAkBjB,KAAAA,SAAKY,GACtBA,EAAUgD,GAAAA,EACNhD,EAAUnD,MACbmD,EAAUO,IAAQC,EAAkBC,EAAcT,EAAUO,IAAQC,MAGtEH,EAAoB,GA4BrB,SAASI,EAAcwC,GACtBA,OAAAA,EAAQL,QAAQM,GAChBD,EAAQL,QAAQO,GACT,GAGR,SAASD,EAAcL,GAClBA,EAAKC,GAAUD,EAAKC,IAOzB,SAASK,EAAaN,GACfO,IAAAA,EAASP,EAAKpB,IACE,mBAAX2B,IAAuBP,EAAKC,EAAWM,GAGnD,SAAStB,EAAYuB,EAASC,GAAAA,OACrBD,GAAWC,EAAQlE,KAAAA,SAAMmE,EAAKxC,GAAUwC,OAAAA,IAAQF,EAAQtC,KAGjE,SAASM,EAAekC,EAAKC,GACR,MAAA,mBAANA,EAAmBA,EAAED,GAAOC,EAjCrB,oBAAXC,SACVzB,EAAAA,SAAchC,IACRA,EAAUgD,IAAsBhD,EAAUgD,GAAAA,IAAmE,IAAtC3C,EAAkB1L,KAAKqL,KAEjG5M,EAAQsQ,QAAAA,uBAfZ,SAAiBjE,GACVkE,IAAAA,EAAAA,WACLC,aAAaC,GACbC,qBAAqBC,GACrBjE,WAAWL,IAENoE,EAAU/D,WAAW6D,EAXR,KAYbI,EAAML,sBAAsBC,KAQWZ;;AAqM/BnP,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,IAAAA,EAAAA,CAAAA,SAAAA,EAAAA,UAAAA,EAAAA,QAAAA,EAAAA,SAAAA,EAAAA,wBAAAA,EAAAA,cAAAA,EAAAA,eAAAA,EAAAA,eAAAA,EAAAA,cAAAA,EAAAA,gBAAAA,EAAAA,aAAAA,EAAAA,eAAAA,EAAAA,MAAAA,EAAAA,YAAAA,EAAAA,yBAAAA,EAAAA,UAAAA,EAAAA,MAAAA,EAAAA,eAAAA,EAAAA,WAAAA,EAAAA,UAAAA,EAAAA,WAAAA,GAAAA,QAAAA,QAAAA,QAAAA,OAAAA,EAAAA,QAAAA,uBAAAA,EAAAA,QAAAA,aAAAA,EAAAA,QAAAA,cAAAA,EAAAA,QAAAA,cAAAA,EAAAA,QAAAA,aAAAA,EAAAA,QAAAA,eAAAA,EAAAA,QAAAA,YAAAA,EAAAA,QAAAA,KAAAA,EAAAA,QAAAA,WAAAA,EAAAA,QAAAA,SAAAA,EAAAA,QAAAA,KAAAA,EAAAA,OAAAA,eAAAA,QAAAA,gBAAAA,CAAAA,YAAAA,EAAAA,IAAAA,WAAAA,OAAAA,EAAAA,iBAAAA,OAAAA,eAAAA,QAAAA,YAAAA,CAAAA,YAAAA,EAAAA,IAAAA,WAAAA,OAAAA,EAAAA,aAAAA,OAAAA,eAAAA,QAAAA,WAAAA,CAAAA,YAAAA,EAAAA,IAAAA,WAAAA,OAAAA,EAAAA,YAAAA,OAAAA,eAAAA,QAAAA,YAAAA,CAAAA,YAAAA,EAAAA,IAAAA,WAAAA,OAAAA,EAAAA,aAAAA,QAAAA,wBAAAA,QAAAA,cAAAA,QAAAA,SAAAA,QAAAA,QAAAA,QAAAA,aAAAA,EAAAA,IAAAA,EAAAA,EAAAA,QAAAA,iBAAAA,OAAAA,KAAAA,GAAAA,QAAAA,SAAAA,GAAAA,YAAAA,GAAAA,eAAAA,IAAAA,OAAAA,UAAAA,eAAAA,KAAAA,EAAAA,IAAAA,OAAAA,eAAAA,QAAAA,EAAAA,CAAAA,YAAAA,EAAAA,IAAAA,WAAAA,OAAAA,EAAAA,SAAAA,IAAAA,EAAAA,QAAAA,UAAAA,SAAAA,EAAAA,GAAAA,GAAAA,GAAAA,EAAAA,WAAAA,OAAAA,EAAAA,IAAAA,EAAAA,GAAAA,GAAAA,MAAAA,EAAAA,IAAAA,IAAAA,KAAAA,EAAAA,GAAAA,OAAAA,UAAAA,eAAAA,KAAAA,EAAAA,GAAAA,CAAAA,IAAAA,EAAAA,OAAAA,gBAAAA,OAAAA,yBAAAA,OAAAA,yBAAAA,EAAAA,GAAAA,GAAAA,EAAAA,KAAAA,EAAAA,IAAAA,OAAAA,eAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,OAAAA,EAAAA,QAAAA,EAAAA,EC1aR,SAASA,EAAOC,EAAKC,GACtBC,IAAAA,IAAIP,KAAKM,EAAOD,EAAIL,GAAKM,EAAMN,GAAAA,OAAAA,EAU9B,SAASQ,EAAWC,GACtBC,IAAAA,EAAaD,EAAKC,WAClBA,GAAYA,EAAWC,YAAYF,GCjBxCZ,IAAM2Q,EAAgB5Q,EAAQgK,QAAAA,IAuC9B,SAAgB6G,IAEVC,KAAAA,EAAe,GA4Cd,SAASC,EAAKC,GAChBC,IAAAA,EACArE,EACAD,EAEKuE,SAAAA,EAAKxQ,GACRuQ,GAAAA,IACJA,EAAOD,KACFzE,KAAAA,SACH4E,GAAcvE,EAAYuE,EAAQC,SAAAA,SAClC7J,GAAQoF,EAAQpF,IAIfoF,EAAAA,MACGA,EAAAA,IAGFC,EAAAA,MACEqE,EAGAjQ,OAAAA,EAAc4L,EAAAA,eAAAA,EAAWlM,GAGjCwQ,OAAAA,EAAKG,YAAc,OAEZH,EA/GRlR,EAAQgK,QAAAA,IAAc,SAAU2C,EAAOjF,EAAUrD,GAC5CsI,GAAAA,EAAMJ,MAAQlI,EAAAA,IAAAA,IAGbuI,EACAlL,EAAQgG,EAELhG,EAAQA,EAAME,KAAAA,IACfgL,EAAYlL,EAAMM,MAAe4K,EAAU0E,EAAAA,OAC3CjN,IACHqD,EAAS5F,IAAOuC,EAASvC,IACzB4F,EAAS/F,IAAY0C,EAAS1C,UAG/BiL,EAAU0E,EAAiB3E,GAM9BiE,EAAcjE,EAAOjF,EAAUrD,KA0BhCwM,EAASnI,UAAY,IAAIpG,EAAJ,WAKFgP,EAAmB,SAASC,GAGxCvO,IAAAA,EAAIwE,KACVxE,EAAE8N,EAAavP,KAAKgQ,GAEdC,IAAAA,EAAAA,WAELxO,EAAE8N,EAAa9N,EAAE8N,EAAapO,QAAQ6O,IAAYvO,EAAE8N,EAAa9N,EAAE8N,EAAaxP,OAAS,GACzF0B,EAAE8N,EAAarN,MAEc,GAAzBT,EAAE8N,EAAaxP,UAClB8D,EAAQpC,EAAAA,UAAAA,EAAEtC,MAAM+Q,UAChBzO,EAAEQ,IAAO1B,IAAO,KAEhBkB,EAAEQ,IAAO7B,IAAYqB,EAAE8F,MAAM4I,EAC7B1O,EAAEmJ,SAAS,CAAEuF,EAAiB,SAI5B1O,MAAAA,EAAE8F,MAAM4I,IACX1O,EAAEmJ,SAAS,CAAEuF,EAAiB1O,EAAEQ,IAAO7B,MAjDzC,SAASgQ,EAAUzQ,GACbP,IAAAA,IAAIP,EAAI,EAAGA,EAAIc,EAASI,OAAQlB,IAAK,CACrCyC,IAAAA,EAAQ3B,EAASd,GACjByC,MAAAA,IACuB,mBAAfA,EAAM5B,MAAuB4B,EAAMf,IAC7ClB,EAAWiC,EAAMf,KAETe,EAAMlB,KACdgQ,EAAU9O,EAAMlB,OARpB,CAkDYqB,EAAEQ,IAAO7B,KACnBqB,EAAEQ,IAAO7B,IAAY,IAGtB4P,EAAQhF,KAAKiF,EAAsBA,IAGpCX,EAASnI,UAAUC,OAAS,SAASjI,EAAOoI,GACpCA,OAAAA,EAAM4I,EAAkBhR,EAAM+Q,SAAW/Q,EAAMQ,UAAAA,IFhFjD0Q,EAAU,SAGVC,EAAsC,oBAATC,QAAwBA,OAAOC,KAAOD,OAAOC,IAAI,kBAAqB,MAEnGC,EAAc,kMAEhBC,EAAejS,EAAQyH,QAAAA,MAY3B,SAASyK,EAAcjR,GACfD,OAAAA,EAAcwL,KAAK,KAAMvL,GA0BjC,SAAS0H,EAAOjH,EAAOyQ,EAAQ9F,GAEvB8F,KAAAA,EAAOC,YACbxR,EAAWuR,EAAOC,YAGnBC,OAAAA,EAAa3Q,EAAAA,QAAAA,EAAOyQ,GACE,mBAAX9F,GAAuBA,IAE3B3K,EAAQA,EAAMM,IAAa,KAqXpBxB,QAAAA,QAAAA,EApafR,EAAQyH,QAAAA,MAAAA,SAAQF,GAEX0K,OAAAA,IAAc1K,EAAI0K,EAAa1K,IACnCA,EAAE+K,QAAAA,aACK/K,EAAEgL,YAAchL,GA8CxB,IAAMiL,EAAAA,aAaN,SAASC,EAAO/R,GACXgS,IAAAA,EAAQlL,KACRmL,EAAYjS,EAAMiS,UAClBC,GAAOC,EAAEL,EAAAA,GAAAA,EAAiB,CAAEjQ,QAASmQ,EAAMnQ,SAAW7B,EAAMgB,OAI5DgR,OAAAA,EAAMI,GAAcJ,EAAMI,IAAeH,IACxCD,EAAMK,EAAMjS,YAAY4R,EAAMI,EAAW/R,YAAY2R,EAAMK,IAC/DC,EAASN,EAAAA,UAAAA,EAAMO,GACfP,EAAMQ,GAAAA,GAKHxS,EAAMgB,MACJgR,EAAMQ,EAkBVvK,EAAOiK,EAAMD,IAhBbD,EAAMK,EAAQvI,SAASC,eAAe,KAGtC1E,EAAQ,EAAA,SAAA,GAAI4M,GAEZA,EAAUxN,aAAauN,EAAMK,EAAOJ,EAAUP,YAE9CM,EAAMQ,GAAAA,EACNR,EAAMI,EAAaH,GAEnBN,EAAaO,EAAAA,QAAAA,EAAMD,EAAWD,EAAMK,IAW7BL,EAAMQ,IACVR,EAAMK,EAAMjS,YAAY4R,EAAMI,EAAW/R,YAAY2R,EAAMK,IAC/DC,EAASN,EAAAA,UAAAA,EAAMO,IAGhBP,EAAMO,EAAQL,EAEdF,EAAMrH,qBAAAA,WACDqH,EAAMK,EAAMjS,YAAY4R,EAAMI,EAAW/R,YAAY2R,EAAMK,IAC/DC,EAASN,EAAAA,UAAAA,EAAMO,IAGT,KAQR,SAASE,EAAazR,EAAOiR,GACrBE,OAAAA,EAAEJ,EAAAA,GAAAA,EAAQ,CAAA,MAAE/Q,EAAAA,UAAOiR,IAAAA,EAAAA,UAxE1BjJ,gBAAAA,WACQlC,OAAAA,KAAK9G,MAAM6B,SAEnBoG,EAAAA,UAAAA,OAAAA,SAAOjI,GACCA,OAAAA,EAAMQ,UAuEfjB,IAAMmT,EAAAA,SAASlS,EAAUmS,GACnBnS,OAAAA,GACEyD,EAAazD,EAAAA,cAAAA,GAAUqE,IAAI8N,GADZ,MAKnBC,EAAW,CACd/N,IAAK6N,EACL5D,QAAS4D,EACTG,MAAAA,SAAMrS,GACEA,OAAAA,GAAWyD,EAAazD,EAAAA,cAAAA,GAAUI,OAAS,GAEnDkS,KAAAA,SAAKtS,GAEkB,GAAA,KADtBA,GAAWyD,EAAazD,EAAAA,cAAAA,IACXI,OAAY,MAAM,IAAImS,MAAM,2CAClCvS,OAAAA,EAAS,IAEjBwS,QAAS/O,EAAAA,cAUV,SAAS3D,IAAAA,IAAAA,IAAAA,EAAAA,GAAAA,EAAAA,UAAAA,OAAAA,KAAAA,EAAAA,GAAAA,UAAAA,GACJU,IAAAA,EAAQmR,EAAAA,EAAAA,WAAAA,EAAKpE,GAEbxN,EAAOS,EAAMT,KAAMP,EAAQgB,EAAMhB,MACpB,MAAA,mBAANO,IACNP,EAAMiL,eACJjL,EAAMyF,OAAuB,IAAdzF,EAAMyF,QACzBzF,EAAMyF,MAAQzF,EAAMiL,qBAEdjL,EAAMiL,cAGVlG,MAAMC,QAAQhF,EAAMyF,QAAUzF,EAAMiT,UAAmB,WAAP1S,KACnD0D,EAAajE,EAAAA,cAAAA,EAAMQ,UAAUsO,QAAAA,SAAS3M,IACQ,GAAzCnC,EAAMyF,MAAMzD,QAAQG,EAAMnC,MAAMyF,SACnCtD,EAAMnC,MAAMwG,UAAAA,YAGPxG,EAAMyF,OAvJhB,SAA4BzE,EAAOhB,GAC9BkT,IAAAA,EAAgBC,EAAOzT,EACtBA,IAAAA,KAAKM,EAAO,GAAKkT,EAAiB5B,EAAY5L,KAAKhG,GAAK,MACzDwT,GAAAA,EAAAA,IAEExT,KADLyT,EAAQnS,EAAMhB,MAAQ,GACZA,EACTmT,EAAM7B,EAAY5L,KAAKhG,GAAKA,EAAEuG,QAAQ,aAAc,OAAOC,cAAgBxG,GAAKM,EAAMN,GANzF,CAyJqBsB,EAAOhB,IAG3BgB,EAAMoS,wBAAAA,EACCC,EAAerS,GAOvB,SAASqS,EAAerS,GACvBA,OAAAA,EAAMoS,wBAAAA,EAwEP,SAAwBpS,GACnB4B,IAAAA,EAAI5B,EAAMhB,OACV4C,EAAE0Q,OAAS1Q,EAAE2Q,aAChBC,EAAoBC,WAAa,cAAe7Q,EAC5CA,EAAE2Q,YAAW3Q,EAAE0Q,MAAQ1Q,EAAE2Q,WAC7BG,OAAOC,eAAe/Q,EAAG,YAAa4Q,IALxC,CAvEgBxS,GACRA,EAUR,SAAS+J,EAAa6I,GAChBC,OAAAA,EAAeD,GACRP,EAAeS,EAAmBC,aAAAA,MAAM,KAAMpT,YADrBiT,EAUtC,SAASC,EAAeD,GAAAA,QACdA,GAAWA,EAAQI,WAAW7C,EAoCxC,SAAS8C,EAAuBhC,GAAAA,QAC3BA,EAAUhR,OACb0Q,EAAa,EAAA,QAAA,KAAMM,IAAAA,GA6KNnS,QAAAA,SAAAA,EA1JfG,IAAIuT,EAAsB,CACzBU,cAAAA,EACAC,IAAAA,WAAerN,OAAAA,KAAKwM,QASrB,SAASc,EAAexR,EAAGC,GACrB5C,IAAAA,IAAIP,KAAKkD,EAAG,KAAMlD,KAAKmD,GAAI,OAAA,EAC3B5C,IAAAA,IAAIP,KAAKmD,EAAG,GAAID,EAAElD,KAAKmD,EAAEnD,GAAI,OAAA,EAAO,OAAA,EAS1C,SAAS2U,EAAYnI,GACbA,OAAAA,IAAcA,EAAU9J,MAA+B,IAAvB8J,EAAUtC,UAAkBsC,IAAc,KAAA,IAM5EoI,EAAAA,SAAAA,GACL/S,SAAAA,EAAYvB,GAAAA,EAAAA,KAAAA,KACLA,GAAAA,KAEDuU,sBAAAA,EAAuB,OAAA,IAAA,EAAA,UAAA,IAAA,EAAA,UAAA,OAAA,OAAA,GAAA,EAAA,YAAA,YAAA,EAAA,EAAA,UAG7B3L,sBAAAA,SAAsB5I,EAAOoI,GACrBgM,OAAAA,EAAetN,KAAK9G,MAAOA,IAAUoU,EAAetN,KAAKsB,MAAOA,IAAAA,EARnEkM,CAAsB1S,EAAtB0S,WAsBN,SAASE,EAAKlS,EAAGmS,GACPC,SAAAA,EAAaC,GACjBlU,IAAAA,EAAMqG,KAAK9G,MAAMS,IACjBmU,EAAYnU,GAAKkU,EAAUlU,IAC1BmU,OAAAA,IACJnU,EAAIyI,KAAOzI,EAAI,MAASA,EAAI8J,QAAU,OAE9BkK,GAELA,EAAS3N,KAAK9G,MAAO2U,GADtBP,EAAetN,KAAK9G,MAAO2U,MACWC,EAGjCC,SAAAA,EAAO7U,GAAAA,OAAAA,KACV4I,sBAAwB8L,GACtBvC,EAAE7P,EAAAA,GAAAA,EAAGxC,EAAO,GAAIE,IAExB6U,OAAAA,EAAOlE,YAAc,SAAWrO,EAAEqO,aAAerO,EAAEqD,MAAQ,IAC3DkP,EAAOC,GAAAA,EACAD,EAIR,SAASE,EAAoBhV,EAAKW,GACjCgT,OAAOC,eAAe5T,EAAIiI,UAAW,UAAYtH,EAAK,CACrDwT,cAAAA,EACAC,IAAAA,WAAerN,OAAAA,KAAKpG,IACpBsU,IAAAA,SAAIC,GAAUvU,KAAAA,GAAOuU,KAevB,SAASC,EAAWvC,GACVwC,SAAAA,EAAUnV,GACdS,IAAAA,EAAMT,EAAMS,IAAAA,cACTT,EAAMS,IACNkS,EAAG3S,EAAOS,GAElB0U,OAAAA,EAAUL,GAAAA,EACVK,EAAUxE,YAAc,eAAiBgC,EAAGhC,aAAegC,EAAGhN,MAAQ,IAC/DwP,EAsDOrV,QAAAA,cAAAA,EAhHf8B,EAAUoG,UAAAA,UAAUoN,iBAAmB,GAuCvCL,EAAoBnT,EAApBmT,UAA+B,sBAC/BA,EAAoBnT,EAApBmT,UAA+B,6BAC/BA,EAAoBnT,EAApBmT,UAA+B,uBAoB/B9U,IAAIoV,EAAe/V,EAAQ0B,QAAAA,MAC3B1B,EAAQ0B,QAAAA,MAAAA,SAAQA,GACfA,EAAMgT,SAAW7C,EA3JlB,SAAiC1Q,GAAAA,IAAAA,EA6JRO,EAAAA,KAAAA,EAAAA,EAAAA,MA5JnBhB,GAAAA,GAAsB,iBAANO,EAAAA,CACjB4E,IAAAA,EAAW,GACVlF,IAAAA,IAAIP,KAAKM,EACbmF,EAASzF,EAAEwG,eAAiBxG,EAEzByF,GAAAA,EAASmQ,gBACZtV,EAAMuV,WAAavV,EAAMmF,EAASmQ,sBAC3BtV,EAAMmF,EAASmQ,gBAEnBnQ,EAASqQ,gBACZxV,EAAMwV,cAAgBxV,EAAMmF,EAASqQ,sBAC9BxV,EAAMmF,EAASqQ,gBAGnBrQ,EAASsQ,WAAoB,aAAPlV,GAA2C,UAArBA,EAAK2F,gBAA4B,gBAAgBR,KAAK1F,EAAMO,OAAS,CAChHmV,IAAAA,EAAavQ,EAASwQ,SAAW,UAChC3V,EAAM0V,KACV1V,EAAM0V,GAAc1V,EAAMmF,EAASsQ,iBAC5BzV,EAAMmF,EAASsQ,aAnBzB,GA8JKlV,IAAAA,EAAOS,EAAMT,KACbA,GAAQA,EAAKuU,GAAc9T,EAAMP,MACpCO,EAAMhB,MAAMS,IAAMO,EAAMP,IACxBO,EAAMP,IAAM,MAGT4U,GAAcA,EAAarU,IAAAA,IAW1B4U,EAAAA,SAA2BjK,EAAU8D,GAAQ9D,OAAAA,EAAS8D,IA6B7C3P,QAAAA,wBAAAA,EAAAA,IAAAA,EAAAA,EAAO,CAAA,QA5aN,SAAA,SA8af8S,EAAAA,OACA3K,EACA5C,QAAS4C,EAAAA,uBACTgM,EAAAA,aACAxB,EAAAA,cACAnS,EAAAA,cACA0K,EARqB,cAQrBA,cACAwG,EAAAA,aACAzG,EAAAA,UACAvJ,EAXqB,UAWrBA,SACAC,EAZqB,SAYrBA,eACAoS,EAAAA,YACAQ,EAAAA,UACAzS,EAfqB,UAerBA,cACA0S,EAAAA,KACAE,EAAAA,WACAU,EAAAA,wBACAU,EAAAA,SACAzF,EAAAA,KACAE,GACExD,GAtBY/M,QAAAA,QAAAA;;;AGhbf,IAOI+V,EACAC,EARArT,EAAUsT,OAAOtF,QAAU,GAU/B,SAASuF,IACC,MAAA,IAAIjD,MAAM,mCAEpB,SAASkD,IACC,MAAA,IAAIlD,MAAM,qCAsBpB,SAASmD,EAAWC,GACZN,GAAAA,IAAqB7J,WAEdA,OAAAA,WAAWmK,EAAK,GAGvB,IAACN,IAAqBG,IAAqBH,IAAqB7J,WAEzDA,OADP6J,EAAmB7J,WACZA,WAAWmK,EAAK,GAEvB,IAEON,OAAAA,EAAiBM,EAAK,GAC/B,MAAMtP,GACA,IAEOgP,OAAAA,EAAiB3M,KAAK,KAAMiN,EAAK,GAC1C,MAAMtP,GAEGgP,OAAAA,EAAiB3M,KAAK,KAAMiN,EAAK,KAMpD,SAASC,EAAgBC,GACjBP,GAAAA,IAAuBhG,aAEhBA,OAAAA,aAAauG,GAGpB,IAACP,IAAuBG,IAAwBH,IAAuBhG,aAEhEA,OADPgG,EAAqBhG,aACdA,aAAauG,GAEpB,IAEOP,OAAAA,EAAmBO,GAC5B,MAAOxP,GACD,IAEOiP,OAAAA,EAAmB5M,KAAK,KAAMmN,GACvC,MAAOxP,GAGEiP,OAAAA,EAAmB5M,KAAK,KAAMmN,MAjEhD,WACO,IAEIR,EADsB,mBAAf7J,WACYA,WAEAgK,EAEzB,MAAOnP,GACLgP,EAAmBG,EAEnB,IAEIF,EADwB,mBAAjBhG,aACcA,aAEAmG,EAE3B,MAAOpP,GACLiP,EAAqBG,GAjB5B,GAwED,IAEIK,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAa1V,OACb2V,EAAQD,EAAaK,OAAOJ,GAE5BE,GAAc,EAEdF,EAAM3V,QACNgW,KAIR,SAASA,IACDJ,IAAAA,EAAAA,CAGAzG,IAAAA,EAAUmG,EAAWQ,GACzBF,GAAW,EAGLK,IADFA,IAAAA,EAAMN,EAAM3V,OACViW,GAAK,CAGA,IAFPP,EAAeC,EACfA,EAAQ,KACCE,EAAaI,GACdP,GACAA,EAAaG,GAAYK,MAGjCL,GAAc,EACdI,EAAMN,EAAM3V,OAEhB0V,EAAe,KACfE,GAAW,EACXJ,EAAgBrG,IAiBpB,SAASgH,EAAKZ,EAAKa,GACVb,KAAAA,IAAMA,EACNa,KAAAA,MAAQA,EAYjB,SAASC,KA5BTxU,EAAQyU,SAAW,SAAUf,GACrBpI,IAAAA,EAAO,IAAIhJ,MAAMpE,UAAUC,OAAS,GACpCD,GAAAA,UAAUC,OAAS,EACd,IAAA,IAAIlB,EAAI,EAAGA,EAAIiB,UAAUC,OAAQlB,IAClCqO,EAAKrO,EAAI,GAAKiB,UAAUjB,GAGhC6W,EAAM1V,KAAK,IAAIkW,EAAKZ,EAAKpI,IACJ,IAAjBwI,EAAM3V,QAAiB4V,GACvBN,EAAWU,IASnBG,EAAK/O,UAAU8O,IAAM,WACZX,KAAAA,IAAIpC,MAAM,KAAM,KAAKiD,QAE9BvU,EAAQ0U,MAAQ,UAEhB1U,EAAQ2U,IAAM,GACd3U,EAAQ4U,KAAO,GACf5U,EAAQyO,QAAU,GAClBzO,EAAQ6U,SAAW,GAInB7U,EAAQ8U,GAAKN,EACbxU,EAAQ+U,YAAcP,EACtBxU,EAAQgV,KAAOR,EACfxU,EAAQiV,IAAMT,EACdxU,EAAQkV,eAAiBV,EACzBxU,EAAQmV,mBAAqBX,EAC7BxU,EAAQoV,KAAOZ,EACfxU,EAAQqV,gBAAkBb,EAC1BxU,EAAQsV,oBAAsBd,EAE9BxU,EAAQuV,UAAY,SAAUrS,GAAe,MAAA,IAE7ClD,EAAQwV,QAAU,SAAUtS,GAClB,MAAA,IAAIoN,MAAM,qCAGpBtQ,EAAQyV,IAAM,WAAqB,MAAA,KACnCzV,EAAQ0V,MAAQ,SAAUC,GAChB,MAAA,IAAIrF,MAAM,mCAEpBtQ,EAAQ4V,MAAQ,WAAoB,OAAA;;;ACoTpC,IAAA,EAAA,QAAA,WAAA,EAAA,MAAA,KAAA,WAAA,WAAA,IAAA,EAAA,SAAA,EAAA,GAAA,OAAA,EAAA,OAAA,gBAAA,CAAA,UAAA,cAAA,OAAA,SAAA,EAAA,GAAA,EAAA,UAAA,IAAA,SAAA,EAAA,GAAA,IAAA,IAAA,KAAA,EAAA,EAAA,eAAA,KAAA,EAAA,GAAA,EAAA,MAAA,EAAA,IAAA,OAAA,SAAA,EAAA,GAAA,SAAA,IAAA,KAAA,YAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,OAAA,EAAA,OAAA,OAAA,IAAA,EAAA,UAAA,EAAA,UAAA,IAAA,IAAA,GAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAxeA,IAAI,EAAW,EAsBF,QAAA,UAAY,0BA8DzB,IA5DA,IAAM,EAAmB,SACnB,EAAY,OACZ,EAAqB,KACrB,EAAgB,uCAChB,EAAY,SAAC,GAAc,MAAA,IAAI,EAAE,eAOjC,EAAmC,CACV,6BAAA,EACN,uBAAA,EACD,sBAAA,EACA,sBAAA,EACV,YAAA,EACM,kBAAA,EACG,qBAAA,EACL,gBAAA,EACL,SAAA,EACU,qBAAA,EACJ,iBAAA,EACT,MAAA,EACK,aAAA,EACI,iBAAA,EACF,eAAA,EACE,iBAAA,EACH,cAAA,EACC,eAAA,EACF,aAAA,EACE,eAAA,EACI,mBAAA,EACC,oBAAA,EACC,qBAAA,EACT,YAAA,EACI,gBAAA,EACC,iBAAA,EACC,kBAAA,EACJ,cAAA,EACC,eAAA,EACJ,SAAA,EACF,OAAA,EACE,SAAA,EACC,YAAA,EACF,QAAA,EACC,WAAA,EACH,MAAA,EAEQ,gBAAA,EACC,iBAAA,EACD,gBAAA,EACI,oBAAA,EACC,qBAAA,EACA,qBAAA,EACH,kBAAA,EACF,gBAAA,GAIK,EAAA,EAAA,EAAA,OAAO,KAAK,GAAZ,EAAA,EAAA,OAAA,IACA,IADZ,IAAA,EAAQ,EAAA,GACI,EAAA,EAAA,EAAA,CAAC,WAAY,OAAQ,QAAS,MAAO,IAArC,EAAA,EAAA,OAAA,IAA0C,CAApD,IAAA,EAAM,EAAA,GACf,EAAW,EAAS,IAAY,EAYpC,SAAgB,EAAW,GAClB,OAAA,EACJ,QAAQ,EAAkB,GAC1B,QAAQ,EAAW,QAMxB,SAAgB,EAAY,GAGnB,IAFH,IAAA,EAAQ,KACR,EAAM,EAAI,OACP,KAAO,EAAiB,GAAR,EAAc,EAAI,WAAW,GAC7C,OAAC,IAAU,GAAG,SAAS,IAMhC,SAAS,EAAe,EAAa,GAC/B,MAAiB,iBAAV,GAAgC,IAAV,GAAgB,EAAW,eAAe,GAIjE,EAAG,IAAI,EAHL,EAAG,IAAI,EAAK,KAS1B,SAAS,EAA8B,GAC9B,OAAA,EAAM,KAAK,SAAC,EAAG,GAAM,OAAA,EAAE,GAAK,EAAE,GAAK,GAAK,IAMjD,SAAS,EAAa,EAAgB,GAMlB,IALZ,IAAA,EAA+D,GAC/D,EAAwC,GAC1C,GAAW,EAGG,EAAA,EAAA,EAAA,OAAO,KAAK,GAAZ,EAAA,EAAA,OAAA,IAAqB,CAA5B,IAAA,EAAG,EAAA,GACN,EAAQ,EAAO,GAEjB,MAAA,IACE,IAAQ,QAAA,UACV,GAAW,EACe,iBAAV,GAAuB,MAAM,QAAQ,GAGrD,EAAW,KAAK,CAAC,EAAU,EAAI,QAAS,IAFxC,EAAa,KAAK,CAAC,EAAI,OAAQ,KAO9B,MAAA,CACL,MAAO,EAAoB,EAAW,IACtC,OAAQ,EAAkB,EAAe,EAAW,GACpD,SAAQ,GAOZ,SAAS,EAAqB,GACrB,OAAA,EAAW,IAAI,SAAC,GAAC,IAAA,EAAA,EAAA,GAAM,EAAA,EAAA,GACxB,OAAC,MAAM,QAAQ,GAEZ,EAAM,IAAI,SAAA,GAAK,OAAA,EAAc,EAAM,KAAI,KAAK,KAFjB,EAAc,EAAM,KAGrD,KAAK,KAMV,SAAS,EAAa,EAAkB,GAClC,OAA2B,IAA3B,EAAS,QAAQ,KAAuB,EAAM,IAAI,EAC/C,EAAS,QAAQ,EAAoB,GAS9C,SAAS,EACP,EACA,EACA,EACA,EACA,GAEM,IAAA,EAAA,EAAA,EAAA,KAAA,GAAE,EAAA,EAAA,MAAO,EAAA,EAAA,OAAQ,EAAA,EAAA,SACnB,EAAM,EAEN,GAA2B,KAA3B,EAAS,WAAW,GAAmB,CACnC,IAAA,EAAqB,CAAE,SAAQ,EAAE,OAAQ,GAAI,MAAO,GAAI,MAAO,EAAS,GAAK,GACnF,EAAU,KAAK,GAGX,GAAS,GAAQ,EAAM,OAAO,KAAK,CAAE,SAAU,EAAQ,MAAK,EAAE,SAAQ,IAE9C,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAQ,CAAzB,IAAA,EAAA,EAAA,GACT,IADU,EAAA,EAAA,IACI,EAAQ,EADN,EAAA,GACmB,EAAM,MAAO,EAAM,OAAQ,QAE3D,CACC,IAAA,EAAM,EAAS,EAAY,EAAU,GAAU,EAEjD,GAAO,EAAW,KAAK,CAAE,SAAU,EAAK,MAAK,EAAE,SAAQ,IAE/B,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAQ,CAAzB,IAAC,EAAD,EAAA,EAAA,GACT,IADU,EAAA,EAAA,IACI,EAAQ,EADN,EAAA,GACmB,EAAW,EAAY,IAIvD,OAAA,EAMT,SAAS,EACP,EACA,EACA,EACA,EACA,EACA,GAE4C,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAY,CAA7C,IAAA,EAAA,EAAA,GAAE,EAAA,EAAA,SAAU,EAAA,EAAA,MAAO,EAAA,EAAA,SACtB,EAAM,EAAU,EAAY,EAAU,GAAa,EACnD,EAAK,EAAW,SAAS,GAAU,SAAS,IAAQ,MAAM,EAAG,KAAK,GAClE,EAAO,IAAI,EAAM,EAAO,IACzB,IAAI,IAAI,EAAS,EAAK,MAAM,EAAG,KAAK,IACzC,EAAM,IAAI,GAGqC,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAW,CAAjD,IACH,EADG,EAAA,EAAA,GAAmB,GAAjB,EAAA,EAAA,SAAU,EAAA,EAAA,MAAO,EAAA,OAAO,EAAA,EAAA,OAEnC,EADM,EAAO,IAAI,EAAK,EAAU,EAAO,MAAM,EAAG,KAAK,EAAQ,KAAK,GAC7C,EAAK,EAAO,EAAQ,EAAW,GACpD,EAAM,IAAI,IAOd,SAAS,EAAM,GAER,IADD,IAAA,EAAM,GACD,EAAI,EAAG,EAAI,EAAI,OAAQ,IAAK,GAAO,EAAI,GACzC,OAAA,EA/JI,QAAA,OAAS,SAAC,GAAgB,OAAA,EAAI,QAAQ,EAAe,SAKlE,QAAA,UAAA,EASA,QAAA,WAAA,EAgKA,IAAM,EAAuB,CAC3B,IAAK,aACL,OAAQ,aACR,OAAQ,cAeV,EAAA,WAQE,SAAA,EAAoB,QAAA,IAAA,IAAA,EAAA,GAAA,KAAA,QAAA,EAPpB,KAAA,MAAkB,GAClB,KAAA,SAAW,EAEH,KAAA,MAAkB,GAClB,KAAA,UAA2C,OAAO,OAAO,MACzD,KAAA,UAAgD,OAAO,OAAO,MAgFxE,OA5EE,EAAA,UAAA,IAAA,SAAmB,GACX,IAAA,EAAQ,KAAK,UAAU,EAAM,KAAO,EACpC,EAAU,KAAK,UAAU,EAAM,KAAO,EAAM,QAI9C,GAFC,KAAA,UAAU,EAAM,IAAM,EAAQ,EAErB,IAAV,EACG,KAAA,UAAU,EAAK,IAAM,EACrB,KAAA,MAAM,KAAK,EAAK,IAChB,KAAA,MAAM,KAAK,EAAK,aAChB,KAAA,WACA,KAAA,QAAQ,IAAI,EAAM,KAAK,MAAM,OAAS,QACtC,GAAI,aAAgB,GAAS,aAAiB,EAAO,CACpD,IAAA,EAAW,KAAK,MAAM,QAAQ,EAAM,IACpC,EAAmB,EAAK,SAE9B,EAAK,MAAM,GAEP,EAAK,WAAa,IACf,KAAA,MAAM,OAAO,EAAU,EAAG,EAAK,aAC/B,KAAA,WACA,KAAA,QAAQ,OAAO,EAAM,EAAU,IAIjC,OAAA,GAGT,EAAA,UAAA,OAAA,SAAQ,GACA,IAAA,EAAQ,KAAK,UAAU,EAAM,IAE/B,QAAU,IAAV,GAAuB,EAAQ,EAAG,CAC/B,KAAA,UAAU,EAAM,IAAM,EAAQ,EAE7B,IAAA,EAAO,KAAK,UAAU,EAAM,IAC5B,EAAQ,KAAK,MAAM,QAAQ,EAAK,IAElC,GAAU,IAAV,SACK,KAAK,UAAU,EAAM,WACrB,KAAK,UAAU,EAAM,IAEvB,KAAA,MAAM,OAAO,EAAO,GACpB,KAAA,MAAM,OAAO,EAAO,GACpB,KAAA,WACA,KAAA,QAAQ,OAAO,EAAM,QACrB,GAAI,aAAgB,GAAS,aAAiB,EAAO,CACpD,IAAA,EAAe,EAAK,SAE1B,EAAK,QAAQ,GAET,EAAK,WAAa,IACf,KAAA,MAAM,OAAO,EAAO,EAAG,EAAK,aAC5B,KAAA,WACA,KAAA,QAAQ,OAAO,EAAM,EAAO,OAMzC,EAAA,UAAA,OAAA,WAAA,IAAA,EAAA,KACS,OAAA,KAAK,MAAM,IAAI,SAAA,GAAO,OAAA,EAAK,UAAU,MAG9C,EAAA,UAAA,MAAA,SAAO,GACc,IAAA,IAAA,EAAA,EAAA,EAAA,EAAM,SAAN,EAAA,EAAA,OAAA,IAAc,CAAtB,IAAA,EAAI,EAAA,GAAyB,KAAA,IAAI,GACrC,OAAA,MAGT,EAAA,UAAA,QAAA,SAAS,GACY,IAAA,IAAA,EAAA,EAAA,EAAA,EAAM,SAAN,EAAA,EAAA,OAAA,IAAc,CAAtB,IAAA,EAAI,EAAA,GAAyB,KAAA,OAAO,GACxC,OAAA,MAGT,EAAA,UAAA,MAAA,WACS,OAAA,IAAI,GAAW,MAAM,OAEhC,EAtFA,GAAa,QAAA,MAAA,EA2Fb,IAAA,EAAA,WACE,SAAA,EAAoB,EAAyB,GAAzB,KAAA,SAAA,EAAyB,KAAA,GAAA,EAS/C,OAPE,EAAA,UAAA,UAAA,WACS,OAAA,KAAK,UAGd,EAAA,UAAA,MAAA,WACS,OAAA,IAAI,EAAS,KAAK,SAAU,KAAK,KAE5C,EAVA,GAAa,QAAA,SAAA,EAeb,IAAA,EAAA,SAAA,GACE,SAAA,EAAoB,EAAsB,GAA1C,IAAA,EACE,EAAA,KAAA,OAAO,KA+FX,OAhGsB,EAAA,MAAA,EAAsB,EAAA,GAAA,EAgG5C,EArFA,OAZ2B,EAAA,EAAA,GAKzB,EAAA,UAAA,UAAA,WACY,OAAA,KAAK,MAAM,KAAK,KAAI,IAAI,KAAK,MAAK,KAG9C,EAAA,UAAA,MAAA,WACS,OAAA,IAAI,EAAM,KAAK,MAAO,KAAK,IAAI,MAAM,OAEhD,EAZA,CAA2B,GAAd,QAAA,MAAA,EAiBb,IAAA,EAAA,SAAA,GACE,SAAA,EACS,EACA,EACA,GAHT,IAAA,EAKE,EAAA,KAAA,OAAO,KA0EX,OA9EW,EAAA,KAAA,EACA,EAAA,MAAA,EACA,EAAA,GAAA,EA4EX,EAhEA,OAhB0B,EAAA,EAAA,GASxB,EAAA,UAAA,UAAA,WACY,OAAA,KAAK,KAAI,IAAI,KAAK,MAAQ,EAAK,KAAK,OAAM,KAGtD,EAAA,UAAA,MAAA,WACS,OAAA,IAAI,EAAK,KAAK,KAAM,KAAK,MAAO,KAAK,IAAI,MAAM,OAE1D,EAhBA,CAA0B,GAAb,QAAA,KAAA,EAqBb,IAAA,EAAA,SAAA,GACE,SAAA,EACS,EACA,EACA,EACP,GAJF,IAAA,EAME,EAAA,KAAA,KAAM,IAAQ,KAoDlB,OAzDW,EAAA,KAAA,EACA,EAAA,MAAA,EACA,EAAA,GAAA,EAuDX,EALA,OAtD+B,EAAA,EAAA,GAU7B,EAAA,UAAA,cAAA,SAAe,EAAgB,GACvB,IAAA,EAA2B,GAC3B,EAA6B,GAC7B,EAAM,EAAQ,IAAK,EAAQ,EAAW,GACtC,EAAO,IAAI,KAAK,KAAK,GACrB,EAAK,KAAK,OAAS,EAAiB,EAAW,IAAI,EAAS,EAE3D,OADP,EAAe,KAAM,EAAK,EAAW,EAAY,IAAI,QAAA,OAAO,IAAO,GAC5D,GAGT,EAAA,UAAA,kBAAA,SAAmB,EAAmB,GAC7B,OAAA,KAAK,iBAAiB,aAAc,EAAW,IAGxD,EAAA,UAAA,iBAAA,SAAkB,EAAgB,EAAgB,GAC1C,IAAA,EAA2B,GAC3B,EAA6B,GAC7B,EAAM,EAAQ,GAAI,EAAQ,EAAW,GACrC,EAAO,IAAI,KAAK,KAAK,GACrB,EAAK,KAAK,OAAS,EAAiB,EAAW,IAAI,EAAS,EAC5D,EAAO,IAAI,EAAQ,EAAM,IAAI,QAAA,OAAO,GAAO,GAAI,MAAM,EAAG,KAAK,GAG5D,OAFP,EAAe,EAAM,EAAK,EAAW,EAAY,IAAI,GAChD,KAAA,IAAI,GACF,GAGT,EAAA,UAAA,aAAA,SAAc,EAAc,GACpB,IAAA,EAA2B,GAC3B,EAA6B,GAEnC,EAAe,KADH,EAAQ,EAAM,EAAQ,EAAW,GACnB,EAAW,EAAY,IAAI,IAGvD,EAAA,UAAA,YAAA,SAAa,GACJ,OAAA,KAAK,aAAa,GAAI,IAG/B,EAAA,UAAA,UAAA,WACS,OAAA,EAAK,KAAK,QAGnB,EAAA,UAAA,MAAA,WACS,OAAA,IAAI,EAAU,KAAK,KAAM,KAAK,MAAO,KAAK,GAAI,KAAK,SAAS,MAAM,OAE7E,EAtDA,CAA+B,GA2D/B,SAAgB,EACd,EACA,EACA,GAEO,YAJP,IAAA,IAAA,EAAA,QACA,IAAA,IAAA,OAA6C,IAApB,IAAoC,QAC7D,IAAA,IAAA,EAAA,GAEO,IAAI,EAAU,EAAM,EAAO,OAAO,GAAU,SAAS,IAAO,GAhExD,QAAA,UAAA,EA2Db,QAAA,OAAA;;AC5bC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,QAAA,iBAAA,EA/CD,IAAA,EAAA,EAAA,QAAA,eA+CC,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,IAAA,EAAA,GAAA,GAAA,MAAA,EAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,OAAA,yBAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,IAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,EAxCM,SAASC,EAAgBC,GAExBjJ,IAAAA,EAAS,GACTkJ,EAAY,GACX,IAAA,IAAI9X,KAAO6X,EAAQ,CAEhBE,IAAAA,EAAMF,EAAO7X,GAEbA,GAAQ,YAARA,EACA4O,EAAOoJ,EAAUC,WAAaF,OAE7B,GAAY,UAAR/X,EAAiB,CAClBkY,IAAAA,EAASH,EACR,IAAA,IAAII,KAAYD,EAAQ,CACrBE,IAAAA,EAAgBF,EAAOC,GAC3BvJ,EAAOuJ,GAAYP,EAAgBQ,GAAexJ,YAGzC,eAAR5O,EACL8X,EAAYC,EAGZnJ,EAAO5O,GAAO+X,EAGf,MAAA,CAAEnJ,OAAQA,EAAQkJ,UAAWA,GAGjC,SAASO,EAAiBC,GACzB1J,IAAAA,EAAS,CAAE2J,gBAAY7U,EAAW8U,UAAW,IAC5C,IAAA,IAAIC,KAAUH,EAAQ,CACnBP,IAAAA,EAAMO,EAAOG,GACF,eAAXA,EACA7J,EAAO2J,WAAaR,EAGpBnJ,EAAO4J,UAAUC,GAAUV,EAG5BnJ,OAAAA;;ACqDX,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAAA,QAAA,OAAA,EAAA,QAAA,MAAA,QAAA,SAAA,EAlGO,IAAIW,EAAuC,oBAA1BL,sBAKlB,SAAUwJ,GAAapN,OAAAA,WAAWoN,IAKhB,oBAAXzJ,OACHC,sBACAA,sBAAsB9D,KAAK6D,QAI9B,SAAS0J,IAEP,IADDA,IAAAA,EAAU,GACLC,EAAK,EAAGA,EAAK3Y,UAAUC,OAAQ0Y,IACpCD,EAAQC,GAAM3Y,UAAU2Y,GAErBD,OAAAA,EACFxU,IAAI,SAAUvC,GAAYA,OAAAA,GAAkB,iBAANA,EAAiBoR,OAAO6F,KAAKjX,GAAGuC,IAAI,SAAUnE,GAAc,QAAE4B,EAAE5B,IAAQA,IAAU,CAAC4B,KACzHkX,OAAO,SAAU5U,EAAWtC,GAAYsC,OAAAA,EAAU+R,OAAOrU,IAAO,IAChEmX,OAAO,SAAUnX,GAAY,QAAEA,IAC/BoX,KAAK,KAMP,SAASC,IAEP,IADDC,IAAAA,EAAU,GACLN,EAAK,EAAGA,EAAK3Y,UAAUC,OAAQ0Y,IACpCM,EAAQN,GAAM3Y,UAAU2Y,GAIvB,IADDhK,IAAAA,EAAS,GACJuK,EAAK,EAAGC,EAAYF,EAASC,EAAKC,EAAUlZ,OAAQiZ,IAAM,CAC3DtB,IAAAA,EAASuB,EAAUD,GACnBtB,GAAU,MAAVA,IAA6B,IAAXA,EAGjB,IAAA,IAAI7X,KAAO6X,EAAQ,CAEhBE,IAAAA,EAAMF,EAAO7X,IACZ+X,GAAe,IAARA,KAIA,UAAR/X,GAAmB+X,EACnBnJ,EAAO5O,GAAO4O,EAAM,MAAYqK,EAAOrK,EAAM,MAAWmJ,GAAOA,GAEnC,IAAtB/X,EAAIsB,QAAQ,MAAyC,IAA1BtB,EAAIsB,QAAQ,UAC7CsN,EAAO5O,GAAO4O,EAAO5O,GAAOiZ,EAAOrK,EAAO5O,GAAM+X,GAAOA,EAGvDnJ,EAAO5O,GAAO+X,IAInBnJ,OAAAA,EAqCX,QAAA,IAAA,EA3BO,IAAIyK,EAAQ,SAAUC,GAEpB,IADDJ,IAAAA,EAAU,GACLN,EAAK,EAAGA,EAAK3Y,UAAUC,OAAQ0Y,IACpCM,EAAQN,EAAK,GAAK3Y,UAAU2Y,GAE5BW,IAoBAJ,EApBAI,EAAqB,GAmBlB1B,OAlBHyB,EAAWzZ,MACX0Z,EAAmBpZ,KAAKmZ,EAAWzZ,MACnCyZ,EAAWE,aACXD,EAAmBpZ,KAAK,iBAAmBmZ,EAAWE,YAAc,KACpEF,EAAWG,UACXF,EAAmBpZ,KAAK,eAAiBuZ,EAAYJ,EAAWG,UAAY,KAC5EH,EAAWK,UACXJ,EAAmBpZ,KAAK,eAAiBuZ,EAAYJ,EAAWK,UAAY,KAC5EL,EAAWM,WACXL,EAAmBpZ,KAAK,gBAAkBuZ,EAAYJ,EAAWM,WAAa,KAC9EN,EAAWO,WACXN,EAAmBpZ,KAAK,gBAAkBuZ,EAAYJ,EAAWO,WAAa,KAErE,CACTC,OAAQX,EAAK,GACTA,EAHe,UAAYI,EAAmBP,KAAK,UAG5BC,EAAO5F,WAAM,EAAQ6F,GAC5CC,KAKZ,QAAA,MAAA,EAAA,IAAIO,EAAc,SAAU3U,GACjB,MAAiB,iBAAVA,EAAqBA,EAAQA,EAAQ;;ACtFvD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAdA,IAAA,EAAA,EAAA,QAAA,eACA,EAAA,QAAA,gBACA,EAAA,QAAA,eAYA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,IAAA,EAAA,GAAA,GAAA,MAAA,EAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,OAAA,yBAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,IAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,EARA,IAAIgV,EAAkB,WAAqB/B,OAAAA,EAAUgC,YAErDtW,GAF2C,IAQvCuW,EAA2B,WAClBA,SAAAA,EAAUd,GACXe,IAAAA,EAAkBf,EAAGe,gBACrB5I,EAAQ,KAOP6I,KAAAA,OAAS,SAAUC,GACfA,IAGL9I,EAAM+I,MAAQD,GAAkB,GAChC9I,EAAMgJ,mBAAoB,EAC1BhJ,EAAMiJ,kBAKLC,KAAAA,QAAU,SAAUrC,GAEhB,IADDe,IAAAA,EAAU,GACLN,EAAK,EAAGA,EAAK3Y,UAAUC,OAAQ0Y,IACpCM,EAAQN,EAAK,GAAK3Y,UAAU2Y,GAE5Bf,IAAAA,GAAS,EAAgBoB,EAAAA,iBAAAA,EAAO5F,OAAAA,WAAM,EAAQ6F,IAAUtK,OAC5D0C,EAAMmJ,WAAWC,aAAavC,EAAUN,GACxCvG,EAAMiJ,iBAQLI,KAAAA,kBAAoB,WACjBC,IAAAA,EAAStJ,EAAMuJ,UACdD,IAGLA,EAAOE,YAAcxJ,EAAMyJ,cAK1BC,KAAAA,SAAW,WAEP,IADDA,IAAAA,EAAW,GACNpC,EAAK,EAAGA,EAAK3Y,UAAUC,OAAQ0Y,IACpCoC,EAASpC,GAAM3Y,UAAU2Y,GAGxB,IADDqC,IAAAA,EAAY3J,EAAMmJ,WACbtB,EAAK,EAAG+B,EAAKF,EAAU7B,EAAK+B,EAAGhb,OAAQiZ,IAAM,CAC9CgC,IAAAA,EAAOD,EAAG/B,GACd8B,EAAUP,aAAa,aAAcS,GAEzC7J,EAAMiJ,iBAMLQ,KAAAA,UAAY,WACN,OAACzJ,EAAM+I,MAAQ,IAAM/I,EAAMmJ,WAAWM,aAK5CvC,KAAAA,UAAY,SAAUF,GACnBa,IAAAA,GAAK,EAAiBb,EAAAA,kBAAAA,GAASE,EAAYW,EAAGX,UAAWD,EAAaY,EAAGZ,WAEzE6C,EAAgB9J,EAAMmJ,WAAWY,kBAAkB7C,EAAWD,GAE3D6C,OADP9J,EAAMiJ,gBACCa,GAKNE,KAAAA,OAAS,WAENL,IAAAA,EAAYlB,IAChBzI,EAAMmJ,WAAaQ,EACnB3J,EAAMiK,uBAAyBN,EAAUO,SAEzClK,EAAM+I,KAAO,GACb/I,EAAMgJ,mBAAoB,EAEtBM,IAAAA,EAAStJ,EAAMuJ,UACfD,IACAA,EAAOE,YAAc,KAIxBW,KAAAA,gBAAkB,SAAUC,GAEzBpK,EAAMqK,OACNrK,EAAMqK,KAAKb,YAAc,IAE7BxJ,EAAMqK,KAAOD,EAEbpK,EAAMqJ,qBAOLiB,KAAAA,WAAa,SAAUjD,GAGnB,IAFDkD,IACAjN,EAAS,GACJgK,EAAK,EAAGkD,EAFA9I,OAAO+I,oBAAoBpD,GAEAC,EAAKkD,EAAa5b,OAAQ0Y,IAAM,CACpE/F,IAAAA,EAAYiJ,EAAalD,GACzBoD,EAAWrD,EAAQ9F,GACnBmJ,IACAA,EAASzD,WAAa1F,EACtBjE,EAAOiE,GAAavB,EAAMxM,MAAMkX,IAGjCpN,OAAAA,GAEPqM,IAAAA,EAAYlB,IACXkC,KAAAA,iBAAmB/B,EACnBO,KAAAA,WAAaQ,EACbM,KAAAA,uBAAyBN,EAAUO,SACnCU,KAAAA,SAAW,EACX5B,KAAAA,mBAAoB,EACpBD,KAAAA,KAAO,GACPsB,KAAAA,UAAOjY,EAEPoB,KAAAA,MAAQ,KAAKA,MAAMsG,KAAK,MAmD1B6O,OA9CPA,EAAU3S,UAAU6U,cAAgB,SAAUzD,GACtCpH,IAAAA,EAAQ,KACP4K,KAAAA,WACDE,IAAAA,EAAU,KAAKF,UACf,EAAA,EAAA,KAAA,WACIE,IAAY9K,EAAM4K,UAGtBxD,OAGRuB,EAAU3S,UAAUuT,QAAU,WACtB,GAAA,KAAKc,KACE,OAAA,KAAKA,KAEZ,GAAA,KAAKM,iBAAkB,CACnBP,IAAAA,EAAwB,oBAAXzM,OACX,CAAE6L,YAAa,IACf1R,SAASxJ,cAAc,SAKtB8b,MAJiB,oBAAbtS,UACPA,SAASiT,KAAKxY,YAAY6X,GAEzBC,KAAAA,KAAOD,EACLA,IAKfzB,EAAU3S,UAAUiT,cAAgB,WAC5BjJ,IAAAA,EAAQ,KACRkK,EAAW,KAAKf,WAAWe,SAC3Bc,EAAe,KAAKf,wBACnB,KAAKjB,mBAAqBkB,IAAac,KAGvCf,KAAAA,uBAAyBC,EACzBlB,KAAAA,mBAAoB,EACpB6B,KAAAA,cAAc,WAAqB7K,OAAAA,EAAMqJ,wBAElDV,EAAU3S,UAAUxC,MAAQ,WACpBmW,IAAAA,EAAY,KAAKR,WACjBtB,GAAK,EAAgBF,EAAAA,iBAAAA,EAAO5F,OAAAA,WAAM3P,EAAWzD,YAAa2O,EAASuK,EAAGvK,OAAQkJ,EAAYqB,EAAGrB,UAC7FjF,EAAYiF,EAAYmD,EAAUsB,cAAc3N,EAAQkJ,GAAamD,EAAUsB,cAAc3N,GAE1FiE,OADF0H,KAAAA,gBACE1H,GAEJoH,EApLoB,GAA/B,QAAA,UAAA;;;;AC0DC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,UAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,QAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,SAAA,QAAA,MAAA,QAAA,WAAA,QAAA,MAAA,QAAA,OAAA,QAAA,UAAA,QAAA,UAAA,QAAA,SAAA,QAAA,kBAAA,QAAA,QAAA,QAAA,OAAA,QAAA,qBAAA,EAxED,IAAA,EAAA,QAAA,wBAKA,EAAA,EAAA,QAAA,YAmEC,QAAA,MAAA,EA9DD,IAAA,EAAA,QAAA,wBA8DC,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,IAAA,EAAA,GAAA,GAAA,MAAA,EAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,OAAA,yBAAA,EAAA,GAAA,GAAA,EAAA,KAAA,EAAA,IAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,EA5DD,IAAIuC,EAAK,IAAIvC,EAAJ,UAAc,CAAEC,iBAAiB,IAE/BuB,EAAkBe,EAAGf,gBA0D/B,QAAA,gBAAA,EAnDM,IAAItB,EAASqC,EAAGrC,OAmDtB,QAAA,OAAA,EA/CM,IAAIK,EAAUgC,EAAGhC,QA+CvB,QAAA,QAAA,EAzCM,IAAIG,EAAoB6B,EAAG7B,kBAyCjC,QAAA,kBAAA,EArCM,IAAIK,EAAWwB,EAAGxB,SAqCxB,QAAA,SAAA,EAjCM,IAAID,EAAYyB,EAAGzB,UAiCzB,QAAA,UAAA,EA7BM,IAAIvC,EAAYgE,EAAGhE,UA6BzB,QAAA,UAAA,EAzBM,IAAI8C,EAASkB,EAAGlB,OAyBtB,QAAA,OAAA,EArBM,IAAIxW,EAAQ0X,EAAG1X,MAqBrB,QAAA,MAAA,EAfM,IAAI8W,EAAaY,EAAGZ,WASpB,SAASa,EAAgB7B,GACxB8B,IAAAA,EAAW,IAAIzC,EAAJ,UAAc,CAAEC,iBAAiB,IAIzCwC,OAHH9B,GACA8B,EAASjB,gBAAgBb,GAEtB8B,EACV,QAAA,WAAA;;ACxED,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,QAAA,SAAA,iBAAA,OACA,QAAA,GAAA,SAAA,GAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,EAAA,GAAA,UAAA,GAEA,OAAA,EAAA,iBAAA,MAAA,EAAA,IAEA,QAAA,IAAA,SAAA,GAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,EAAA,GAAA,UAAA,GAEA,OAAA,EAAA,oBAAA,MAAA,EAAA;;ACfA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,SACA,EAAA,QAAA,UACA,EAAA,EAAA,SAAA,OAAA,KACA,EAAA,SAAA,EAAA,EAAA,EAAA,QACA,IAAA,IAAA,EAAA,GACA,EAAA,UAAA,WACA,GAAA,GAGA,EAKA,OAFA,EAAA,kBAAA,EAAA,IACA,KAAA,EAAA,EAAA,EAAA,GACA,YACA,EAAA,qBAAA,EAAA,KACA,KAAA,EAAA,EAAA,EAAA,KAEA,CAAA,EAAA,EAAA,EAAA,KAAA,UAAA,MAEA,QAAA,QAAA;;ACtBA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,WACA,SAAA,IACA,KAAA,gBAAA,IAAA,QACA,KAAA,gBAAA,IAAA,QAmCA,OAjCA,EAAA,UAAA,aAAA,SAAA,GAGA,IAFA,IAAA,EAAA,KACA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,EAAA,GAAA,UAAA,GAEA,IAAA,EAAA,KAAA,gBAAA,IAAA,IAAA,IAAA,IACA,EAAA,QAAA,SAAA,GACA,IAAA,EAAA,EAAA,gBAAA,IAAA,IAAA,IAAA,IACA,EAAA,IAAA,GACA,EAAA,IAAA,GACA,EAAA,gBAAA,IAAA,EAAA,KAEA,KAAA,gBAAA,IAAA,EAAA,IAEA,EAAA,UAAA,aAAA,SAAA,GACA,OAAA,KAAA,gBAAA,IAAA,IAAA,IAAA,KAEA,EAAA,UAAA,QAAA,SAAA,GACA,OAAA,KAAA,gBAAA,IAAA,IAAA,IAAA,KAEA,EAAA,UAAA,cAAA,SAAA,GACA,IAAA,EAAA,KACA,EAAA,KAAA,QAAA,GACA,KAAA,gBAAA,OAAA,GACA,EAAA,QAAA,SAAA,GACA,IAAA,EAAA,EAAA,aAAA,GACA,EAAA,OAAA,GACA,IAAA,EAAA,MACA,EAAA,gBAAA,OAAA,MAIA,EAtCA,GAwCA,QAAA,OAAA;;AC1CA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,aACA,EAAA,WACA,SAAA,EAAA,GACA,KAAA,YAAA,EACA,KAAA,QAAA,IAAA,EAAA,OAkHA,OAhHA,EAAA,MAAA,WAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,GAAA,UAAA,GAEA,IAAA,EAAA,IAAA,IACA,OAAA,IAAA,EAAA,CACA,IAAA,SAAA,GACA,IAAA,EAAA,SAAA,GAAA,OAAA,EAAA,IACA,EAAA,IAAA,EAAA,GACA,EAAA,QAAA,SAAA,GAAA,OAAA,EAAA,IAAA,MAEA,OAAA,SAAA,GACA,IAAA,EAAA,EAAA,IAAA,GACA,EAAA,OAAA,GACA,EAAA,QAAA,SAAA,GAAA,OAAA,EAAA,OAAA,SAIA,EAAA,UAAA,SAAA,EAAA,GACA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,SAAA,IACA,EAAA,OAAA,GACA,GACA,EAAA,OAAA,GAGA,SAAA,EAAA,GACA,IACA,EAAA,GAEA,SAAA,EAAA,GACA,IACA,EAAA,GAEA,EAAA,IAAA,GACA,GACA,EAAA,IAAA,MAIA,EAAA,UAAA,IAAA,SAAA,GAEA,IADA,IAIA,EAJA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,EAAA,GAAA,UAAA,IAGA,EAAA,KAAA,SAAA,aAAA,MAAA,EAAA,CAAA,GAAA,OAAA,IACA,KAAA,YAAA,IAAA,IAEA,EAAA,UAAA,OAAA,SAAA,GACA,IAAA,EAAA,KACA,KAAA,QAAA,aAAA,GACA,QAAA,SAAA,GACA,EAAA,YAAA,OAAA,GACA,EAAA,QAAA,cAAA,KAEA,KAAA,YAAA,OAAA,GACA,KAAA,QAAA,cAAA,IAEA,EAAA,UAAA,QAAA,SAAA,GAGA,IAFA,IAKA,EALA,EAAA,KACA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,EAAA,GAAA,UAAA,GAKA,KAAA,KAAA,QAAA,aAAA,GAAA,KAAA,GAAA,CAGA,IAAA,EAAA,SAAA,GACA,EAAA,YAAA,OAAA,GACA,EAAA,KAEA,EAAA,KAAA,SAAA,aAAA,MAAA,EAAA,CAAA,EAAA,GAAA,OAAA,IACA,KAAA,YAAA,IAAA,KAEA,EAAA,UAAA,OAAA,SAAA,GACA,OAAA,EAAA,KAAA,YAAA,SAAA,GAAA,OAAA,SAAA,GACA,EAAA,IACA,EAAA,OAIA,EAAA,UAAA,IAAA,SAAA,GACA,OAAA,EAAA,KAAA,YAAA,SAAA,GAAA,OAAA,SAAA,GAAA,OAAA,EAAA,EAAA,QAEA,EAAA,UAAA,MAAA,WAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IACA,EAAA,GAAA,UAAA,GAEA,OAAA,EAAA,MAAA,MAAA,EAAA,CAAA,KAAA,aAAA,OAAA,KAEA,EAAA,UAAA,UAAA,SAAA,GACA,OAAA,EAAA,UAAA,KAAA,YAAA,IAEA,EAAA,UAAA,SAAA,WACA,OAAA,EAAA,KAAA,YAAA,SAAA,GAAA,OAAA,SAAA,GAAA,OAAA,EAAA,OAEA,EAAA,UAAA,MAAA,SAAA,GAEA,OADA,KAAA,YAAA,IAAA,SAAA,GAAA,OAAA,EAAA,IAAA,KACA,EAAA,KAAA,YAAA,SAAA,GAAA,OAAA,SAAA,GAAA,OAAA,EAAA,KAAA,SAAA,EAAA,GACA,EAAA,QAAA,SAAA,GACA,KACA,EAAA,QAKA,EArHA,GA4HA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,IAAA,IACA,OAAA,IAAA,EAAA,CACA,IAAA,SAAA,GACA,IAAA,EAAA,EAAA,GACA,EAAA,IAAA,EAAA,GACA,EAAA,IAAA,GACA,GACA,EAAA,EAAA,WAAA,OAAA,EAAA,IAAA,MAGA,OAAA,SAAA,GACA,IAAA,EAAA,EAAA,IAAA,GACA,EAAA,OAAA,QAEA,IAAA,GACA,EAAA,OAAA,MArBA,QAAA,eAAA;;AC1HA,aACA,IAAA,EAAA,MAAA,KAAA,WAAA,WACA,IAAA,EAAA,SAAA,EAAA,GAIA,OAHA,EAAA,OAAA,gBACA,CAAA,UAAA,cAAA,OAAA,SAAA,EAAA,GAAA,EAAA,UAAA,IACA,SAAA,EAAA,GAAA,IAAA,IAAA,KAAA,EAAA,EAAA,eAAA,KAAA,EAAA,GAAA,EAAA,MACA,EAAA,IAEA,OAAA,SAAA,EAAA,GAEA,SAAA,IAAA,KAAA,YAAA,EADA,EAAA,EAAA,GAEA,EAAA,UAAA,OAAA,EAAA,OAAA,OAAA,IAAA,EAAA,UAAA,EAAA,UAAA,IAAA,IAVA,GAaA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,qBACA,EAAA,SAAA,GAEA,SAAA,IACA,IAAA,EAAA,EAAA,KAAA,KAAA,CACA,IAAA,SAAA,GACA,EAAA,WAAA,IAAA,IAEA,OAAA,SAAA,GACA,EAAA,WAAA,OAAA,OAEA,KAGA,OAFA,EAAA,WAAA,IAAA,IACA,EAAA,yBAAA,SAAA,GAAA,OAAA,EAAA,uBAAA,IACA,EAmBA,OA/BA,EAAA,EAAA,GAcA,EAAA,mBAAA,SAAA,GACA,EAAA,uBAAA,GAEA,EAAA,UAAA,SAAA,SAAA,GACA,IAAA,KAAA,WAAA,KAKA,KAAA,WAAA,QAAA,SAAA,GAAA,OAAA,EAAA,UAAA,EAAA,MAHA,EADA,KAAA,0BACA,IAKA,EAAA,UAAA,mBAAA,SAAA,GACA,KAAA,yBAAA,GAEA,EAAA,uBAAA,aAGA,EAhCA,CAiCA,EAAA,gBACA,QAAA,OAAA;;AClDA,aACA,IAAA,EAAA,MAAA,KAAA,WAAA,WACA,IAAA,EAAA,SAAA,EAAA,GAIA,OAHA,EAAA,OAAA,gBACA,CAAA,UAAA,cAAA,OAAA,SAAA,EAAA,GAAA,EAAA,UAAA,IACA,SAAA,EAAA,GAAA,IAAA,IAAA,KAAA,EAAA,EAAA,eAAA,KAAA,EAAA,GAAA,EAAA,MACA,EAAA,IAEA,OAAA,SAAA,EAAA,GAEA,SAAA,IAAA,KAAA,YAAA,EADA,EAAA,EAAA,GAEA,EAAA,UAAA,OAAA,EAAA,OAAA,OAAA,IAAA,EAAA,UAAA,EAAA,UAAA,IAAA,IAVA,GAaA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,WACA,SAAA,IACA,KAAA,UAAA,GAKA,OAHA,EAAA,UAAA,QAAA,SAAA,GACA,KAAA,UAAA,QAAA,SAAA,GAAA,OAAA,EAAA,MAEA,EAPA,GASA,QAAA,WAAA,EACA,IAAA,EAAA,SAAA,GAEA,SAAA,IACA,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KAKA,OAPA,EAAA,EAAA,GAIA,EAAA,UAAA,IAAA,SAAA,GACA,KAAA,UAAA,CAAA,IAEA,EARA,CASA,GACA,QAAA,WAAA,EACA,IAAA,EAAA,SAAA,GAEA,SAAA,IACA,OAAA,OAAA,GAAA,EAAA,MAAA,KAAA,YAAA,KAKA,OAPA,EAAA,EAAA,GAIA,EAAA,UAAA,IAAA,SAAA,GACA,KAAA,UAAA,KAAA,IAEA,EARA,CASA,GACA,QAAA,gBAAA;;AC9CA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,YACA,QAAA,OAAA,EAAA,OACA,IAAA,EAAA,QAAA,qBACA,QAAA,eAAA,EAAA,eACA,IAAA,EAAA,QAAA,YACA,QAAA,WAAA,EAAA,WACA,QAAA,gBAAA,EAAA;;ACsEgC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,YAAA,QAAA,cAAA,EA7EhC,IAAA,EAAA,EAAA,QAAA,iCAEA,EAAA,QAAA,iBA2EgC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzEhC,OAAO,OAAO,OAAQ,CAAE,KAAA,EAAA,UAOlB,MAAO,EAKX,YAAY,EAAa,GAClB,KAAA,IAAM,EACN,KAAA,QAAU,EACV,KAAA,KAAO,IAAI,WAAW,EAAK,QAAA,OAAO,OAAQ,EAAK,GAG/C,aAAM,GACL,MAAA,EAAM,EAAK,QAAA,OAAO,EAAM,QACxB,EAAW,IAAI,EAAS,EAAK,EAAM,QAElC,OADP,EAAS,KAAK,IAAI,GACX,EAGF,cAAO,EAAa,EAAe,GACjC,OAAA,OAAO,OAAO,IAAI,EAAS,EAAK,EAAQ,GAAS,CACtD,MAAA,EACA,OAAA,IAIJ,SAKS,OAJiB,GAApB,KAAK,KAAK,SACP,KAAA,KAAO,IAAI,WAAW,EAAK,QAAA,OAAO,OAAQ,KAAK,IAAK,KAAK,UAGzD,KAAK,KAAK,QAIrB,SAAS,EAAO,GACR,MAAA,EAAO,IAAI,WAAW,EAAK,QAAA,OAAO,OAAQ,GAC1C,EAAM,EAAK,UAAU,GAAW,IAAN,GAC1B,EAAW,EAAK,SAAS,EAAG,GAC3B,OAAA,IAAI,YAAY,SAAS,OAAO,GA4BT,QAAA,SAAA,EAzBzB,MAAM,EAAc,CACzB,MAAO,MACP,SAAU,CACR,CAAE,MAAO,MAAQ,IAAK,MAAY,KAAM,QACxC,CAAE,MAAO,MAAQ,IAAK,MAAY,KAAM,OACxC,CAAE,MAAO,MAAQ,IAAK,MAAY,KAAM,OACxC,CAAE,MAAO,MAAQ,IAAK,MAAY,KAAM,MACxC,CAAE,MAAO,MAAQ,IAAK,MAAY,KAAM,WAI5C,IAAK,EAc2B,QAAA,YAAA,EAdhC,SAAK,GACH,EAAA,EAAA,MAAA,GAAA,QACA,EAAA,EAAA,KAAA,GAAA,OACA,EAAA,EAAA,GAAA,GAAA,KACA,EAAA,EAAA,KAAA,GAAA,OAEA,EAAA,EAAA,EAAA,IAAA,IACA,EAAA,EAAA,EAAA,IAAA,IACA,EAAA,EAAA,OAAA,IAAA,SACA,EAAA,EAAA,MAAA,KAAA,QATF,CAAK,IAAA,EAAe,KAcN,MAAO,EAUnB,YAAY,GATL,KAAA,QAAU,IAAI,EAAJ,OAqFjB,KAAA,YAAsB,EA3Ef,KAAA,QAAU,EAAK,QAAA,WACf,KAAA,KAAK,GAEL,KAAA,MAAQ,IACR,KAAA,OAAS,IAGhB,UACS,OAAA,EAAS,OAAO,KAAK,QAAS,KAAK,MAAO,KAAK,QAGxD,aACS,OAAA,EAAS,OAAO,EAAK,QAAA,kBAAkB,KAAK,SAAU,IAAK,KAGpE,SACS,OAAA,EAAS,OAAO,EAAK,QAAA,cAAc,KAAK,SAAU,IAAK,KAGhE,cACS,OAAA,EAAS,OAAO,EAAK,QAAA,mBAAmB,KAAK,SAAU,EAAG,KAGnE,WACS,OAAA,EAAS,OAAO,EAAK,QAAA,gBAAgB,KAAK,SAAU,EAAG,MAGhE,MACQ,MAAA,EAAM,IAAI,EAAS,EAAK,QAAA,WAAW,KAAK,SAAU,IACjD,OAAA,OAAO,OAAO,EAAK,CACxB,GAAI,IAAM,EAAI,KAAK,IAAM,EAAI,KAAK,IAAM,GACxC,GAAI,IAAM,EAAI,KAAK,IAAM,EAAI,KAAK,IAAM,GACxC,GAAI,IAAM,EAAI,KAAK,IAAM,EAAI,KAAK,IAAM,GACxC,GAAI,IAAM,EAAI,KAAK,IAAM,EAAI,KAAK,IAAM,GACxC,GAAI,IAAM,EAAI,KAAK,IAAM,EAAI,KAAK,IAAM,GACxC,GAAI,IAAM,EAAI,KAAK,KAAO,EAAI,KAAK,KAAO,KAI9C,MACS,OAAA,IAAI,EAAS,EAAK,QAAA,WAAW,KAAK,SAAU,OAGrD,KAAK,GASK,OARJ,KAAK,WACF,EAAA,QAAA,KAAK,KAAK,UAAU,KAGtB,KAAA,KAAO,EACP,KAAA,UAAY,EAAS,MAAM,GAEjB,EAAK,QAAA,QAAQ,KAAK,QAAS,EAAK,OAAQ,KAAK,UAAU,MAE/D,KAAA,EACH,MACG,KAAA,EACG,MAAA,IAAI,MAAM,oBACb,KAAA,EACG,MAAA,IAAI,MAAM,qBACb,KAAA,EACG,MAAA,IAAI,MAAM,uBAClB,QACQ,MAAA,IAAI,MAAM,iBAGf,KAAA,QAAQ,WAGf,UACM,KAAK,WACF,EAAA,QAAA,KAAK,KAAK,UAAU,KAEtB,EAAA,QAAA,KAAK,KAAK,SAIjB,cAAc,GACP,KAAA,WAAa,EACb,EAAA,QAAA,kBAAkB,KAAK,QAAS,GAChC,KAAA,QAAQ,WAGf,QACO,EAAA,QAAA,SAAS,KAAK,SACd,KAAA,QAAQ,WAGf,OACQ,MAAA,EAAS,EAAK,QAAA,QAAQ,KAAK,SAE1B,OADF,KAAA,QAAQ,WACN,EAGT,YAAU,IAAA,EAAS,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,EACX,MAAA,EAAS,EAAK,QAAA,eAAe,KAAK,QAAS,GAE1C,OADF,KAAA,QAAQ,WACN,EAGT,aAAa,GACL,MAAA,EAAU,GACX,IAAA,IAAI,EAAM,EAAG,EAAM,EAAG,IAAO,CAC1B,MAAA,EAAO,GAAK,EACZ,EAAQ,EAAgB,GACxB,EAAQ,QAAQ,EAAM,GAC5B,EAAQ,GAAS,EAEZ,OAAA,EAGT,WAAW,GACH,MAAA,EAAM,EAAgB,GACrB,OAAA,KAAK,aAAa,EAAK,QAAA,eAAe,KAAK,QAAS,IAG7D,aAAa,GACL,MAAA,EAAM,EAAgB,GACrB,OAAA,KAAK,aAAa,EAAK,QAAA,iBAAiB,KAAK,QAAS,IAG/D,kBACS,OAAA,KAAK,aAAa,EAAK,QAAA,iBAAiB,KAAK,QAAS,MAGvD,mBAAY,GACZ,MAAA,EAAK,IAAI,EAAY,GACvB,IACK,OAAM,CACL,MAAA,EAAO,EAAG,MAAM,KAChB,EAAS,EAAK,QAAA,eAAe,EAAG,SAClC,IAAC,EACH,YAEI,CAAC,EAAM,EAAO,KAEd,QACR,EAAG,YAnJuB,QAAA,QAAA;;ACgBjB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,SAAA,QAAA,aAAA,EA9Ff,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,MA6Fe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1ER,MAAM,EAAU,EAAM,QAAA,cAAoB,MA0ElC,QAAA,QAAA,EAxET,MAAO,UAAiB,EAAM,QAAA,UAClC,YAAY,GACJ,MAAA,GAED,KAAA,MAAQ,CACX,GAAI,IAAI,EAAJ,QAAgB,EAAM,UAC1B,WAAW,GAGb,OAAO,OAAO,OAAQ,CAAE,GAAI,KAAK,MAAM,KAElC,KAAA,aAAe,KAAK,aAAa,KAAK,MACtC,KAAA,IAAM,KAAK,IAAI,KAAK,MACpB,KAAA,MAAQ,KAAK,MAAM,KAAK,MACxB,KAAA,KAAO,KAAK,KAAK,KAAK,MAG7B,oBACM,KAAK,MAAM,SACR,KAAA,MAEA,KAAA,MAAM,GAAG,QAAQ,IAAI,KAAK,cAInC,eACO,KAAA,cAGP,OACM,GAAC,KAAK,MAAM,UAAZ,CAMA,GAFC,KAAA,MAAM,GAAG,YAEV,KAAK,MAAM,GAAG,MAAM,OAAS,KAAK,MAAM,GAAG,WACtC,OAAA,KAAK,QAGd,sBAAsB,KAAK,OAG7B,MACO,KAAK,MAAM,YACT,KAAA,MAAM,GAAG,QAAQ,OAAO,KAAK,cAC7B,KAAA,SAAS,CAAE,WAAW,GAAQ,KAAK,OAI5C,QACM,KAAK,MAAM,YACR,KAAA,MAAM,GAAG,QAAQ,IAAI,KAAK,cAC1B,KAAA,SAAS,CAAE,WAAW,KAI/B,SACM,OAAC,KAAK,MAAM,GAKd,EAAA,QAAA,cAAC,EAAQ,SAAQ,CACf,MAAO,CAAE,GAAI,KAAK,MAAM,GAAI,IAAK,KAAK,IAAK,MAAO,KAAK,QAEtD,KAAK,MAAM,UAPP,MAaE,QAAA,SAAA,EAAA,IAAA,EAAA,CAAE,QAAA,EAAS,SAAA,GAAX,QAAA,QAAA;;;AC1Cf,IAAA,GA7CA,WACA,aAEA,IAAA,EAAA,GAAA,eAEA,SAAA,IAGA,IAFA,IAAA,EAAA,GAEA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CACA,IAAA,EAAA,UAAA,GACA,GAAA,EAAA,CAEA,IAAA,SAAA,EAEA,GAAA,WAAA,GAAA,WAAA,EACA,EAAA,KAAA,QACA,GAAA,MAAA,QAAA,IAAA,EAAA,OAAA,CACA,IAAA,EAAA,EAAA,MAAA,KAAA,GACA,GACA,EAAA,KAAA,QAEA,GAAA,WAAA,EACA,IAAA,IAAA,KAAA,EACA,EAAA,KAAA,EAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAMA,OAAA,EAAA,KAAA,KAGA,oBAAA,QAAA,OAAA,SACA,EAAA,QAAA,EACA,OAAA,QAAA,GACA,mBAAA,GAAA,iBAAA,EAAA,KAAA,EAAA,IAEA,EAAA,aAAA,GAAA,WACA,OAAA,IAGA,OAAA,WAAA,EA1CA;;ACyEC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAhFD,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,eACA,EAAA,QAAA,aA8EC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1ED,MAAM,EAAM,CACV,MAAM,EAAM,EAAA,OAAA,CACV,gBAAiB,UAGnB,MAAM,EAAM,EAAA,OAAA,CACV,eAAgB,UAChB,gBAAiB,CACf,4DACA,8DACA,KAAK,QAIL,EAAU,EAEV,EAAsC,CACvC,EAAA,WAAW,GAAG,GAAI,GAAI,GAAI,GAC1B,EAAA,WAAW,GAAG,GAAI,GAAI,GAAI,IAC1B,EAAA,WAAW,GAAG,GAAI,GAAI,GAAI,KAC1B,EAAA,WAAW,GAAG,GAAI,GAAI,GAAI,MAG/B,SAAS,EAAU,GACX,MAAA,EAAY,IAAI,UAAU,EAAO,MAAO,EAAO,QAChD,IAAA,IAAI,EAAI,EAAG,EAAI,EAAO,SAAU,IAAK,CAClC,MAAA,EAAa,EAAO,KAAK,GACzB,EAAQ,EAAQ,IAAe,WAAW,GAAG,IAAK,EAAG,EAAG,KAC9D,EAAU,KAAK,IAAI,EAAO,EAAI,GAEzB,OAAA,EAGK,SAAU,EAAQ,GAMxB,MAAA,EAAM,EAAM,QAAA,OAA0B,MACtC,EAAS,EAAM,QAAA,YAAY,KAC3B,IAAC,EAAI,QACP,OAGU,EAAI,QAAQ,WAAW,MAC/B,aAAa,EAAU,EAAM,QAAS,EAAS,IAClD,CAAC,EAAI,UAEF,EAAA,QAAA,UAAU,GAEV,EAAA,QAAA,UAAU,KACV,GAAA,EAAM,OAAQ,CACV,MAAA,EAAS,EAAM,OAEd,OADP,EAAO,IAAI,GACJ,IAAM,EAAO,OAAO,KAE5B,CAAC,EAAM,SAEJ,MAAA,EAAQ,EAAM,OAAS,EACvB,EAAQ,EAAM,OAAO,MAAkB,EAAV,EAC7B,EAAS,EAAM,OAAO,OAAmB,EAAV,EAGnC,OAAA,EAAA,QAAA,cAAA,SAAA,CACE,WAAW,EAAW,EAAA,SAAA,EAAI,KAAM,EAAM,UAAW,CAC9C,CAAA,EAAI,MAAiB,IAAV,IAEd,IAAK,EACL,MAAO,EACP,OAAQ,EACR,MAAO,CAAE,MAAO,EAAQ;;ACxD7B,aAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EArBK,SAAU,EACd,EACA,GAEM,MAAA,EAAS,GACV,IAAA,MAAM,KAAO,EAChB,EAAO,KAAK,EAAS,EAAI,GAAM,IAE1B,OAAA,EAKH,SAAU,EACd,GAEM,MAAA,EAAS,GACY,IAAA,MAAA,KAAA,EAAS,CAAA,IAAA,EAAA,EAAA,EAAA,GAAxB,MAAA,EAAwB,EAAA,GAAnB,EAAmB,EAAA,GAClC,EAAO,GAAO,EAET,OAAA,EACR,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,YAAA;;ACiFc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,SAAA,QAAA,aAAA,EAtGf,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,aAqGe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnGf,MAAM,EAAM,CACV,UAAU,EAAM,EAAA,OAAA,CACd,SAAU,QACV,MAAO,GACP,SAAU,MAGZ,MAAM,EAAM,EAAA,OAAA,CACV,UAAW,GACX,OAAQ,kBACR,QAAS,GACT,aAAc,KAcL,EAAU,EAAM,QAAA,cAAuB,MA0ErC,QAAA,QAAA,EA9DT,MAAO,UAAiB,EAAM,QAAA,UAClC,YAAY,GACJ,MAAA,GAED,KAAA,IAAM,KAAK,IAAI,KAAK,MACpB,KAAA,MAAQ,KAAK,MAAM,KAAK,MAExB,KAAA,MAAQ,CACX,OAAQ,GACR,OAAO,GAIX,kBAAkB,GACX,KAAA,SAAS,CAAE,OAAO,IAClB,KAAA,IAAI,CAAE,MAAO,QAAS,KAAM,EAAM,SAAW,IAGpD,oBACE,OAAO,iBAAiB,QAAS,IAC1B,KAAA,MAAM,EAAM,WAEnB,OAAO,iBAAiB,qBAAsB,IACvC,KAAA,MAAM,EAAM,UAIrB,IAAI,GACG,KAAA,SAAS,IAAiB,MAAA,CAC7B,OAAQ,IADO,EAAA,OACK,MAIxB,MAAM,GACC,KAAA,IAAI,CAAE,MAAO,QAAS,KAAM,EAAI,SAAW,IAGlD,SAEI,OAAA,EAAA,QAAA,cAAC,EAAQ,SAAQ,CACf,MAAO,CACL,OAAQ,KAAK,MAAM,OACnB,IAAK,KAAK,MAGX,KAAK,MAAM,MACV,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,KAAK,MAAM,OAC5B,KAAK,MAAM,OAAO,IAAI,CAAC,EAAO,IAC7B,EAAA,QAAA,cAAA,MAAA,CAAK,IAAK,EAAG,UAAW,EAAI,MAC1B,EAAA,QAAA,cAAA,KAAA,KAAK,EAAM,OACX,EAAA,QAAA,cAAA,MAAA,KAAM,EAAM,UAMlB,KAAK,MAAM,OAAS,KAAK,MAAM,WAM1B,QAAA,SAAA,EAAA,IAAA,EAAA,CAAE,QAAA,EAAS,SAAA,GAAX,QAAA,QAAA;;ACjFd,aArBK,SAAU,IACV,IAAA,EACA,EACE,MAAA,EAAU,IAAI,QAAW,CAAC,EAAK,KACnC,EAAU,EACV,EAAS,IAEJ,OAAA,OAAO,OAAO,EAAS,CAAE,QAAS,EAAU,OAAQ,IAGvD,SAAU,IACP,OAAA,IAAI,QAAQ,uBAGf,SAAU,EAAY,GACpB,MAAA,EAAS,IAAI,WACZ,OAAA,IAAI,QAAqB,CAAC,EAAS,KACxC,EAAO,OAAS,CAAA,GAAO,EAAS,EAAY,OAAO,SACnD,EAAO,QAAU,EACjB,EAAO,kBAAkB,KAE5B,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,YAAA;;;;ACnBc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAFf,IAAA,EAAA,EAAA,QAAA,mBAEe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,IAAA,EAAA,CAAE,UAAA,EAAA,SAAF,QAAA,QAAA;;;;;;;;;;;;;;;;;;;;;;;;ACUA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAZf,IAAA,EAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,2BACA,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,yBACA,EAAA,EAAA,QAAA,sBACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,wBAEe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,IAAA,EAAA,CACb,eAAA,EADa,QAEb,kBAAA,EAFa,QAGb,gBAAA,EAHa,QAIb,gBAAA,EAJa,QAKb,aAAA,EALa,QAMb,cAAA,EANa,QAOb,0BAAA,EAPa,QAQb,mBAAA,EARa,QASb,cAAA,EATa,QAUb,eAAA,EAVa,QAWb,eAAA,EAAA,SAXa,QAAA,QAAA;;ACVA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAFf,IAAA,EAAA,EAAA,QAAA,aAEe,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,IAAA,EAAA,CAAE,OAAA,EAAA,SAAF,QAAA,QAAA;;AC8Jd,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAhKD,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,eACA,EAAA,QAAA,aAEA,EAAA,QAAA,eAEA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,aAEA,EAAA,EAAA,QAAA,YACA,EAAA,EAAA,QAAA,kBAqJC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAnJD,MAAM,EAAM,CACV,MAAM,EAAM,EAAA,OAAA,CACV,SAAU,WACV,OAAQ,EACR,MAAO,QACP,OAAQ,SAGV,SAAS,EAAM,EAAA,OAAA,CACb,SAAU,WACV,OAAQ,EACR,UAAW,cACX,OAAQ,OACR,MAAO,OACP,OAAQ,EACR,OAAQ,OACR,QAAS,EACT,WAAY,UACZ,aAAc,cACd,OAAQ,UACR,UAAW,SACX,WAAY,gCAEZ,MAAO,CACM,UAAA,CACT,WAAY,UAKlB,UAAU,EAAM,EAAA,OAAA,CACd,SAAU,WACV,SAAU,SACV,IAAK,OACL,MAAO,OACP,WAAY,YACZ,WAAY,2BACZ,QAAS,SACT,OAAQ,IAER,MAAO,CACO,WAAA,CACV,OAAQ,YAKd,cAAc,EAAM,EAAA,OAAA,CAClB,QAAS,OACT,cAAe,WAGjB,UAAU,EAAM,EAAA,OAAA,CACd,SAAU,QACV,KAAM,EACN,MAAO,EACP,IAAK,EACL,OAAQ,EACR,WAAY,UACZ,QAAS,EACT,WAAY,wBACZ,cAAe,OAEf,MAAO,CACO,WAAA,CACV,cAAe,UACf,QAAS,QAMH,SAAU,EAAW,GAIlB,MAAP,EAAO,EAAM,QAAA,WAAW,EAAG,QAAA,SAA3B,GADT,GAEiB,EAAM,QAAA,WAAW,EAAQ,QAAA,SAF1C,EAGiC,EAAM,QAAA,UAAS,GAHhD,IAGQ,EAHR,EAAA,GAGkB,EAHlB,EAAA,GAAA,EAAA,EAIyB,EAAM,QAAA,SAAS,EAAM,WAJ9C,GAIQ,EAJR,EAAA,GAIc,EAJd,EAAA,GAMO,EAAa,EAAM,QAAA,YACvB,CAAC,EAAc,KACT,IACF,EAAG,KAAK,GACR,EAAQ,GAIA,QACR,GAAY,KAGhB,CAAC,IAIG,EAAe,EAAM,QAAA,YAAyB,MAAA,IAClD,EAAM,iBACA,MAAA,EAAO,EAAM,cACb,QAAa,MAAM,EAAK,MAC1B,IAAC,EAAK,GACF,MAAA,EAGF,MAAA,EAAO,IAAI,iBAAiB,EAAK,eACvC,EAAW,EAAK,KAAM,IACrB,IAGG,EAAS,EAAM,QAAA,YAAyB,MAAA,IACtC,MAAA,EAAO,EAAM,cAAc,MAAM,GACjC,EAAO,IAAI,iBAAiB,EAAY,EAAA,aAAA,IAC9C,EAAW,EAAK,KAAM,IACrB,IAEG,EAAQ,EAAM,MAAQ,EAAW,QAAA,OAAS,EAAhD,QAGE,OAAA,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,MAClB,EAAA,QAAA,cAAA,SAAA,CAAQ,UAAW,EAAI,QAAS,QAAS,IAAM,GAAa,IACzD,GAGH,EAAA,QAAA,cAAA,MAAA,CACE,WAAW,EAAG,EAAA,SAAA,EAAI,SAAU,GAAY,UACxC,QAAS,IAAM,GAAY,KAG7B,EAAA,QAAA,cAAA,MAAA,CAAK,WAAW,EAAG,EAAA,SAAA,EAAI,SAAU,GAAY,WAC3C,EAAA,QAAA,cAAA,MAAA,CAAK,WAAW,EAAG,EAAA,SAAA,EAAI,aAAc,GAAY,YAC9C,EAAU,EAAA,WAAA,EAAO,CAAC,EAAO,IACxB,EAAA,QAAA,cAAA,IAAA,CAAG,IAAK,EAAM,KAAM,EAAO,QAAS,GACjC,KAIP,EAAA,QAAA,cAAA,QAAA,KACE,EAAA,QAAA,cAAA,QAAA,CACE,KAAK,OACL,SAAU,EACV,QAAS,GAAU,EAAM,cAAc,MAAQ;;AC4D1D,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAtND,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,eACA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,2BAmNC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAhND,MAAM,EAAM,CACV,MAAM,EAAM,EAAA,OAAA,CACV,QAAS,OACT,KAAM,IACN,eAAgB,gBAChB,WAAY,SACZ,YAAa,SAGf,QAAQ,EAAM,EAAA,OAAA,CACZ,QAAS,eACT,WAAY,UACZ,UAAW,4BACX,OAAQ,OACR,MAAO,QACP,WAAY,+BACZ,SAAU,OAEV,MAAO,CACQ,YAAA,CACX,WAAY,QACZ,MAAO,cAKb,KAAM,CACJ,MAAM,EAAM,EAAA,OAAA,CACV,SAAU,WACV,MAAO,OACP,OAAQ,SAEV,WAAW,EAAM,EAAA,OAAA,CACf,SAAU,WACV,OAAQ,WACR,MAAO,aAET,IAAI,EAAM,EAAA,OAAA,CAAE,KAAM,WAAY,IAAK,IACnC,MAAM,EAAM,EAAA,OAAA,CAAE,KAAM,WAAY,OAAQ,IACxC,MAAM,EAAM,EAAA,OAAA,CAAE,KAAM,EAAG,IAAK,aAC5B,OAAO,EAAM,EAAA,OAAA,CAAE,MAAO,EAAG,IAAK,cAGhC,QAAS,CACP,MAAM,EAAM,EAAA,OAAA,IACZ,GAAG,EAAM,EAAA,OAAA,CAAE,MAAO,OAAQ,OAAQ,OAAQ,aAAc,SACxD,GAAG,EAAM,EAAA,OAAA,CAAE,MAAO,OAAQ,OAAQ,OAAQ,aAAc,SACxD,QAAQ,EAAM,EAAA,OAAA,CAAE,SAAU,SAC1B,OAAO,EAAM,EAAA,OAAA,CAAE,SAAU,WAIvB,EAAgB,CACpB,IAAI,EACJ,MAAM,EACN,MAAM,EACN,OAAO,EAEP,QAAQ,EACR,OAAO,EACP,GAAG,EACH,GAAG,GAGC,EAAiC,CACrC,KAAM,KACN,KAAM,QACN,KAAM,OACN,KAAM,OAEN,QAAS,KACT,WAAY,QACZ,UAAW,OACX,UAAW,OAEX,UAAW,SACX,UAAW,SACX,MAAO,QAEP,KAAM,SACN,KAAM,QACN,MAAO,IACP,OAAQ,IAER,KAAM,SACN,KAAM,QACN,YAAa,IACb,aAAc,KAGF,SAAU,EAAW,GACL,MAD+B,EAAA,EAC/B,EAAM,QAAA,SAAS,GADgB,GACpD,EADoD,EAAA,GAC5C,EAD4C,EAAA,GAAA,EAAA,EAE3B,EAAM,QAAA,UAAS,GAFY,GAEpD,EAFoD,EAAA,GAE1C,EAF0C,EAAA,GAIlD,SAAA,EAAgB,GACvB,GAAY,GACZ,EAAU,EAAM,GAAG,WAAW,EAAM,cAAc,QAG3C,SAAA,EAAiB,GACnB,IAGL,EAAM,cAAc,QACpB,EAAU,EAAM,GAAG,WAAW,EAAM,cAAc,SAG3C,SAAA,EAAiB,GACnB,IAGL,EAAM,cAAc,OACpB,EAAU,EAAM,GAAG,aAAa,EAAM,cAAc,SAY7C,SAAA,EAAY,GACnB,EAAM,iBACN,EAAU,EAAM,GAAG,WAAW,EAAM,cAAc,QAG3C,SAAA,EAAc,GACrB,EAAM,iBACN,EAAU,EAAM,GAAG,aAAa,EAAM,cAAc,QAkB7C,SAAA,EAAO,GAMZ,OAAA,EAAA,QAAA,cAAA,SAAA,CACE,MAAO,EAAM,MACb,WAAW,EAAG,EAAA,SAAA,EAAI,OAAQ,EAAM,UAAW,CACzC,QAAS,EAAO,EAAM,SAExB,YAAa,EACb,aAAc,EACd,aAAc,EACd,aAAc,EACd,WAAY,GAEX,EAAM,UAMX,OAzDO,EAAA,EAAA,SAAA,UAAY,IACd,IAGL,GAAY,GACZ,EAAM,cAAc,OACpB,EAAU,EAAM,GAAG,uBAaZ,EAAA,EAAA,SAAA,UAAY,IACb,MAAA,EAAQ,EAAQ,EAAM,MACxB,IACF,EAAM,iBACN,EAAU,EAAM,GAAG,WAAW,QAGzB,EAAA,EAAA,SAAA,QAAU,IACX,MAAA,EAAQ,EAAQ,EAAM,MACxB,IACF,EAAM,iBACN,EAAU,EAAM,GAAG,aAAa,OA2BlC,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,MAClB,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,KAAK,MACvB,EAAA,QAAA,cAAC,EAAM,CAAC,MAAM,KAAK,WAAW,EAAG,EAAA,SAAA,EAAI,KAAK,UAAW,EAAI,KAAK,MAC9D,EAAA,QAAA,cAAC,EAAM,CACL,MAAM,OACN,WAAW,EAAG,EAAA,SAAA,EAAI,KAAK,UAAW,EAAI,KAAK,QAE7C,EAAA,QAAA,cAAC,EAAM,CACL,MAAM,OACN,WAAW,EAAG,EAAA,SAAA,EAAI,KAAK,UAAW,EAAI,KAAK,QAE7C,EAAA,QAAA,cAAC,EAAM,CACL,MAAM,QACN,WAAW,EAAG,EAAA,SAAA,EAAI,KAAK,UAAW,EAAI,KAAK,UAI/C,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,QAAQ,MAC1B,EAAA,QAAA,cAAC,EAAM,CAAC,MAAM,SAAS,UAAW,EAAI,QAAQ,QAAM,UAGpD,EAAA,QAAA,cAAC,EAAM,CAAC,MAAM,QAAQ,UAAW,EAAI,QAAQ,OAAK,UAKpD,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,QAAQ,MAC1B,EAAA,QAAA,cAAC,EAAM,CAAC,MAAM,IAAI,UAAW,EAAI,QAAQ,GAAC,KAG1C,EAAA,QAAA,cAAC,EAAM,CAAC,MAAM,IAAI,UAAW,EAAI,QAAQ,GAAC;;ACrM3C,aAXP,SAAS,EAAO,GACR,MAAA,EAAS,IAAI,WAAW,OAOvB,OANP,EACG,QAAQ,OAAQ,IAChB,MAAM,WACN,QAAQ,CAAC,EAAG,KACX,EAAO,GAAK,SAAS,EAAG,MAErB,EAGF,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,MAAM,EAAa,EAAO,07BAA1B,QAAA,WAAA;;ACXP,IAAIC,EAAY,KAChB,SAASC,IAKAD,OAJFA,IACHA,EAAYE,KAGPF,EAGT,SAASE,IAEH,IACI,MAAA,IAAIxK,MACV,MAAOyK,GACHC,IAAAA,GAAW,GAAKD,EAAIE,OAAOC,MAAM,iEACjCF,GAAAA,EACKG,OAAAA,EAAWH,EAAQ,IAIvB,MAAA,IAGT,SAASG,EAAWC,GACX,OAAC,GAAKA,GAAK5X,QAAQ,wEAAwE,MAAQ,IAG5GwK,QAAQ8M,aAAeD,EACvB7M,QAAQmN,WAAaA;;AC5BrB,IAAIL,EAAeO,QAAQ,gBAAgBP,aAE3C,SAASQ,EAAgBC,GAClBjZ,MAAMC,QAAQgZ,KACjBA,EAAU,CAACA,IAGTC,IAAAA,EAAKD,EAAQA,EAAQpd,OAAS,GAE9B,IACKgL,OAAAA,QAAQG,QAAQ+R,QAAQG,IAC/B,MAAOT,GACHA,GAAa,qBAAbA,EAAIU,KACC,OAAA,IAAIC,EAAY,SAAUpS,EAASqS,GACxCC,EAAYL,EAAQ7X,MAAM,GAAI,IAC3B0F,KAAK,WACGiS,OAAAA,QAAQG,KAEhBpS,KAAKE,EAASqS,KAIfZ,MAAAA,GAIV,SAASa,EAAYL,GACZpS,OAAAA,QAAQ0S,IAAIN,EAAQnZ,IAAI0Z,IAGjC,IAAIC,EAAgB,GACpB,SAASC,EAAqBle,EAAM+P,GAClCkO,EAAcje,GAAQ+P,EAGxByF,OAAOtF,QAAUA,QAAUsN,EAC3BtN,QAAQiO,KAAOL,EACf5N,QAAQkO,SAAWF,EAEnB,IAAIT,EAAU,GACd,SAASO,EAAWK,GACdX,IAAAA,EAMAD,GALAjZ,MAAMC,QAAQ4Z,KAChBX,EAAKW,EAAO,GACZA,EAASA,EAAO,IAGdZ,EAAQY,GACHZ,OAAAA,EAAQY,GAGbre,IAAAA,GAAQqe,EAAOC,UAAUD,EAAOE,YAAY,KAAO,EAAGF,EAAOhe,SAAWge,GAAQ1Y,cAChF6Y,EAAeP,EAAcje,GAC7Bwe,OAAAA,EACKf,EAAQY,GAAUG,EAAaxB,IAAiBqB,GACpD/S,KAAK,SAAUmT,GAKPA,OAJHA,GACFjJ,OAAO6I,OAAOD,SAASV,EAAIe,GAGtBA,IACNC,MAAM,SAASpY,GAGVA,aAFCmX,EAAQY,GAET/X,SAXRkY,EAgBN,SAASZ,EAAYe,GACdA,KAAAA,SAAWA,EACXrO,KAAAA,QAAU,KAGjBsN,EAAYnW,UAAU6D,KAAO,SAAUsT,EAAWC,GAEzC,OADc,OAAjB,KAAKvO,UAAkB,KAAKA,QAAU,IAAIjF,QAAQ,KAAKsT,WACpD,KAAKrO,QAAQhF,KAAKsT,EAAWC,IAGtCjB,EAAYnW,UAAUiX,MAAQ,SAAUG,GAE/B,OADc,OAAjB,KAAKvO,UAAkB,KAAKA,QAAU,IAAIjF,QAAQ,KAAKsT,WACpD,KAAKrO,QAAQoO,MAAMG;;AClEbC,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAbf,IAAA,EAAA,EAAA,QAAA,UAaeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAff,SAASC,IAAkRA,OAArQA,EAAW5L,OAAO5T,QAAU,SAAUwb,GAAe,IAAA,IAAI5b,EAAI,EAAGA,EAAIiB,UAAUC,OAAQlB,IAAK,CAAM6f,IAAAA,EAAS5e,UAAUjB,GAAS,IAAA,IAAIgB,KAAO6e,EAAc7L,OAAO1L,UAAUwX,eAAetW,KAAKqW,EAAQ7e,KAAQ4a,EAAO5a,GAAO6e,EAAO7e,IAAmB4a,OAAAA,IAA2BvH,MAAM,KAAMpT,WAIhT,IAAI8e,EAEJC,EAAMpf,QAAAA,cAAc,OAAQ,CAC1Bqf,KAAM,eACNC,EAAG,+9DAGL,MAAMP,EAAUrf,GAAS0f,EAAMpf,QAAAA,cAAc,MAAOgf,EAAS,CAC3DO,QAAS,cACR7f,GAAQyf,GAEIJ,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACmId,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,IAAA,EAAA,QAAA,QAAA,EAlJD,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,2BAEA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,iBACA,EAAA,EAAA,QAAA,cACA,EAAA,QAAA,UAYA,EAAA,EAAA,QAAA,eA6HC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAvID,MAAM,EAAY,CAChB,KAAM,EAAM,QAAA,KAAK,IACf,QAAO,iBAAP,CAAO,QAAA,QAAA,YAAW,KAAK,IAAQ,CAAE,QAAS,EAAI,SAEhD,MAAO,EAAM,QAAA,KAAK,IAChB,QAAO,iBAAP,CAAO,QAAA,QAAA,YAAW,KAAK,IAAQ,CAAE,QAAS,EAAI,WAO5C,EAAM,CACV,MAAM,EAAM,EAAA,OAAA,CACV,SAAU,SACV,MAAO,QACP,OAAQ,QACR,QAAS,OACT,eAAgB,WAGlB,KAAK,EAAM,EAAA,OAAA,CACT,UAAW,MACX,QAAS,OACT,cAAe,SACf,WAAY,WAGd,OAAO,EAAM,EAAA,OAAA,CACX,QAAS,YACT,WAAY,UACZ,UAAW,wCACX,aAAc,sBAGhB,gBAAgB,EAAM,EAAA,OAAA,CACpB,gBAAiB,UACjB,QAAS,cACT,aAAc,QAGhB,SAAS,EAAM,EAAA,OAAA,CACb,SAAU,UAGZ,OAAO,EAAM,EAAA,OAAA,CACX,SAAU,WACV,cAAe,YACf,WAAY,0BACZ,WAAY,OACZ,UAAW,SACX,cAAe,OACf,MAAO,UAGT,WAAW,EAAM,EAAA,OAAA,CACf,MAAO,gBAGT,aAAa,EAAM,EAAA,OAAA,CACjB,SAAU,QACV,cAAe,WAGjB,MAAM,EAAM,EAAA,OAAA,CACV,SAAU,WACV,IAAK,MACL,OAAQ,MACR,cAAe,SAGjB,UAAU,EAAM,EAAA,OAAA,CACd,OAAQ,QACR,MAAO,QACP,OAAQ,SACR,QAAS,OACT,eAAgB,SAChB,WAAY,YAIV,SAAU,EAAI,GACH,MAAP,EAAO,EAAM,QAAA,WAAW,EAAG,QAAA,SAA3B,GAGN,OAAA,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,KAClB,EAAA,QAAA,cAAC,EAAD,QAAW,CAAC,UAAU,aAAa,MAAO,EAAM,QAChD,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,OAClB,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,gBAClB,EAAA,QAAA,cAAC,EAAD,QAAQ,CACN,UAAW,EAAI,QACf,OAAQ,EAAG,UACX,OAAQ,EAAG,QACX,MAAO,IAET,EAAA,QAAA,cAAA,KAAA,CAAI,UAAW,EAAI,OACjB,EAAA,QAAA,cAAC,EAAD,QAAK,CAAC,UAAW,EAAI,OACrB,EAAA,QAAA,cAAA,OAAA,CAAM,UAAW,EAAI,WAArB,MAEE,EAAA,QAAA,cAAA,IAAA,CAAG,UAAW,EAAI,aAAW,KAF/B,UAOJ,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,UAClB,EAAA,QAAA,cAAC,EAAD,QAAW,CAAC,GAAI,OAOZ,SAAU,EAAA,GACI,MADsB,EAAA,EACtB,EAAM,QAAA,SAC9B,OAAO,SAAS,KAAK,SAAS,UAFgB,GACzC,EADyC,EAAA,GAClC,EADkC,EAAA,GAS9C,OALO,EAAA,EAAA,SAAA,aAAc,IACrB,EAAS,OAAO,SAAS,KAAK,SAAS,WAIvC,EAAA,QAAA,cAAC,EAAQ,QAAA,SAAQ,CAAC,KAAK,YACrB,EAAA,QAAA,cAAC,EAAG,QAAA,SAAQ,CAAC,SAAU,EAAX,WAAuB,UAAW,GAC5C,EAAA,QAAA,cAAA,MAAA,CAAK,UAAW,EAAI,MAClB,EAAA,QAAA,cAAC,EAAM,QAAA,SAAQ,CAAC,SAAU,EAAA,QAAA,cAAA,MAAA,OACvB,GAAS,EAAA,QAAA,cAAC,EAAU,KAAI,OAE3B,EAAA,QAAA,cAAC,EAAG,CAAC,MAAO,IACZ,EAAA,QAAA,cAAC,EAAM,QAAA,SAAQ,CAAC,SAAU,EAAA,QAAA,cAAA,MAAA,OACvB,GAAS,EAAA,QAAA,cAAC,EAAU,MAAK;;ACnIrC,aATD,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,QAAA,aACA,EAAA,QAAA,aACA,EAAA,EAAA,QAAA,UAMC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAJD,MAAM,EAAY,SAAS,eAAe,OACtC,KACF,EAAA,EAAA,sBACO,EAAA,EAAA,QAAA,EAAA,QAAA,cAAC,EAAD,QAAI,MAAK;;ACRlBtJ,OAAOtF,QAAU,SAAwBmO,GAChCkB,OAAAA,MAAMlB,GACV/S,KAAK,SAAUkU,GACVC,OAAAA,YAAYC,qBACPD,YAAYC,qBAAqBF,GAEjCA,EAAIG,cACRrU,KAAK,SAAU5B,GACP+V,OAAAA,YAAYG,YAAYlW,OAItC4B,KAAK,SAAUuU,GACPA,OAAAA,EAAWhD,SAAS3M;;ACbjCsF,OAAOtF,QAAU,SAAsBmO,GAC9B,OAAA,IAAIhT,QAAQ,SAAUG,EAASqS,GAChCiC,IAAAA,EAASvW,SAASxJ,cAAc,UACpC+f,EAAOC,OAAQ,EACfD,EAAO9f,KAAO,kBACd8f,EAAOE,QAAU,QACjBF,EAAOG,IAAM5B,EACbyB,EAAOI,QAAU,SAAU5Z,GACzBwZ,EAAOI,QAAUJ,EAAOK,OAAS,KACjCtC,EAAOvX,IAGTwZ,EAAOK,OAAS,WACdL,EAAOI,QAAUJ,EAAOK,OAAS,KACjC3U,KAGFjC,SAAS6W,qBAAqB,QAAQ,GAAGpc,YAAY8b","file":"web.01bb40be.js","sourceRoot":"../src/web","sourcesContent":["/** @type {import('./internal').Options}  */\nconst options = {};\n\nexport default options;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n\t// this.constructor // When component is functional component, this is reset to functional component\n\t// if (this.state==null) this.state = {};\n\t// this.state = {};\n\t// this._dirty = true;\n\t// this._renderCallbacks = []; // Only class components\n\n\t// Other properties that Component will have set later,\n\t// shown here as commented out for quick reference\n\t// this.base = null;\n\t// this._context = null;\n\t// this._vnode = null;\n\t// this._nextState = null; // Only class components\n\t// this._processingException = null; // Always read, set only when handling error\n\t// this._pendingError = null; // Always read, set only when handling error. This is used to indicate at diffTime to set _processingException\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s = (this._nextState!==this.state && this._nextState) || (this._nextState = assign({}, this.state));\n\n\t// if update() mutates state in-place, skip the copy:\n\tif (typeof update!=='function' || (update = update(s, this.props))) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update==null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-renderd\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tlet vnode = this._vnode, oldDom = this._vnode._dom, parentDom = this._parentDom;\n\tif (parentDom) {\n\t\t// Set render mode so that we can differantiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tconst force = callback!==false;\n\n\t\tlet mounts = [];\n\t\tlet newDom = diff(parentDom, vnode, assign({}, vnode), this._context, parentDom.ownerSVGElement!==undefined, null, mounts, force, oldDom == null ? getDomSibling(vnode) : oldDom);\n\t\tcommitRoot(mounts, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n\tif (callback) callback();\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type === 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet q = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb) => void}\n */\nconst defer = typeof Promise=='function' ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistenly reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (!c._dirty && (c._dirty = true) && q.push(c) === 1) {\n\t\t(options.debounceRendering || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet p;\n\tq.sort((a, b) => b._vnode._depth - a._vnode._depth);\n\twhile ((p=q.pop())) {\n\t\t// forceUpdate's callback argument is reused here to indicate a non-forced update.\n\t\tif (p._dirty) p.forceUpdate(false);\n\t}\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\n/**\n *\n * @param {any} defaultValue\n */\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\t\t\t\tthis.shouldComponentUpdate = props => {\n\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t// Check if still mounted\n\t\t\t\t\t\tif (c._parentDom) {\n\t\t\t\t\t\t\tc.context = props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tthis.sub = (c) => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\treturn context;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import options from './options';\nimport { assign } from './util';\n\n/**\n  * Create an virtual node (used for JSX)\n  * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n  * constructor for this virtual node\n  * @param {object | null | undefined} [props] The properties of the virtual node\n  * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n  * @returns {import('./internal').VNode}\n  */\nexport function createElement(type, props, children) {\n\tprops = assign({}, props);\n\n\tif (arguments.length>3) {\n\t\tchildren = [children];\n\t\tfor (let i=3; i<arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children!=null) {\n\t\tprops.children = children;\n\t}\n\n\t// \"type\" may be undefined during development. The check is needed so that\n\t// we can display a nice error message with our debug helpers\n\tif (type!=null && type.defaultProps!=null) {\n\t\tfor (let i in type.defaultProps) {\n\t\t\tif (props[i]===undefined) props[i] = type.defaultProps[i];\n\t\t}\n\t}\n\tlet ref = props.ref;\n\tlet key = props.key;\n\tif (ref!=null) delete props.ref;\n\tif (key!=null) delete props.key;\n\n\treturn createVNode(type, props, key, ref);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properites of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_lastDomChild: null,\n\t\t_component: null,\n\t\tconstructor: undefined\n\t};\n\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Coerce an untrusted value into a VNode\n * Specifically, this should be used anywhere a user could provide a boolean, string, or number where\n * a VNode or Component is desired instead\n * @param {boolean | string | number | import('./internal').VNode} possibleVNode A possible VNode\n * @returns {import('./internal').VNode | null}\n */\nexport function coerceToVNode(possibleVNode) {\n\tif (possibleVNode == null || typeof possibleVNode === 'boolean') return null;\n\tif (typeof possibleVNode === 'string' || typeof possibleVNode === 'number') {\n\t\treturn createVNode(null, possibleVNode, null, null);\n\t}\n\n\t// Clone vnode if it has already been used. ceviche/#57\n\tif (possibleVNode._dom!=null || possibleVNode._component!=null) {\n\t\tlet vnode = createVNode(possibleVNode.type, possibleVNode.props, possibleVNode.key, null);\n\t\tvnode._dom = possibleVNode._dom;\n\t\treturn vnode;\n\t}\n\n\treturn possibleVNode;\n}\n","import { diff, unmount, applyRef } from './index';\nimport { coerceToVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts The list of components\n * which have mounted\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n */\nexport function diffChildren(parentDom, newParentVNode, oldParentVNode, context, isSvg, excessDomChildren, mounts, oldDom) {\n\tlet childVNode, i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\tlet newChildren = newParentVNode._children || toChildArray(newParentVNode.props.children, newParentVNode._children=[], coerceToVNode, true);\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t}\n\t\telse if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t}\n\t\telse {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\tfor (i=0; i<newChildren.length; i++) {\n\t\tchildVNode = newChildren[i] = coerceToVNode(newChildren[i]);\n\n\t\tif (childVNode!=null) {\n\t\t\tchildVNode._parent = newParentVNode;\n\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t// (holes).\n\t\t\toldVNode = oldChildren[i];\n\n\t\t\tif (oldVNode===null || (oldVNode && childVNode.key == oldVNode.key && childVNode.type === oldVNode.type)) {\n\t\t\t\toldChildren[i] = undefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\tfor (j=0; j<oldChildrenLength; j++) {\n\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\tif (oldVNode && childVNode.key == oldVNode.key && childVNode.type === oldVNode.type) {\n\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\toldVNode = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\tnewDom = diff(parentDom, childVNode, oldVNode, context, isSvg, excessDomChildren, mounts, null, oldDom);\n\n\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t(refs || (refs=[])).push(j, childVNode._component || newDom, childVNode);\n\t\t\t}\n\n\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\tif (newDom!=null) {\n\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t}\n\n\t\t\t\tif (childVNode._lastDomChild != null) {\n\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t// have a non-null _lastDomChild. Continue the diff from the end of\n\t\t\t\t\t// this Fragment's DOM tree.\n\t\t\t\t\tnewDom = childVNode._lastDomChild;\n\n\t\t\t\t\t// Eagerly cleanup _lastDomChild. We don't need to persist the value because\n\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t// diffing Components and Fragments.\n\t\t\t\t\tchildVNode._lastDomChild = null;\n\t\t\t\t}\n\t\t\t\telse if (excessDomChildren==oldVNode || newDom!=oldDom || newDom.parentNode==null) {\n\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\touter: if (oldDom==null || oldDom.parentNode!==parentDom) {\n\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\tfor (sibDom=oldDom, j=0; (sibDom=sibDom.nextSibling) && j<oldChildrenLength; j+=2) {\n\t\t\t\t\t\t\tif (sibDom==newDom) {\n\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldDom = newDom.nextSibling;\n\n\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t// At this point, if childVNode._lastDomChild existed, then\n\t\t\t\t\t// newDom = childVNode._lastDomChild per line 101. Else it is\n\t\t\t\t\t// the same as childVNode._dom, meaning this component returned\n\t\t\t\t\t// only a single DOM node\n\t\t\t\t\tnewParentVNode._lastDomChild = newDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren!=null && typeof newParentVNode.type !== 'function') for (i=excessDomChildren.length; i--; ) if (excessDomChildren[i]!=null) removeNode(excessDomChildren[i]);\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i=oldChildrenLength; i--; ) if (oldChildren[i]!=null) unmount(oldChildren[i], oldChildren[i]);\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten a virtual nodes children to a single dimensional array\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {Array<import('../internal').VNode | null>} [flattened] An flat array of children to modify\n * @param {typeof import('../create-element').coerceToVNode} [map] Function that\n * will be applied on each child if the `vnode` is not `null`\n * @param {boolean} [keepHoles] wether to coerce `undefined` to `null` or not.\n * This is needed for Components without children like `<Foo />`.\n */\nexport function toChildArray(children, flattened, map, keepHoles) {\n\tif (flattened == null) flattened = [];\n\tif (children==null || typeof children === 'boolean') {\n\t\tif (keepHoles) flattened.push(null);\n\t}\n\telse if (Array.isArray(children)) {\n\t\tfor (let i=0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], flattened, map, keepHoles);\n\t\t}\n\t}\n\telse {\n\t\tflattened.push(map ? map(children) : children);\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (!(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif ((!hydrate || typeof newProps[i]=='function') && i!=='value' && i!=='checked' && oldProps[i]!==newProps[i]) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t}\n\telse {\n\t\tstyle[key] = typeof value==='number' && IS_NON_DIMENSIONAL.test(key)===false ? value+'px' : value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tname = isSvg ? (name==='className' ? 'class' : name) : (name==='class' ? 'className' : name);\n\n\tif (name==='key' || name === 'children') {}\n\telse if (name==='style') {\n\t\tconst s = dom.style;\n\n\t\tif (typeof value==='string') {\n\t\t\ts.cssText = value;\n\t\t}\n\t\telse {\n\t\t\tif (typeof oldValue==='string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) for (let i in oldValue) {\n\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) for (let i in value) {\n\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0]==='o' && name[1]==='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tlet nameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t}\n\t\telse {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t}\n\telse if (name!=='list' && name!=='tagName' && !isSvg && (name in dom)) {\n\t\t// Setting `select.value` doesn't work in IE11.\n\t\t// Only `<select>` elements have the length property\n\t\tif (dom.length && name=='value') {\n\t\t\tfor (name = dom.length; name--;) {\n\t\t\t\tdom.options[name].selected = dom.options[name].value==value;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdom[name] = value==null ? '' : value;\n\t\t}\n\t}\n\telse if (typeof value!=='function' && name!=='dangerouslySetInnerHTML') {\n\t\tif (name!==(name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value==null || value===false) {\n\t\t\t\tdom.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdom.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\t}\n\t\t}\n\t\telse if (value==null || value===false) {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t\telse {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component, enqueueRender } from '../component';\nimport { coerceToVNode, Fragment } from '../create-element';\nimport { diffChildren, toChildArray } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts A list of newly\n * mounted components\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n */\nexport function diff(parentDom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, force, oldDom) {\n\tlet tmp, newType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif (tmp = options._diff) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType==='function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && context[tmp._id];\n\t\t\tlet cctx = tmp ? (provider ? provider.props.value : tmp._defaultValue) : context;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (newType.prototype && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, cctx); // eslint-disable-line new-cap\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, cctx);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = cctx;\n\t\t\t\tc._context = context;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState==null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps!=null) {\n\t\t\t\tassign(c._nextState==c.state ? (c._nextState = assign({}, c._nextState)) : c._nextState, newType.getDerivedStateFromProps(newProps, c._nextState));\n\t\t\t}\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (newType.getDerivedStateFromProps==null && c.componentWillMount!=null) c.componentWillMount();\n\t\t\t\tif (c.componentDidMount!=null) mounts.push(c);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (newType.getDerivedStateFromProps==null && force==null && c.componentWillReceiveProps!=null) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, cctx);\n\t\t\t\t}\n\n\t\t\t\tif (!force && c.shouldComponentUpdate!=null && c.shouldComponentUpdate(newProps, c._nextState, cctx)===false) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate!=null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, cctx);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\tc.context = cctx;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (tmp = options._render) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment = tmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\ttoChildArray(isTopLevelFragment ? tmp.props.children : tmp, newVNode._children=[], coerceToVNode, true);\n\n\t\t\tif (c.getChildContext!=null) {\n\t\t\t\tcontext = assign(assign({}, context), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate!=null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(parentDom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts, oldDom);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\twhile (tmp=c._renderCallbacks.pop()) tmp.call(c);\n\n\t\t\t// Don't call componentDidUpdate on mount or when we bailed out via\n\t\t\t// `shouldComponentUpdate`\n\t\t\tif (!isNew && oldProps!=null && c.componentDidUpdate!=null) {\n\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tnewVNode._dom = diffElementNodes(oldVNode._dom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts);\n\t\t}\n\n\t\tif (tmp = options.diffed) tmp(newVNode);\n\t}\n\tcatch (e) {\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\nexport function commitRoot(mounts, root) {\n\tlet c;\n\twhile ((c = mounts.pop())) {\n\t\ttry {\n\t\t\tc.componentDidMount();\n\t\t}\n\t\tcatch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n\n\tif (options._commit) options._commit(root);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} mounts An array of newly\n * mounted components\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(dom, newVNode, oldVNode, context, isSvg, excessDomChildren, mounts) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type==='svg' || isSvg;\n\n\tif (dom==null && excessDomChildren!=null) {\n\t\tfor (i=0; i<excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\t\t\tif (child!=null && (newVNode.type===null ? child.nodeType===3 : child.localName===newVNode.type)) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom==null) {\n\t\tif (newVNode.type===null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\t\tdom = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type) : document.createElement(newVNode.type);\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (newVNode.type===null) {\n\t\tif (oldProps !== newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t}\n\telse if (newVNode!==oldVNode) {\n\t\tif (excessDomChildren!=null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (excessDomChildren == null) {\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html!=oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = newHtml && newHtml.__html || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, excessDomChildren!=null);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(dom, newVNode, oldVNode, context, newVNode.type==='foreignObject' ? false : isSvg, excessDomChildren, mounts, EMPTY_OBJ);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (excessDomChildren == null) {\n\t\t\tif (('value' in newProps) && newProps.value!==undefined && newProps.value !== dom.value) dom.value = newProps.value==null ? '' : newProps.value;\n\t\t\tif (('checked' in newProps) && newProps.checked!==undefined && newProps.checked !== dom.checked) dom.checked = newProps.checked;\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n\tcatch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif (r = vnode.ref) {\n\t\tapplyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type !== 'function') {\n\t\tskipRemove = (dom = vnode._dom)!=null;\n\t}\n\n\tvnode._dom = vnode._lastDomChild = null;\n\n\tif ((r = vnode._component)!=null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif (r = vnode._children) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom!=null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} oldVNode The oldVNode of the vnode\n * that threw, if this VNode threw while diffing\n */\n(options)._catchError = function (error, vnode, oldVNode) {\n\n\t/** @type {import('../internal').Component} */\n\tlet component;\n\n\tfor (; vnode = vnode._parent;) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (component.constructor && component.constructor.getDerivedStateFromError!=null) {\n\t\t\t\t\tcomponent.setState(component.constructor.getDerivedStateFromError(error));\n\t\t\t\t}\n\t\t\t\telse if (component.componentDidCatch!=null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\treturn enqueueRender(component._pendingError = component);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n};\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\tlet oldVNode = replaceNode && replaceNode._children || parentDom._children;\n\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\tlet mounts = [];\n\tdiff(\n\t\tparentDom,\n\t\t(replaceNode || parentDom)._children = vnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? null\n\t\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tmounts,\n\t\tfalse,\n\t\treplaceNode || EMPTY_OBJ,\n\t);\n\tcommitRoot(mounts, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\tparentDom._children = null;\n\trender(vnode, parentDom);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length>2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\treturn createVNode(vnode.type, props, props.key || vnode.key, props.ref || vnode.ref);\n}\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeRender = options._render;\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tif (currentComponent.__hooks) {\n\t\tcurrentComponent.__hooks._pendingEffects = handleEffects(currentComponent.__hooks._pendingEffects);\n\t}\n};\n\nlet oldAfterDiff = options.diffed;\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\thooks._pendingLayoutEffects = handleEffects(hooks._pendingLayoutEffects);\n\t}\n};\n\n\nlet oldBeforeUnmount = options.unmount;\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (!c) return;\n\n\tconst hooks = c.__hooks;\n\tif (hooks) {\n\t\thooks._list.forEach(hook => hook._cleanup && hook._cleanup());\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @returns {import('./internal').HookState}\n */\nfunction getHookState(index) {\n\tif (options._hook) options._hook(currentComponent);\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks = currentComponent.__hooks || (currentComponent.__hooks = { _list: [], _pendingEffects: [], _pendingLayoutEffects: [] });\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\nexport function useState(initialState) {\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\nexport function useReducer(reducer, initialState, init) {\n\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++);\n\tif (!hookState._component) {\n\t\thookState._component = currentComponent;\n\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(null, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0]!==nextValue) {\n\t\t\t\t\thookState._value[0] = nextValue;\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t\tafterPaint(currentComponent);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\t\tcurrentComponent.__hooks._pendingLayoutEffects.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\nexport function useImperativeHandle(ref, createHandle, args) {\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._args = args;\n\t\tif (ref) {\n\t\t\tref.current = createHandle();\n\t\t}\n\t}\n}\n\n/**\n * @param {() => any} callback\n * @param {any[]} args\n */\nexport function useMemo(callback, args) {\n\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._args = args;\n\t\tstate._callback = callback;\n\t\treturn state._value = callback();\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\tif (!provider) return context._defaultValue;\n\tconst state = getHookState(currentIndex++);\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n// Note: if someone used Component.debounce = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Invoke a component's pending effects after the next frame renders\n * @type {(component: import('./internal').Component) => void}\n */\n/* istanbul ignore next */\nlet afterPaint = () => {};\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.some(component => {\n\t\tcomponent._afterPaintQueued = false;\n\t\tif (component._parentDom) {\n\t\t\tcomponent.__hooks._pendingEffects = handleEffects(component.__hooks._pendingEffects);\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nconst RAF_TIMEOUT = 100;\n\n/**\n * requestAnimationFrame with a timeout in case it doesn't fire (for example if the browser tab is not visible)\n */\nfunction safeRaf(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tcancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\tconst raf = requestAnimationFrame(done);\n}\n\n/* istanbul ignore else */\nif (typeof window !== 'undefined') {\n\tafterPaint = (component) => {\n\t\tif (!component._afterPaintQueued && (component._afterPaintQueued = true) && afterPaintEffects.push(component) === 1) {\n\t\t\t/* istanbul ignore next */\n\t\t\t(options.requestAnimationFrame || safeRaf)(flushAfterPaintEffects);\n\t\t}\n\t};\n}\n\nfunction handleEffects(effects) {\n\teffects.forEach(invokeCleanup);\n\teffects.forEach(invokeEffect);\n\treturn [];\n}\n\nfunction invokeCleanup(hook) {\n\tif (hook._cleanup) hook._cleanup();\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\tconst result = hook._value();\n\tif (typeof result === 'function') hook._cleanup = result;\n}\n\nfunction argsChanged(oldArgs, newArgs) {\n\treturn !oldArgs || newArgs.some((arg, index) => arg !== oldArgs[index]);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f === 'function' ? f(arg) : f;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { Component, createElement, _unmount as unmount, options } from 'preact';\nimport { removeNode } from '../../src/util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode) {\n\tif (error.then && oldVNode) {\n\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; vnode = vnode._parent;) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (oldVNode) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\n\t\t\t\tcomponent._childDidSuspend(error);\n\t\t\t\treturn; // Don't call oldCatchError if we found a Suspense\n\t\t\t}\n\t\t}\n\t}\n\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nfunction detachDom(children) {\n\tfor (let i = 0; i < children.length; i++) {\n\t\tlet child = children[i];\n\t\tif (child != null) {\n\t\t\tif (typeof child.type !== 'function' && child._dom) {\n\t\t\t\tremoveNode(child._dom);\n\t\t\t}\n\t\t\telse if (child._children) {\n\t\t\t\tdetachDom(child._children);\n\t\t\t}\n\t\t}\n\t}\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._suspensions = [];\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @param {Promise} promise The thrown promise\n */\nSuspense.prototype._childDidSuspend = function(promise) {\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\tc._suspensions.push(promise);\n\n\tconst onSuspensionComplete = () => {\n\t\t// From https://twitter.com/Rich_Harris/status/1125850391155965952\n\t\tc._suspensions[c._suspensions.indexOf(promise)] = c._suspensions[c._suspensions.length - 1];\n\t\tc._suspensions.pop();\n\n\t\tif (c._suspensions.length == 0) {\n\t\t\tunmount(c.props.fallback);\n\t\t\tc._vnode._dom = null;\n\n\t\t\tc._vnode._children = c.state._parkedChildren;\n\t\t\tc.setState({ _parkedChildren: null });\n\t\t}\n\t};\n\n\tif (c.state._parkedChildren == null) {\n\t\tc.setState({ _parkedChildren: c._vnode._children });\n\t\tdetachDom(c._vnode._children);\n\t\tc._vnode._children = [];\n\t}\n\n\tpromise.then(onSuspensionComplete, onSuspensionComplete);\n};\n\nSuspense.prototype.render = function(props, state) {\n\treturn state._parkedChildren ? props.fallback : props.children;\n};\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\t(exports) => { component = exports.default; },\n\t\t\t\t(e) => { error = e; },\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\n\treturn Lazy;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * The unique id is used for unique hashes.\n */\nlet uniqueId = 0\n\n/**\n * Valid CSS property values.\n */\nexport type PropertyValue = number | boolean | string\n\n/**\n * Input styles object.\n */\nexport interface Styles {\n  [selector: string]: null | undefined | PropertyValue | PropertyValue[] | Styles\n}\n\n/**\n * Hash algorithm interface.\n */\nexport type HashFunction = (str: string) => string\n\n/**\n * Tag styles with this string to get unique hashes.\n */\nexport const IS_UNIQUE = '__DO_NOT_DEDUPE_STYLE__'\n\nconst upperCasePattern = /[A-Z]/g\nconst msPattern = /^ms-/\nconst interpolatePattern = /&/g\nconst escapePattern = /[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g\nconst propLower = (m: string) => `-${m.toLowerCase()}`\n\n/**\n * CSS properties that are valid unit-less numbers.\n *\n * Ref: https://github.com/facebook/react/blob/master/packages/react-dom/src/shared/CSSProperty.js\n */\nconst CSS_NUMBER: Record<string, true> = {\n  'animation-iteration-count': true,\n  'border-image-outset': true,\n  'border-image-slice': true,\n  'border-image-width': true,\n  'box-flex': true,\n  'box-flex-group': true,\n  'box-ordinal-group': true,\n  'column-count': true,\n  'columns': true,\n  'counter-increment': true,\n  'counter-reset': true,\n  'flex': true,\n  'flex-grow': true,\n  'flex-positive': true,\n  'flex-shrink': true,\n  'flex-negative': true,\n  'flex-order': true,\n  'font-weight': true,\n  'grid-area': true,\n  'grid-column': true,\n  'grid-column-end': true,\n  'grid-column-span': true,\n  'grid-column-start': true,\n  'grid-row': true,\n  'grid-row-end': true,\n  'grid-row-span': true,\n  'grid-row-start': true,\n  'line-clamp': true,\n  'line-height': true,\n  'opacity': true,\n  'order': true,\n  'orphans': true,\n  'tab-size': true,\n  'widows': true,\n  'z-index': true,\n  'zoom': true,\n  // SVG properties.\n  'fill-opacity': true,\n  'flood-opacity': true,\n  'stop-opacity': true,\n  'stroke-dasharray': true,\n  'stroke-dashoffset': true,\n  'stroke-miterlimit': true,\n  'stroke-opacity': true,\n  'stroke-width': true\n}\n\n// Add vendor prefixes to all unit-less properties.\nfor (const property of Object.keys(CSS_NUMBER)) {\n  for (const prefix of ['-webkit-', '-ms-', '-moz-', '-o-', '']) {\n    CSS_NUMBER[prefix + property] = true\n  }\n}\n\n/**\n * Escape a CSS class name.\n */\nexport const escape = (str: string) => str.replace(escapePattern, '\\\\$&')\n\n/**\n * Transform a JavaScript property into a CSS property.\n */\nexport function hyphenate (propertyName: string): string {\n  return propertyName\n    .replace(upperCasePattern, propLower)\n    .replace(msPattern, '-ms-') // Internet Explorer vendor prefix.\n}\n\n/**\n * Generate a hash value from a string.\n */\nexport function stringHash (str: string): string {\n  let value = 5381\n  let len = str.length\n  while (len--) value = (value * 33) ^ str.charCodeAt(len)\n  return (value >>> 0).toString(36)\n}\n\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString (key: string, value: PropertyValue) {\n  if (typeof value === 'number' && value !== 0 && !CSS_NUMBER.hasOwnProperty(key)) {\n    return `${key}:${value}px`\n  }\n\n  return `${key}:${value}`\n}\n\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples <T extends any[]> (value: T[]): T[] {\n  return value.sort((a, b) => a[0] > b[0] ? 1 : -1)\n}\n\n/**\n * Categorize user styles.\n */\nfunction parseStyles (styles: Styles, hasNestedStyles: boolean) {\n  const properties: Array<[string, PropertyValue | PropertyValue[]]> = []\n  const nestedStyles: Array<[string, Styles]> = []\n  let isUnique = false\n\n  // Sort keys before adding to styles.\n  for (const key of Object.keys(styles)) {\n    const value = styles[key]\n\n    if (value !== null && value !== undefined) {\n      if (key === IS_UNIQUE) {\n        isUnique = true\n      } else if (typeof value === 'object' && !Array.isArray(value)) {\n        nestedStyles.push([key.trim(), value])\n      } else {\n        properties.push([hyphenate(key.trim()), value])\n      }\n    }\n  }\n\n  return {\n    style: stringifyProperties(sortTuples(properties)),\n    nested: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n    isUnique\n  }\n}\n\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties (properties: Array<[string, PropertyValue | PropertyValue[]]>) {\n  return properties.map(([name, value]) => {\n    if (!Array.isArray(value)) return styleToString(name, value)\n\n    return value.map(x => styleToString(name, x)).join(';')\n  }).join(';')\n}\n\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate (selector: string, parent: string) {\n  if (selector.indexOf('&') === -1) return `${parent} ${selector}`\n  return selector.replace(interpolatePattern, parent)\n}\n\ntype StylizeStyle = { selector: string, style: string, isUnique: boolean }\ntype StylizeRule = { selector: string, style: string, rules: StylizeRule[], styles: StylizeStyle[] }\n\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize (\n  selector: string,\n  styles: Styles,\n  rulesList: StylizeRule[],\n  stylesList: StylizeStyle[],\n  parent?: string\n) {\n  const { style, nested, isUnique } = parseStyles(styles, selector !== '')\n  let pid = style\n\n  if (selector.charCodeAt(0) === 64 /* @ */) {\n    const child: StylizeRule = { selector, styles: [], rules: [], style: parent ? '' : style }\n    rulesList.push(child)\n\n    // Nested styles support (e.g. `.foo > @media > .bar`).\n    if (style && parent) child.styles.push({ selector: parent, style, isUnique })\n\n    for (const [name, value] of nested) {\n      pid += name + stylize(name, value, child.rules, child.styles, parent)\n    }\n  } else {\n    const key = parent ? interpolate(selector, parent) : selector\n\n    if (style) stylesList.push({ selector: key, style, isUnique })\n\n    for (const [name, value] of nested) {\n      pid += name + stylize(name, value, rulesList, stylesList, key)\n    }\n  }\n\n  return pid\n}\n\n/**\n * Transform `stylize` tree into style objects.\n */\nfunction composeStylize (\n  cache: Cache<Rule | Style>,\n  pid: string,\n  rulesList: StylizeRule[],\n  stylesList: StylizeStyle[],\n  className: string,\n  isStyle: boolean\n) {\n  for (const { selector, style, isUnique } of stylesList) {\n    const key = isStyle ? interpolate(selector, className) : selector\n    const id = isUnique ? `u\\0${(++uniqueId).toString(36)}` : `s\\0${pid}\\0${style}`\n    const item = new Style(style, id)\n    item.add(new Selector(key, `k\\0${pid}\\0${key}`))\n    cache.add(item)\n  }\n\n  for (const { selector, style, rules, styles } of rulesList) {\n    const item = new Rule(selector, style, `r\\0${pid}\\0${selector}\\0${style}`)\n    composeStylize(item, pid, rules, styles, className, isStyle)\n    cache.add(item)\n  }\n}\n\n/**\n * Cache to list to styles.\n */\nfunction join (arr: string[]): string {\n  let res = ''\n  for (let i = 0; i < arr.length; i++) res += arr[i]\n  return res\n}\n\n/**\n * Propagate change events.\n */\nexport interface Changes {\n  add (style: Container<any>, index: number): void\n  change (style: Container<any>, oldIndex: number, newIndex: number): void\n  remove (style: Container<any>, index: number): void\n}\n\n/**\n * Noop changes.\n */\nconst noopChanges: Changes = {\n  add: () => undefined,\n  change: () => undefined,\n  remove: () => undefined\n}\n\n/**\n * Cacheable interface.\n */\nexport interface Container <T> {\n  id: string\n  clone (): T\n  getStyles (): string\n}\n\n/**\n * Implement a cache/event emitter.\n */\nexport class Cache <T extends Container<any>> {\n  sheet: string[] = []\n  changeId = 0\n\n  private _keys: string[] = []\n  private _children: Record<string, T | undefined> = Object.create(null)\n  private _counters: Record<string, number | undefined> = Object.create(null)\n\n  constructor (public changes: Changes = noopChanges) {}\n\n  add <U extends T> (style: U): U {\n    const count = this._counters[style.id] || 0\n    const item: U = this._children[style.id] || style.clone()\n\n    this._counters[style.id] = count + 1\n\n    if (count === 0) {\n      this._children[item.id] = item\n      this._keys.push(item.id)\n      this.sheet.push(item.getStyles())\n      this.changeId++\n      this.changes.add(item, this._keys.length - 1)\n    } else if (item instanceof Cache && style instanceof Cache) {\n      const curIndex = this._keys.indexOf(style.id)\n      const prevItemChangeId = item.changeId\n\n      item.merge(style)\n\n      if (item.changeId !== prevItemChangeId) {\n        this.sheet.splice(curIndex, 1, item.getStyles())\n        this.changeId++\n        this.changes.change(item, curIndex, curIndex)\n      }\n    }\n\n    return item\n  }\n\n  remove (style: T): void {\n    const count = this._counters[style.id]\n\n    if (count !== undefined && count > 0) {\n      this._counters[style.id] = count - 1\n\n      const item = this._children[style.id]!\n      const index = this._keys.indexOf(item.id)\n\n      if (count === 1) {\n        delete this._counters[style.id]\n        delete this._children[style.id]\n\n        this._keys.splice(index, 1)\n        this.sheet.splice(index, 1)\n        this.changeId++\n        this.changes.remove(item, index)\n      } else if (item instanceof Cache && style instanceof Cache) {\n        const prevChangeId = item.changeId\n\n        item.unmerge(style)\n\n        if (item.changeId !== prevChangeId) {\n          this.sheet.splice(index, 1, item.getStyles())\n          this.changeId++\n          this.changes.change(item, index, index)\n        }\n      }\n    }\n  }\n\n  values (): T[] {\n    return this._keys.map(key => this._children[key]!)\n  }\n\n  merge (cache: Cache<any>) {\n    for (const item of cache.values()) this.add(item)\n    return this\n  }\n\n  unmerge (cache: Cache<any>) {\n    for (const item of cache.values()) this.remove(item)\n    return this\n  }\n\n  clone (): Cache<T> {\n    return new Cache<T>().merge(this)\n  }\n}\n\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nexport class Selector implements Container<Selector> {\n  constructor (public selector: string, public id: string) {}\n\n  getStyles () {\n    return this.selector\n  }\n\n  clone (): Selector {\n    return new Selector(this.selector, this.id)\n  }\n}\n\n/**\n * The style container registers a style string with selectors.\n */\nexport class Style extends Cache<Selector> implements Container<Style> {\n  constructor (public style: string, public id: string) {\n    super()\n  }\n\n  getStyles (): string {\n    return `${this.sheet.join(',')}{${this.style}}`\n  }\n\n  clone (): Style {\n    return new Style(this.style, this.id).merge(this)\n  }\n}\n\n/**\n * Implement rule logic for style output.\n */\nexport class Rule extends Cache<Rule | Style> implements Container<Rule> {\n  constructor (\n    public rule: string,\n    public style: string,\n    public id: string\n  ) {\n    super()\n  }\n\n  getStyles (): string {\n    return `${this.rule}{${this.style}${join(this.sheet)}}`\n  }\n\n  clone (): Rule {\n    return new Rule(this.rule, this.style, this.id).merge(this)\n  }\n}\n\n/**\n * The FreeStyle class implements the API for everything else.\n */\nexport class FreeStyle extends Cache<Rule | Style> implements Container<FreeStyle> {\n  constructor (\n    public hash: HashFunction,\n    public debug: boolean,\n    public id: string,\n    changes?: Changes\n  ) {\n    super(changes)\n  }\n\n  registerStyle (styles: Styles, displayName?: string) {\n    const rulesList: StylizeRule[] = []\n    const stylesList: StylizeStyle[] = []\n    const pid = stylize('&', styles, rulesList, stylesList)\n    const hash = `f${this.hash(pid)}`\n    const id = this.debug && displayName ? `${displayName}_${hash}` : hash\n    composeStylize(this, pid, rulesList, stylesList, `.${escape(id)}`, true)\n    return id\n  }\n\n  registerKeyframes (keyframes: Styles, displayName?: string) {\n    return this.registerHashRule('@keyframes', keyframes, displayName)\n  }\n\n  registerHashRule (prefix: string, styles: Styles, displayName?: string) {\n    const rulesList: StylizeRule[] = []\n    const stylesList: StylizeStyle[] = []\n    const pid = stylize('', styles, rulesList, stylesList)\n    const hash = `f${this.hash(pid)}`\n    const id = this.debug && displayName ? `${displayName}_${hash}` : hash\n    const rule = new Rule(`${prefix} ${escape(id)}`, '', `h\\0${pid}\\0${prefix}`)\n    composeStylize(rule, pid, rulesList, stylesList, '', false)\n    this.add(rule)\n    return id\n  }\n\n  registerRule (rule: string, styles: Styles) {\n    const rulesList: StylizeRule[] = []\n    const stylesList: StylizeStyle[] = []\n    const pid = stylize(rule, styles, rulesList, stylesList)\n    composeStylize(this, pid, rulesList, stylesList, '', false)\n  }\n\n  registerCss (styles: Styles) {\n    return this.registerRule('', styles)\n  }\n\n  getStyles (): string {\n    return join(this.sheet)\n  }\n\n  clone (): FreeStyle {\n    return new FreeStyle(this.hash, this.debug, this.id, this.changes).merge(this)\n  }\n}\n\n/**\n * Exports a simple function to create a new instance.\n */\nexport function create (\n  hash: HashFunction = stringHash,\n  debug: boolean = typeof (process as any) !== 'undefined' && (process.env as any).NODE_ENV !== 'production',\n  changes: Changes = noopChanges\n) {\n  return new FreeStyle(hash, debug, `f${(++uniqueId).toString(36)}`, changes)\n}\n","import * as FreeStyle from 'free-style';\n/**\n * We need to do the following to *our* objects before passing to freestyle:\n * - For any `$nest` directive move up to FreeStyle style nesting\n * - For any `$unique` directive map to FreeStyle Unique\n * - For any `$debugName` directive return the debug name\n */\nexport function ensureStringObj(object) {\n    /** The final result we will return */\n    var result = {};\n    var debugName = '';\n    for (var key in object) {\n        /** Grab the value upfront */\n        var val = object[key];\n        /** TypeStyle configuration options */\n        if (key === '$unique') {\n            result[FreeStyle.IS_UNIQUE] = val;\n        }\n        else if (key === '$nest') {\n            var nested = val;\n            for (var selector in nested) {\n                var subproperties = nested[selector];\n                result[selector] = ensureStringObj(subproperties).result;\n            }\n        }\n        else if (key === '$debugName') {\n            debugName = val;\n        }\n        else {\n            result[key] = val;\n        }\n    }\n    return { result: result, debugName: debugName };\n}\n// todo: better name here\nexport function explodeKeyframes(frames) {\n    var result = { $debugName: undefined, keyframes: {} };\n    for (var offset in frames) {\n        var val = frames[offset];\n        if (offset === '$debugName') {\n            result.$debugName = val;\n        }\n        else {\n            result.keyframes[offset] = val;\n        }\n    }\n    return result;\n}\n","/** Raf for node + browser */\nexport var raf = typeof requestAnimationFrame === 'undefined'\n    /**\n     * Make sure setTimeout is always invoked with\n     * `this` set to `window` or `global` automatically\n     **/\n    ? function (cb) { return setTimeout(cb); }\n    /**\n     * Make sure window.requestAnimationFrame is always invoked with `this` window\n     * We might have raf without window in case of `raf/polyfill` (recommended by React)\n     **/\n    : typeof window === 'undefined'\n        ? requestAnimationFrame\n        : requestAnimationFrame.bind(window);\n/**\n * Utility to join classes conditionally\n */\nexport function classes() {\n    var classes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classes[_i] = arguments[_i];\n    }\n    return classes\n        .map(function (c) { return c && typeof c === 'object' ? Object.keys(c).map(function (key) { return !!c[key] && key; }) : [c]; })\n        .reduce(function (flattened, c) { return flattened.concat(c); }, [])\n        .filter(function (c) { return !!c; })\n        .join(' ');\n}\n/**\n * Merges various styles into a single style object.\n * Note: if two objects have the same property the last one wins\n */\nexport function extend() {\n    var objects = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        objects[_i] = arguments[_i];\n    }\n    /** The final result we will return */\n    var result = {};\n    for (var _a = 0, objects_1 = objects; _a < objects_1.length; _a++) {\n        var object = objects_1[_a];\n        if (object == null || object === false) {\n            continue;\n        }\n        for (var key in object) {\n            /** Falsy values except a explicit 0 is ignored */\n            var val = object[key];\n            if (!val && val !== 0) {\n                continue;\n            }\n            /** if nested media or pseudo selector */\n            if (key === '$nest' && val) {\n                result[key] = result['$nest'] ? extend(result['$nest'], val) : val;\n            }\n            else if ((key.indexOf('&') !== -1 || key.indexOf('@media') === 0)) {\n                result[key] = result[key] ? extend(result[key], val) : val;\n            }\n            else {\n                result[key] = val;\n            }\n        }\n    }\n    return result;\n}\n/**\n * Utility to help customize styles with media queries. e.g.\n * ```\n * style(\n *  media({maxWidth:500}, {color:'red'})\n * )\n * ```\n */\nexport var media = function (mediaQuery) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    var mediaQuerySections = [];\n    if (mediaQuery.type)\n        mediaQuerySections.push(mediaQuery.type);\n    if (mediaQuery.orientation)\n        mediaQuerySections.push(\"(orientation: \" + mediaQuery.orientation + \")\");\n    if (mediaQuery.minWidth)\n        mediaQuerySections.push(\"(min-width: \" + mediaLength(mediaQuery.minWidth) + \")\");\n    if (mediaQuery.maxWidth)\n        mediaQuerySections.push(\"(max-width: \" + mediaLength(mediaQuery.maxWidth) + \")\");\n    if (mediaQuery.minHeight)\n        mediaQuerySections.push(\"(min-height: \" + mediaLength(mediaQuery.minHeight) + \")\");\n    if (mediaQuery.maxHeight)\n        mediaQuerySections.push(\"(max-height: \" + mediaLength(mediaQuery.maxHeight) + \")\");\n    var stringMediaQuery = \"@media \" + mediaQuerySections.join(' and ');\n    var object = {\n        $nest: (_a = {},\n            _a[stringMediaQuery] = extend.apply(void 0, objects),\n            _a)\n    };\n    return object;\n    var _a;\n};\nvar mediaLength = function (value) {\n    return typeof value === 'string' ? value : value + \"px\";\n};\n","import * as FreeStyle from \"free-style\";\nimport { ensureStringObj, explodeKeyframes } from './formatting';\nimport { extend, raf } from './utilities';\n/**\n * Creates an instance of free style with our options\n */\nvar createFreeStyle = function () { return FreeStyle.create(\n/** Use the default hash function */\nundefined, \n/** Preserve $debugName values */\ntrue); };\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\nvar TypeStyle = /** @class */ (function () {\n    function TypeStyle(_a) {\n        var autoGenerateTag = _a.autoGenerateTag;\n        var _this = this;\n        /**\n         * Insert `raw` CSS as a string. This is useful for e.g.\n         * - third party CSS that you are customizing with template strings\n         * - generating raw CSS in JavaScript\n         * - reset libraries like normalize.css that you can use without loaders\n         */\n        this.cssRaw = function (mustBeValidCSS) {\n            if (!mustBeValidCSS) {\n                return;\n            }\n            _this._raw += mustBeValidCSS || '';\n            _this._pendingRawChange = true;\n            _this._styleUpdated();\n        };\n        /**\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n         */\n        this.cssRule = function (selector) {\n            var objects = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                objects[_i - 1] = arguments[_i];\n            }\n            var object = ensureStringObj(extend.apply(void 0, objects)).result;\n            _this._freeStyle.registerRule(selector, object);\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Renders styles to the singleton tag imediately\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n         **/\n        this.forceRenderStyles = function () {\n            var target = _this._getTag();\n            if (!target) {\n                return;\n            }\n            target.textContent = _this.getStyles();\n        };\n        /**\n         * Utility function to register an @font-face\n         */\n        this.fontFace = function () {\n            var fontFace = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fontFace[_i] = arguments[_i];\n            }\n            var freeStyle = _this._freeStyle;\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n                var face = _b[_a];\n                freeStyle.registerRule('@font-face', face);\n            }\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Allows use to use the stylesheet in a node.js environment\n         */\n        this.getStyles = function () {\n            return (_this._raw || '') + _this._freeStyle.getStyles();\n        };\n        /**\n         * Takes keyframes and returns a generated animationName\n         */\n        this.keyframes = function (frames) {\n            var _a = explodeKeyframes(frames), keyframes = _a.keyframes, $debugName = _a.$debugName;\n            // TODO: replace $debugName with display name\n            var animationName = _this._freeStyle.registerKeyframes(keyframes, $debugName);\n            _this._styleUpdated();\n            return animationName;\n        };\n        /**\n         * Helps with testing. Reinitializes FreeStyle + raw\n         */\n        this.reinit = function () {\n            /** reinit freestyle */\n            var freeStyle = createFreeStyle();\n            _this._freeStyle = freeStyle;\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\n            /** reinit raw */\n            _this._raw = '';\n            _this._pendingRawChange = false;\n            /** Clear any styles that were flushed */\n            var target = _this._getTag();\n            if (target) {\n                target.textContent = '';\n            }\n        };\n        /** Sets the target tag where we write the css on style updates */\n        this.setStylesTarget = function (tag) {\n            /** Clear any data in any previous tag */\n            if (_this._tag) {\n                _this._tag.textContent = '';\n            }\n            _this._tag = tag;\n            /** This special time buffer immediately */\n            _this.forceRenderStyles();\n        };\n        /**\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\n         * returns an object where property names are the same ideal class names and the property values are\n         * the actual generated class names using the ideal class name as the $debugName\n         */\n        this.stylesheet = function (classes) {\n            var classNames = Object.getOwnPropertyNames(classes);\n            var result = {};\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n                var className = classNames_1[_i];\n                var classDef = classes[className];\n                if (classDef) {\n                    classDef.$debugName = className;\n                    result[className] = _this.style(classDef);\n                }\n            }\n            return result;\n        };\n        var freeStyle = createFreeStyle();\n        this._autoGenerateTag = autoGenerateTag;\n        this._freeStyle = freeStyle;\n        this._lastFreeStyleChangeId = freeStyle.changeId;\n        this._pending = 0;\n        this._pendingRawChange = false;\n        this._raw = '';\n        this._tag = undefined;\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n        this.style = this.style.bind(this);\n    }\n    /**\n     * Only calls cb all sync operations settle\n     */\n    TypeStyle.prototype._afterAllSync = function (cb) {\n        var _this = this;\n        this._pending++;\n        var pending = this._pending;\n        raf(function () {\n            if (pending !== _this._pending) {\n                return;\n            }\n            cb();\n        });\n    };\n    TypeStyle.prototype._getTag = function () {\n        if (this._tag) {\n            return this._tag;\n        }\n        if (this._autoGenerateTag) {\n            var tag = typeof window === 'undefined'\n                ? { textContent: '' }\n                : document.createElement('style');\n            if (typeof document !== 'undefined') {\n                document.head.appendChild(tag);\n            }\n            this._tag = tag;\n            return tag;\n        }\n        return undefined;\n    };\n    /** Checks if the style tag needs updating and if so queues up the change */\n    TypeStyle.prototype._styleUpdated = function () {\n        var _this = this;\n        var changeId = this._freeStyle.changeId;\n        var lastChangeId = this._lastFreeStyleChangeId;\n        if (!this._pendingRawChange && changeId === lastChangeId) {\n            return;\n        }\n        this._lastFreeStyleChangeId = changeId;\n        this._pendingRawChange = false;\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\n    };\n    TypeStyle.prototype.style = function () {\n        var freeStyle = this._freeStyle;\n        var _a = ensureStringObj(extend.apply(undefined, arguments)), result = _a.result, debugName = _a.debugName;\n        var className = debugName ? freeStyle.registerStyle(result, debugName) : freeStyle.registerStyle(result);\n        this._styleUpdated();\n        return className;\n    };\n    return TypeStyle;\n}());\nexport { TypeStyle };\n","import { TypeStyle } from './internal/typestyle';\nexport { TypeStyle };\n/**\n * All the CSS types in the 'types' namespace\n */\nimport * as types from './types';\nexport { types };\n/**\n * Export certain utilities\n */\nexport { extend, classes, media } from './internal/utilities';\n/** Zero configuration, default instance of TypeStyle */\nvar ts = new TypeStyle({ autoGenerateTag: true });\n/** Sets the target tag where we write the css on style updates */\nexport var setStylesTarget = ts.setStylesTarget;\n/**\n * Insert `raw` CSS as a string. This is useful for e.g.\n * - third party CSS that you are customizing with template strings\n * - generating raw CSS in JavaScript\n * - reset libraries like normalize.css that you can use without loaders\n */\nexport var cssRaw = ts.cssRaw;\n/**\n * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n */\nexport var cssRule = ts.cssRule;\n/**\n * Renders styles to the singleton tag imediately\n * NOTE: You should only call it on initial render to prevent any non CSS flash.\n * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n **/\nexport var forceRenderStyles = ts.forceRenderStyles;\n/**\n * Utility function to register an @font-face\n */\nexport var fontFace = ts.fontFace;\n/**\n * Allows use to use the stylesheet in a node.js environment\n */\nexport var getStyles = ts.getStyles;\n/**\n * Takes keyframes and returns a generated animationName\n */\nexport var keyframes = ts.keyframes;\n/**\n * Helps with testing. Reinitializes FreeStyle + raw\n */\nexport var reinit = ts.reinit;\n/**\n * Takes CSSProperties and return a generated className you can use on your component\n */\nexport var style = ts.style;\n/**\n * Takes an object where property names are ideal class names and property values are CSSProperties, and\n * returns an object where property names are the same ideal class names and the property values are\n * the actual generated class names using the ideal class name as the $debugName\n */\nexport var stylesheet = ts.stylesheet;\n/**\n * Creates a new instance of TypeStyle separate from the default instance.\n *\n * - Use this for creating a different typestyle instance for a shadow dom component.\n * - Use this if you don't want an auto tag generated and you just want to collect the CSS.\n *\n * NOTE: styles aren't shared between different instances.\n */\nexport function createTypeStyle(target) {\n    var instance = new TypeStyle({ autoGenerateTag: false });\n    if (target) {\n        instance.setStylesTarget(target);\n    }\n    return instance;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isClient = typeof window === 'object';\nexports.on = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.addEventListener.apply(obj, args);\n};\nexports.off = function (obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return obj.removeEventListener.apply(obj, args);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar util_1 = require(\"./util\");\nvar defaultTarget = util_1.isClient ? window : null;\nvar useEvent = function (name, handler, target, options) {\n    if (target === void 0) { target = defaultTarget; }\n    react_1.useEffect(function () {\n        if (!handler) {\n            return;\n        }\n        if (!target) {\n            return;\n        }\n        var fn = target.addEventListener || target.on;\n        fn.call(target, name, handler, options);\n        return function () {\n            var cleanFn = target.removeEventListener || target.off;\n            cleanFn.call(target, name, handler, options);\n        };\n    }, [name, handler, target, JSON.stringify(options)]);\n};\nexports.default = useEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TagMap = /** @class */ (function () {\n    function TagMap() {\n        this._tagToListeners = new WeakMap();\n        this._listenerToTags = new WeakMap();\n    }\n    TagMap.prototype.setListeners = function (listener) {\n        var _this = this;\n        var tags = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            tags[_i - 1] = arguments[_i];\n        }\n        var tagSet = this._listenerToTags.get(listener) || new Set();\n        tags.forEach(function (tag) {\n            var listenerSet = _this._tagToListeners.get(tag) || new Set();\n            listenerSet.add(listener);\n            tagSet.add(tag);\n            _this._tagToListeners.set(tag, listenerSet);\n        });\n        this._listenerToTags.set(listener, tagSet);\n    };\n    TagMap.prototype.getListeners = function (tag) {\n        return this._tagToListeners.get(tag) || new Set();\n    };\n    TagMap.prototype.getTags = function (listener) {\n        return this._listenerToTags.get(listener) || new Set();\n    };\n    TagMap.prototype.clearListener = function (listener) {\n        var _this = this;\n        var tags = this.getTags(listener);\n        this._listenerToTags.delete(listener);\n        tags.forEach(function (tag) {\n            var listenerSet = _this.getListeners(tag);\n            listenerSet.delete(listener);\n            if (listenerSet.size === 0) {\n                _this._tagToListeners.delete(tag);\n            }\n        });\n    };\n    return TagMap;\n}());\nexports.TagMap = TagMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tag_map_1 = require(\"./tag-map\");\nvar ExtendedSignal = /** @class */ (function () {\n    function ExtendedSignal(_baseSignal) {\n        this._baseSignal = _baseSignal;\n        this._tagMap = new tag_map_1.TagMap();\n    }\n    ExtendedSignal.merge = function () {\n        var signals = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            signals[_i] = arguments[_i];\n        }\n        var listeners = new Map();\n        return new ExtendedSignal({\n            add: function (listener) {\n                var newListener = function (payload) { return listener(payload); };\n                listeners.set(listener, newListener);\n                signals.forEach(function (signal) { return signal.add(newListener); });\n            },\n            remove: function (listener) {\n                var newListener = listeners.get(listener);\n                listeners.delete(listener);\n                signals.forEach(function (signal) { return signal.remove(newListener); });\n            },\n        });\n    };\n    ExtendedSignal.promisify = function (resolveSignal, rejectSignal) {\n        return new Promise(function (resolve, reject) {\n            function clearListeners() {\n                resolveSignal.remove(completeResolution);\n                if (rejectSignal) {\n                    rejectSignal.remove(completeRejection);\n                }\n            }\n            function completeRejection(payload) {\n                clearListeners();\n                reject(payload);\n            }\n            function completeResolution(payload) {\n                clearListeners();\n                resolve(payload);\n            }\n            resolveSignal.add(completeResolution);\n            if (rejectSignal) {\n                rejectSignal.add(completeRejection);\n            }\n        });\n    };\n    ExtendedSignal.prototype.add = function (listener) {\n        var tags = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            tags[_i - 1] = arguments[_i];\n        }\n        var _a;\n        (_a = this._tagMap).setListeners.apply(_a, [listener].concat(tags));\n        this._baseSignal.add(listener);\n    };\n    ExtendedSignal.prototype.remove = function (listenerOrTag) {\n        var _this = this;\n        this._tagMap.getListeners(listenerOrTag)\n            .forEach(function (taggedListener) {\n            _this._baseSignal.remove(taggedListener);\n            _this._tagMap.clearListener(taggedListener);\n        });\n        this._baseSignal.remove(listenerOrTag);\n        this._tagMap.clearListener(listenerOrTag);\n    };\n    ExtendedSignal.prototype.addOnce = function (listener) {\n        var _this = this;\n        var tags = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            tags[_i - 1] = arguments[_i];\n        }\n        var _a;\n        // to match the set behavior of add, only add the listener if the listener is not already\n        // registered, don't add the same listener twice\n        if (this._tagMap.getListeners(listener).size > 0) {\n            return;\n        }\n        var oneTimeListener = function (payload) {\n            _this._baseSignal.remove(oneTimeListener);\n            listener(payload);\n        };\n        (_a = this._tagMap).setListeners.apply(_a, [oneTimeListener, listener].concat(tags));\n        this._baseSignal.add(oneTimeListener);\n    };\n    ExtendedSignal.prototype.filter = function (filter) {\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) {\n            if (filter(payload)) {\n                listener(payload);\n            }\n        }; });\n    };\n    ExtendedSignal.prototype.map = function (transform) {\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) { return listener(transform(payload)); }; });\n    };\n    ExtendedSignal.prototype.merge = function () {\n        var signals = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            signals[_i] = arguments[_i];\n        }\n        return ExtendedSignal.merge.apply(ExtendedSignal, [this._baseSignal].concat(signals));\n    };\n    ExtendedSignal.prototype.promisify = function (rejectSignal) {\n        return ExtendedSignal.promisify(this._baseSignal, rejectSignal);\n    };\n    ExtendedSignal.prototype.readOnly = function () {\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) { return listener(payload); }; });\n    };\n    ExtendedSignal.prototype.cache = function (cache) {\n        this._baseSignal.add(function (payload) { return cache.add(payload); });\n        return convertedListenerSignal(this._baseSignal, function (listener) { return function (payload) { return listener(payload); }; }, function (listener, listenerActive) {\n            cache.forEach(function (payload) {\n                if (listenerActive()) {\n                    listener(payload);\n                }\n            });\n        });\n    };\n    return ExtendedSignal;\n}());\nexports.ExtendedSignal = ExtendedSignal;\n/**\n * Provides a new signal, with its own set of listeners, and the ability to transform listeners that\n * are added to the new signal.\n */\nfunction convertedListenerSignal(baseSignal, convertListener, postAddHook) {\n    var listenerMap = new Map();\n    return new ExtendedSignal({\n        add: function (listener) {\n            var newListener = convertListener(listener);\n            listenerMap.set(listener, newListener);\n            baseSignal.add(newListener);\n            if (postAddHook) {\n                postAddHook(listener, function () { return listenerMap.has(listener); });\n            }\n        },\n        remove: function (listener) {\n            var newListener = listenerMap.get(listener);\n            listenerMap.delete(listener);\n            // TODO undefined ok in other case\n            if (newListener !== undefined) {\n                baseSignal.remove(newListener);\n            }\n        },\n    });\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extended_signal_1 = require(\"./extended-signal\");\nvar Signal = /** @class */ (function (_super) {\n    __extends(Signal, _super);\n    function Signal() {\n        var _this = _super.call(this, {\n            add: function (listener) {\n                _this._listeners.add(listener);\n            },\n            remove: function (listener) {\n                _this._listeners.delete(listener);\n            },\n        }) || this;\n        _this._listeners = new Set();\n        _this._instanceDefaultListener = function (payload) { return Signal._staticDefaultListener(payload); };\n        return _this;\n    }\n    Signal.setDefaultListener = function (listener) {\n        Signal._staticDefaultListener = listener;\n    };\n    Signal.prototype.dispatch = function (payload) {\n        if (this._listeners.size === 0) {\n            var instanceDefaultListener = this._instanceDefaultListener;\n            instanceDefaultListener(payload);\n            return;\n        }\n        this._listeners.forEach(function (callback) { return callback.call(undefined, payload); });\n    };\n    Signal.prototype.setDefaultListener = function (listener) {\n        this._instanceDefaultListener = listener;\n    };\n    Signal._staticDefaultListener = function () {\n        // default static listener is a noop\n    };\n    return Signal;\n}(extended_signal_1.ExtendedSignal));\nexports.Signal = Signal;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayCache = /** @class */ (function () {\n    function ArrayCache() {\n        this._payloads = [];\n    }\n    ArrayCache.prototype.forEach = function (callback) {\n        this._payloads.forEach(function (value) { return callback(value); });\n    };\n    return ArrayCache;\n}());\nexports.ArrayCache = ArrayCache;\nvar ValueCache = /** @class */ (function (_super) {\n    __extends(ValueCache, _super);\n    function ValueCache() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ValueCache.prototype.add = function (value) {\n        this._payloads = [value];\n    };\n    return ValueCache;\n}(ArrayCache));\nexports.ValueCache = ValueCache;\nvar CollectionCache = /** @class */ (function (_super) {\n    __extends(CollectionCache, _super);\n    function CollectionCache() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CollectionCache.prototype.add = function (value) {\n        this._payloads.push(value);\n    };\n    return CollectionCache;\n}(ArrayCache));\nexports.CollectionCache = CollectionCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar signal_1 = require(\"./signal\");\nexports.Signal = signal_1.Signal;\nvar extended_signal_1 = require(\"./extended-signal\");\nexports.ExtendedSignal = extended_signal_1.ExtendedSignal;\nvar caches_1 = require(\"./caches\");\nexports.ValueCache = caches_1.ValueCache;\nexports.CollectionCache = caches_1.CollectionCache;\n","//@ts-ignore\nimport WASM from \"../../zig-cache/fundude.wasm\";\n\nimport { Signal } from \"micro-signals\";\n\nObject.assign(window, { WASM });\n\nexport interface PtrMatrix extends PtrArray {\n  width: number;\n  height: number;\n}\n\nexport class PtrArray {\n  public base: Uint8Array;\n  readonly ptr: number;\n  readonly _length: number;\n\n  constructor(ptr: number, length: number) {\n    this.ptr = ptr;\n    this._length = length;\n    this.base = new Uint8Array(WASM.memory.buffer, ptr, length);\n  }\n\n  static clone(array: Uint8Array): PtrArray {\n    const ptr = WASM.malloc(array.length);\n    const ptrArray = new PtrArray(ptr, array.length);\n    ptrArray.base.set(array);\n    return ptrArray;\n  }\n\n  static matrix(ptr: number, width: number, height: number): PtrMatrix {\n    return Object.assign(new PtrArray(ptr, width * height), {\n      width,\n      height\n    });\n  }\n\n  length(): number {\n    if (this.base.length == 0) {\n      this.base = new Uint8Array(WASM.memory.buffer, this.ptr, this._length);\n    }\n\n    return this.base.length;\n  }\n}\n\nfunction toUTF8(ptr: number) {\n  const scan = new Uint8Array(WASM.memory.buffer, ptr);\n  const end = scan.findIndex(c => c === 0);\n  const rawBytes = scan.subarray(0, end);\n  return new TextDecoder(\"utf-8\").decode(rawBytes);\n}\n\nexport const MMU_OFFSETS = {\n  shift: 0x8000,\n  segments: [\n    { start: 0x8000, end: 0xa000 - 1, name: \"vram\" },\n    { start: 0xc000, end: 0xe000 - 1, name: \"ram\" },\n    { start: 0xfe00, end: 0xfea0 - 1, name: \"oam\" },\n    { start: 0xff00, end: 0xff4c - 1, name: \"io\" },\n    { start: 0xff80, end: 0xffff - 1, name: \"himem\" }\n  ]\n};\n\nenum InputBitMapping {\n  right = 1,\n  left = 2,\n  up = 4,\n  down = 8,\n\n  a = 16,\n  b = 32,\n  select = 64,\n  start = 128\n}\n\nexport type Input = keyof typeof InputBitMapping;\n\nexport default class FundudeWasm {\n  public changed = new Signal<void>();\n\n  private readonly pointer: number;\n  cart!: Uint8Array;\n  private cartClone?: PtrArray;\n\n  readonly width: number;\n  readonly height: number;\n\n  constructor(cart: Uint8Array) {\n    this.pointer = WASM.fd_alloc();\n    this.init(cart);\n\n    this.width = 160;\n    this.height = 144;\n  }\n\n  display() {\n    return PtrArray.matrix(this.pointer, this.width, this.height);\n  }\n\n  background() {\n    return PtrArray.matrix(WASM.fd_background_ptr(this.pointer), 256, 256);\n  }\n\n  window() {\n    return PtrArray.matrix(WASM.fd_window_ptr(this.pointer), 256, 256);\n  }\n\n  spritesheet() {\n    return PtrArray.matrix(WASM.fd_spritesheet_ptr(this.pointer), 8, 8 * 40);\n  }\n\n  patterns() {\n    return PtrArray.matrix(WASM.fd_patterns_ptr(this.pointer), 8, 8 * 128 * 3);\n  }\n\n  cpu() {\n    const raw = new PtrArray(WASM.fd_cpu_ptr(this.pointer), 12);\n    return Object.assign(raw, {\n      AF: () => raw.base[0] + (raw.base[1] << 8),\n      BC: () => raw.base[2] + (raw.base[3] << 8),\n      DE: () => raw.base[4] + (raw.base[5] << 8),\n      HL: () => raw.base[6] + (raw.base[7] << 8),\n      SP: () => raw.base[8] + (raw.base[9] << 8),\n      PC: () => raw.base[10] + (raw.base[11] << 8)\n    });\n  }\n\n  mmu() {\n    return new PtrArray(WASM.fd_mmu_ptr(this.pointer), 0x8000);\n  }\n\n  init(cart: Uint8Array) {\n    if (this.cartClone) {\n      WASM.free(this.cartClone.ptr);\n    }\n\n    this.cart = cart;\n    this.cartClone = PtrArray.clone(cart);\n\n    const status = WASM.fd_init(this.pointer, cart.length, this.cartClone.ptr);\n    switch (status) {\n      case 0:\n        break;\n      case 1:\n        throw new Error(\"Cart unsupported\");\n      case 2:\n        throw new Error(\"Cart size invalid\");\n      case 3:\n        throw new Error(\"Cart ram size error\");\n      default:\n        throw new Error(\"Unknown error\");\n    }\n\n    this.changed.dispatch();\n  }\n\n  dealloc() {\n    if (this.cartClone) {\n      WASM.free(this.cartClone.ptr);\n    }\n    WASM.free(this.pointer);\n  }\n\n  breakpoint: number = -1;\n  setBreakpoint(bp: number) {\n    this.breakpoint = bp;\n    WASM.fd_set_breakpoint(this.pointer, bp);\n    this.changed.dispatch();\n  }\n\n  reset() {\n    WASM.fd_reset(this.pointer);\n    this.changed.dispatch();\n  }\n\n  step(): number {\n    const cycles = WASM.fd_step(this.pointer);\n    this.changed.dispatch();\n    return cycles;\n  }\n\n  stepFrame(frames = 1): number {\n    const cycles = WASM.fd_step_frames(this.pointer, frames);\n    this.changed.dispatch();\n    return cycles;\n  }\n\n  _inputStatus(raw: number): Record<Input, boolean> {\n    const mapping = {} as Record<Input, boolean>;\n    for (let bit = 0; bit < 8; bit++) {\n      const mask = 1 << bit;\n      const input = InputBitMapping[mask];\n      const value = Boolean(raw & mask);\n      mapping[input] = value;\n    }\n    return mapping;\n  }\n\n  inputPress(input: Input) {\n    const val = InputBitMapping[input];\n    return this._inputStatus(WASM.fd_input_press(this.pointer, val));\n  }\n\n  inputRelease(input: Input) {\n    const val = InputBitMapping[input];\n    return this._inputStatus(WASM.fd_input_release(this.pointer, val));\n  }\n\n  inputReleaseAll() {\n    return this._inputStatus(WASM.fd_input_release(this.pointer, 0xff));\n  }\n\n  static *disassemble(cart: Uint8Array): IterableIterator<[number, string]> {\n    const fd = new FundudeWasm(cart);\n    try {\n      while (true) {\n        const addr = fd.cpu().PC();\n        const outPtr = WASM.fd_disassemble(fd.pointer);\n        if (!outPtr) {\n          return;\n        }\n        yield [addr, toUTF8(outPtr)];\n      }\n    } finally {\n      fd.dealloc();\n    }\n  }\n}\n","import React from \"react\";\nimport FundudeWasm from \".\";\n\ninterface Item {\n  fd: FundudeWasm;\n  run: () => void;\n  pause: () => void;\n}\n\ninterface Props {\n  autoBoot: boolean;\n  bootCart: Uint8Array;\n  children: React.ReactNode;\n}\n\ninterface State {\n  fd: FundudeWasm;\n  isRunning: boolean;\n}\n\nexport const Context = React.createContext<Item>(null!);\n\nexport class Provider extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      fd: new FundudeWasm(props.bootCart),\n      isRunning: false\n    };\n\n    Object.assign(window, { fd: this.state.fd });\n\n    this.handleChange = this.handleChange.bind(this);\n    this.run = this.run.bind(this);\n    this.pause = this.pause.bind(this);\n    this.spin = this.spin.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.autoBoot) {\n      this.run();\n    } else {\n      this.state.fd.changed.add(this.handleChange);\n    }\n  }\n\n  handleChange() {\n    this.forceUpdate();\n  }\n\n  spin() {\n    if (!this.state.isRunning) {\n      return;\n    }\n\n    this.state.fd.stepFrame();\n\n    if (this.state.fd.cpu().PC() === this.state.fd.breakpoint) {\n      return this.pause();\n    }\n\n    requestAnimationFrame(this.spin);\n  }\n\n  run() {\n    if (!this.state.isRunning) {\n      this.state.fd.changed.remove(this.handleChange);\n      this.setState({ isRunning: true }, this.spin);\n    }\n  }\n\n  pause() {\n    if (this.state.isRunning) {\n      this.state.fd.changed.add(this.handleChange);\n      this.setState({ isRunning: false });\n    }\n  }\n\n  render() {\n    if (!this.state.fd) {\n      return null;\n    }\n\n    return (\n      <Context.Provider\n        value={{ fd: this.state.fd, run: this.run, pause: this.pause }}\n      >\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport default { Context, Provider };\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { style } from \"typestyle\";\nimport { PtrMatrix } from \"../wasm\";\nimport { Signal } from \"micro-signals\";\n\nconst CSS = {\n  root: style({\n    backgroundColor: \"white\"\n  }),\n\n  grid: style({\n    backgroundSize: `8px 8px`,\n    backgroundImage: [\n      \"linear-gradient(to right, lightgray 2px, transparent 1px)\",\n      \"linear-gradient(to bottom, lightgray 2px, transparent 1px)\"\n    ].join(\",\")\n  })\n};\n\nconst PADDING = 1;\n\nconst PALETTE: Record<number, Uint8Array> = {\n  0: Uint8Array.of(15, 56, 15, 0),\n  1: Uint8Array.of(15, 56, 15, 85),\n  2: Uint8Array.of(15, 56, 15, 170),\n  3: Uint8Array.of(15, 56, 15, 255)\n};\n\nfunction imageData(pixels: PtrMatrix) {\n  const imageData = new ImageData(pixels.width, pixels.height);\n  for (let i = 0; i < pixels.length(); i++) {\n    const colorIndex = pixels.base[i];\n    const color = PALETTE[colorIndex] || Uint8Array.of(255, 0, 0, 255);\n    imageData.data.set(color, 4 * i);\n  }\n  return imageData;\n}\n\nexport default function Display(props: {\n  className?: string;\n  pixels: PtrMatrix;\n  scale?: number;\n  signal?: Signal<any>;\n}) {\n  const ref = React.useRef<HTMLCanvasElement>(null);\n  const render = React.useCallback(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    const ctx = ref.current.getContext(\"2d\")!;\n    ctx.putImageData(imageData(props.pixels), PADDING, PADDING);\n  }, [ref.current]);\n\n  React.useEffect(render);\n\n  React.useEffect(() => {\n    if (props.signal) {\n      const signal = props.signal;\n      signal.add(render);\n      return () => signal.remove(render);\n    }\n  }, [props.signal]);\n\n  const scale = props.scale || 1;\n  const width = props.pixels.width + PADDING * 2;\n  const height = props.pixels.height + PADDING * 2;\n\n  return (\n    <canvas\n      className={classnames(CSS.root, props.className, {\n        [CSS.grid]: scale === 1\n      })}\n      ref={ref}\n      width={width}\n      height={height}\n      style={{ width: width * scale }}\n    />\n  );\n}\n","export function mapObject<E>(\n  obj: any,\n  callback: (value: any, key?: string) => E\n): E[] {\n  const result = [];\n  for (const key in obj) {\n    result.push(callback(obj[key], key));\n  }\n  return result;\n}\n\ntype Indexable = string | number | symbol;\n\nexport function fromEntries<K extends Indexable, V>(\n  entries: Iterable<[K, V]>\n): Record<K, V> {\n  const result = {} as Record<K, V>;\n  for (const [key, value] of entries) {\n    result[key] = value;\n  }\n  return result;\n}\n","import React from \"react\";\nimport { style } from \"typestyle\";\n\nconst CSS = {\n  topright: style({\n    position: \"fixed\",\n    right: 10,\n    maxWidth: 200\n  }),\n\n  item: style({\n    marginTop: 10,\n    border: \"1px solid black\",\n    padding: 10,\n    borderRadius: 4\n  })\n};\n\ninterface Toast {\n  title: string;\n  body: React.ReactNode;\n}\n\ninterface Toaster {\n  toasts: Toast[];\n  add: (toast: Toast) => any;\n}\n\nexport const Context = React.createContext<Toaster>(null!);\n\ninterface Props {\n  show?: \"topright\";\n  children: React.ReactNode;\n}\n\ninterface State {\n  toasts: Toast[];\n  fatal: boolean;\n}\n\nexport class Provider extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.add = this.add.bind(this);\n    this.error = this.error.bind(this);\n\n    this.state = {\n      toasts: [],\n      fatal: false\n    };\n  }\n\n  componentDidCatch(error: Error) {\n    this.setState({ fatal: true });\n    this.add({ title: \"Fatal\", body: error.message || error });\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"error\", event => {\n      this.error(event.message);\n    });\n    window.addEventListener(\"unhandledrejection\", event => {\n      this.error(event.reason);\n    });\n  }\n\n  add(toast: Toast) {\n    this.setState(({ toasts }) => ({\n      toasts: [...toasts, toast]\n    }));\n  }\n\n  error(err: Error | string) {\n    this.add({ title: \"Error\", body: err.message || err });\n  }\n\n  render() {\n    return (\n      <Context.Provider\n        value={{\n          toasts: this.state.toasts,\n          add: this.add\n        }}\n      >\n        {this.props.show && (\n          <div className={CSS[this.props.show]}>\n            {this.state.toasts.map((toast, i) => (\n              <div key={i} className={CSS.item}>\n                <h3>{toast.title}</h3>\n                <div>{toast.body}</div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {!this.state.fatal && this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport default { Context, Provider };\n","export function deferred<T>() {\n  let resolve: (value?: T | PromiseLike<T> | undefined) => void;\n  let reject: (reason?: any) => void;\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return Object.assign(promise, { resolve: resolve!, reject: reject! });\n}\n\nexport function nextAnimationFrame() {\n  return new Promise(requestAnimationFrame);\n}\n\nexport function readAsArray(file: File) {\n  const reader = new FileReader();\n  return new Promise<ArrayBuffer>((resolve, reject) => {\n    reader.onload = evt => resolve((evt as any).target.result);\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n}\n","import sheepitup from \"./sheepitup.gb\";\n\nexport default { sheepitup };\n","import cpu_01_special from \"./cpu-01-special.gb\";\nimport cpu_02_interrupts from \"./cpu-02-interrupts.gb\";\nimport cpu_03_op_sp_hl from \"./cpu-03-op-sp-hl.gb\";\nimport cpu_04_op_r_imm from \"./cpu-04-op-r-imm.gb\";\nimport cpu_05_op_rp from \"./cpu-05-op-rp.gb\";\nimport cpu_06_ld_r_r from \"./cpu-06-ld-r-r.gb\";\nimport cpu_07_jr_jp_call_ret_rst from \"./cpu-07-jr-jp-call-ret-rst.gb\";\nimport cpu_08_misc_instrs from \"./cpu-08-misc-instrs.gb\";\nimport cpu_09_op_r_r from \"./cpu-09-op-r-r.gb\";\nimport cpu_10_bit_ops from \"./cpu-10-bit-ops.gb\";\nimport cpu_11_op_a_hl from \"./cpu-11-op-a-hl.gb\";\n\nexport default {\n  cpu_01_special,\n  cpu_02_interrupts,\n  cpu_03_op_sp_hl,\n  cpu_04_op_r_imm,\n  cpu_05_op_rp,\n  cpu_06_ld_r_r,\n  cpu_07_jr_jp_call_ret_rst,\n  cpu_08_misc_instrs,\n  cpu_09_op_r_r,\n  cpu_10_bit_ops,\n  cpu_11_op_a_hl\n};\n","import blargg from \"./blargg\";\n\nexport default { blargg };\n","import React from \"react\";\nimport cx from \"classnames\";\nimport { style } from \"typestyle\";\n\nimport { mapObject } from \"./smalldash\";\n\nimport FD from \"../wasm/react\";\nimport Toaster from \"./Toaster\";\nimport { readAsArray } from \"./promise\";\n\nimport ROMS from \"../roms\";\nimport DEBUG_ROMS from \"../roms/debug\";\n\nconst CSS = {\n  root: style({\n    position: \"relative\",\n    zIndex: 1,\n    width: \"350px\",\n    height: \"18px\"\n  }),\n\n  toggler: style({\n    position: \"absolute\",\n    zIndex: 1,\n    boxSizing: \"content-box\",\n    height: \"14px\",\n    width: \"100%\",\n    bottom: 0,\n    border: \"none\",\n    padding: 0,\n    background: \"#d9d9d9\",\n    borderRadius: \"2px 2px 0 0\",\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    transition: \"200ms ease-in-out padding-top\",\n\n    $nest: {\n      \"&:hover\": {\n        paddingTop: \"4px\"\n      }\n    }\n  }),\n\n  selector: style({\n    position: \"absolute\",\n    overflow: \"hidden\",\n    top: \"100%\",\n    width: \"100%\",\n    background: \"#ffffffd0\",\n    transition: \"300ms ease-in-out height\",\n    padding: \"0 10px\",\n    height: \"0\",\n\n    $nest: {\n      \"&.active\": {\n        height: \"350px\"\n      }\n    }\n  }),\n\n  selectorList: style({\n    display: \"flex\",\n    flexDirection: \"column\"\n  }),\n\n  backdrop: style({\n    position: \"fixed\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    background: \"#000000\",\n    opacity: 0,\n    transition: \"300ms ease-in opacity\",\n    pointerEvents: \"none\",\n\n    $nest: {\n      \"&.active\": {\n        pointerEvents: \"initial\",\n        opacity: 0.8\n      }\n    }\n  })\n};\n\nexport default function CartSelect(props: {\n  startName: string;\n  debug?: boolean;\n}) {\n  const { fd } = React.useContext(FD.Context);\n  const toaster = React.useContext(Toaster.Context);\n  const [choosing, setChoosing] = React.useState(false);\n  const [name, setName] = React.useState(props.startName);\n\n  const selectCart = React.useCallback(\n    (name: string, data: Uint8Array) => {\n      try {\n        fd.init(data);\n        setName(name);\n      // } catch (e) {\n      //   toaster.add({ title: \"Fatal\", body: e.message || e });\n      //   throw e;\n      } finally {\n        setChoosing(false);\n      }\n    },\n    [fd]\n  );\n\n  type LinkClicked = React.MouseEventHandler<HTMLAnchorElement>;\n  const downloadCart = React.useCallback<LinkClicked>(async event => {\n    event.preventDefault();\n    const link = event.currentTarget;\n    const resp = await fetch(link.href);\n    if (!resp.ok) {\n      throw resp;\n    }\n\n    const data = new Uint8Array(await resp.arrayBuffer());\n    selectCart(link.text, data);\n  }, []);\n\n  type FileChanged = React.ChangeEventHandler<HTMLInputElement>;\n  const onFile = React.useCallback<FileChanged>(async event => {\n    const file = event.currentTarget.files[0] as File;\n    const data = new Uint8Array(await readAsArray(file));\n    selectCart(file.name, data);\n  }, []);\n\n  const carts = props.debug ? DEBUG_ROMS.blargg : ROMS;\n\n  return (\n    <div className={CSS.root}>\n      <button className={CSS.toggler} onClick={() => setChoosing(!choosing)}>\n        {name}\n      </button>\n\n      <div\n        className={cx(CSS.backdrop, choosing && \"active\")}\n        onClick={() => setChoosing(false)}\n      />\n\n      <div className={cx(CSS.selector, choosing && \"active\")}>\n        <div className={cx(CSS.selectorList, choosing && \"active\")}>\n          {mapObject(carts, (value, name) => (\n            <a key={name} href={value} onClick={downloadCart}>\n              {name}\n            </a>\n          ))}\n        </div>\n        <label>\n          <input\n            type=\"file\"\n            onChange={onFile}\n            onClick={event => (event.currentTarget.value = \"\")}\n          />\n        </label>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport cx from \"classnames\";\nimport { style } from \"typestyle\";\nimport useEvent from \"react-use/lib/useEvent\";\nimport FundudeWasm, { Input } from \"../wasm\";\n\nconst CSS = {\n  root: style({\n    display: \"flex\",\n    flex: \"1\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    touchAction: \"none\"\n  }),\n\n  button: style({\n    display: \"inline-block\",\n    background: \"#082A08\",\n    boxShadow: \"inset 0 0 2px 2px #082A08\",\n    border: \"none\",\n    color: \"white\",\n    fontFamily: \"Helvetica, Arial, sans-serif\",\n    fontSize: \"24px\",\n\n    $nest: {\n      \"&.pressed\": {\n        background: \"white\",\n        color: \"#082A08\"\n      }\n    }\n  }),\n\n  dpad: {\n    base: style({\n      position: \"relative\",\n      width: \"90px\",\n      height: \"90px\"\n    }),\n    direction: style({\n      position: \"absolute\",\n      height: \"33.3333%\",\n      width: \"33.3333%\"\n    }),\n    up: style({ left: \"33.3333%\", top: 0 }),\n    down: style({ left: \"33.3333%\", bottom: 0 }),\n    left: style({ left: 0, top: \"33.3333%\" }),\n    right: style({ right: 0, top: \"33.3333%\" })\n  },\n\n  buttons: {\n    base: style({}),\n    a: style({ width: \"40px\", height: \"40px\", borderRadius: \"100%\" }),\n    b: style({ width: \"40px\", height: \"40px\", borderRadius: \"100%\" }),\n    select: style({ fontSize: \"14px\" }),\n    start: style({ fontSize: \"14px\" })\n  }\n};\n\nconst INITIAL_STATE = {\n  up: false,\n  down: false,\n  left: false,\n  right: false,\n\n  select: false,\n  start: false,\n  a: false,\n  b: false\n};\n\nconst KEY_MAP: Record<string, Input> = {\n  KeyW: \"up\",\n  KeyD: \"right\",\n  KeyS: \"down\",\n  KeyA: \"left\",\n\n  ArrowUp: \"up\",\n  ArrowRight: \"right\",\n  ArrowDown: \"down\",\n  ArrowLeft: \"left\",\n\n  Backspace: \"select\",\n  Backslash: \"select\",\n  Enter: \"start\",\n\n  KeyN: \"select\",\n  KeyM: \"start\",\n  Comma: \"b\",\n  Period: \"a\",\n\n  KeyO: \"select\",\n  KeyP: \"start\",\n  BracketLeft: \"b\",\n  BracketRight: \"a\"\n};\n\nexport default function Controller(props: { fd: FundudeWasm }) {\n  const [inputs, setInputs] = React.useState(INITIAL_STATE);\n  const [clicking, setClicking] = React.useState(false);\n\n  function handleMouseDown(event: React.MouseEvent<HTMLButtonElement>) {\n    setClicking(true);\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleMouseEnter(event: React.MouseEvent<HTMLButtonElement>) {\n    if (!clicking) {\n      return;\n    }\n    event.currentTarget.focus();\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleMouseLeave(event: React.MouseEvent<HTMLButtonElement>) {\n    if (!clicking) {\n      return;\n    }\n    event.currentTarget.blur();\n    setInputs(props.fd.inputRelease(event.currentTarget.value as any));\n  }\n\n  useEvent(\"mouseup\", (event: React.MouseEvent<HTMLButtonElement>) => {\n    if (!clicking) {\n      return;\n    }\n    setClicking(false);\n    event.currentTarget.blur();\n    setInputs(props.fd.inputReleaseAll());\n  });\n\n  function handleTouch(event: React.TouchEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    setInputs(props.fd.inputPress(event.currentTarget.value as any));\n  }\n\n  function handleUntouch(event: React.TouchEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    setInputs(props.fd.inputRelease(event.currentTarget.value as any));\n  }\n\n  useEvent(\"keydown\", (event: KeyboardEvent) => {\n    const input = KEY_MAP[event.code];\n    if (input) {\n      event.preventDefault();\n      setInputs(props.fd.inputPress(input));\n    }\n  });\n  useEvent(\"keyup\", (event: KeyboardEvent) => {\n    const input = KEY_MAP[event.code];\n    if (input) {\n      event.preventDefault();\n      setInputs(props.fd.inputRelease(input));\n    }\n  });\n\n  function Button(props: {\n    value: Input;\n    className: string;\n    children?: string;\n  }) {\n    return (\n      <button\n        value={props.value}\n        className={cx(CSS.button, props.className, {\n          pressed: inputs[props.value]\n        })}\n        onMouseDown={handleMouseDown}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        onTouchStart={handleTouch}\n        onTouchEnd={handleUntouch}\n      >\n        {props.children}\n      </button>\n    );\n  }\n\n  return (\n    <div className={CSS.root}>\n      <div className={CSS.dpad.base}>\n        <Button value=\"up\" className={cx(CSS.dpad.direction, CSS.dpad.up)} />\n        <Button\n          value=\"down\"\n          className={cx(CSS.dpad.direction, CSS.dpad.down)}\n        />\n        <Button\n          value=\"left\"\n          className={cx(CSS.dpad.direction, CSS.dpad.left)}\n        />\n        <Button\n          value=\"right\"\n          className={cx(CSS.dpad.direction, CSS.dpad.right)}\n        />\n      </div>\n\n      <div className={CSS.buttons.base}>\n        <Button value=\"select\" className={CSS.buttons.select}>\n          Select\n        </Button>\n        <Button value=\"start\" className={CSS.buttons.start}>\n          Start\n        </Button>\n      </div>\n\n      <div className={CSS.buttons.base}>\n        <Button value=\"b\" className={CSS.buttons.b}>\n          B\n        </Button>\n        <Button value=\"a\" className={CSS.buttons.a}>\n          A\n        </Button>\n      </div>\n    </div>\n  );\n}\n","function asCart(hexString: string): Uint8Array {\n  const result = new Uint8Array(32 * 1024);\n  hexString\n    .replace(/\\s+/g, \"\")\n    .match(/.{1,2}/g)!\n    .forEach((s, i) => {\n      result[i] = parseInt(s, 16);\n    });\n  return result;\n}\n\nexport const BOOTLOADER = asCart(`\n31 FE FF AF 21 FF 9F 32 CB 7C 20 FB 21 26 FF 0E\n11 3E 80 32 E2 0C 3E F3 E2 32 3E 77 77 3E FC E0\n47 11 04 01 21 10 80 1A CD 95 00 CD 96 00 13 7B\nFE 34 20 F3 11 D8 00 06 08 1A 13 22 23 05 20 F9\n3E 19 EA 10 99 21 2F 99 0E 0C 3D 28 08 32 0D 20\nF9 2E 0F 18 F3 67 3E 64 57 E0 42 3E 91 E0 40 04\n1E 02 0E 0C F0 44 FE 90 20 FA 0D 20 F7 1D 20 F2\n0E 13 24 7C 1E 83 FE 62 28 06 1E C1 FE 64 20 06\n7B E2 0C 3E 87 E2 F0 42 90 E0 42 15 20 D2 05 20\n4F 16 20 18 CB 4F 06 04 C5 CB 11 17 C1 CB 11 17\n05 20 F5 22 23 22 23 C9 CE ED 66 66 CC 0D 00 0B\n03 73 00 83 00 0C 00 0D 00 08 11 1F 88 89 00 0E\nDC CC 6E E6 DD DD D9 99 BB BB 67 63 6E 0E EC CC\nDD DC 99 9F BB B9 33 3E 3C 42 B9 A5 B9 A5 42 3C\n21 04 01 11 A8 00 1A 13 BE 20 FE 23 7D FE 34 20\nF5 06 19 78 86 23 05 20 FB 86 20 FE 3E 01 E0 50\n\n00 00 00 00\n\nFF CF 66 66 DD DD 99 DF 88 8B 0C C3 77 66 9D DD\nBB BB 77 66 9D DD EE 8E FC CC 66 73 DD D9 B9 99\nB8 88 3C C0 66 77 DD D8 BB FE 66 77 DD D9 E8 EE\n`);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M38.81.27L37.4 8.96H20.54l-1.72 10.58h14.27l-1.37 8.72H17.4L14.13 49H.58L8.33.27H38.8zm52.67 0l-4.15 29.78c-.6 4.31-1.94 7.93-4.05 10.86a19.35 19.35 0 01-8.13 6.56 28.05 28.05 0 01-11.29 2.16c-5.61 0-10.1-.98-13.46-2.95-3.35-1.97-5.7-4.32-7.04-7.07a17.99 17.99 0 01-2.02-7.9c0-2.1.22-4.5.65-7.25L45.5.27h11.9l-3.58 25.46c-.2 1.26-.3 2.5-.3 3.69 0 2.65.73 4.86 2.2 6.62 1.46 1.77 4.15 2.66 8.07 2.66 1.99 0 3.77-.32 5.35-.97a9.44 9.44 0 004.05-3.27c1.13-1.53 1.9-3.6 2.3-6.2L79.6.27h11.9zm55.84 0L140.04 49h-11.6l-19.06-29.32L104.92 49H92.5L99.7.27h11.68l19.09 29.29 4.4-29.29h12.44zm16.93 28.68v-10h-10v10h10zm56.65-4.8c0 5.4-1.03 9.96-3.1 13.64a19.81 19.81 0 01-9.19 8.36c-4.07 1.9-9.1 2.85-15.1 2.85h-22.46l7-48.73h17.92c4.24 0 7.95.64 11.13 1.9a20.9 20.9 0 017.82 5.24 21.4 21.4 0 014.52 7.61 28.04 28.04 0 011.46 9.12zm-12.7.17c0-2.44-.46-4.8-1.38-7.1a12.65 12.65 0 00-5.12-5.85c-2.48-1.61-5.93-2.41-10.33-2.41h-2l-4.54 31.32h6.54c3.11 0 5.8-.47 8.03-1.4a13.29 13.29 0 008-8.83c.54-1.83.8-3.74.8-5.73zM275.73.27l-4.16 29.78c-.58 4.31-1.93 7.93-4.04 10.86a19.35 19.35 0 01-8.13 6.56 28.05 28.05 0 01-11.3 2.16c-5.6 0-10.09-.98-13.45-2.95-3.36-1.97-5.7-4.32-7.05-7.07a17.99 17.99 0 01-2-7.9c0-2.1.2-4.5.63-7.25L229.74.27h11.9l-3.58 25.46c-.2 1.26-.3 2.5-.3 3.69 0 2.65.73 4.86 2.2 6.62 1.46 1.77 4.15 2.66 8.07 2.66 1.99 0 3.77-.32 5.34-.97a9.44 9.44 0 004.06-3.27c1.13-1.53 1.9-3.6 2.3-6.2l4.1-27.99h11.9zm50.88 23.87c0 5.42-1.03 9.97-3.1 13.65a19.81 19.81 0 01-9.19 8.36c-4.07 1.9-9.1 2.85-15.1 2.85h-22.46l7-48.73h17.92c4.24 0 7.95.64 11.13 1.9a20.9 20.9 0 017.82 5.24 21.4 21.4 0 014.52 7.61 28.04 28.04 0 011.46 9.12zm-12.7.18c0-2.44-.46-4.8-1.38-7.1a12.65 12.65 0 00-5.12-5.85c-2.48-1.61-5.93-2.41-10.33-2.41h-2l-4.54 31.32h6.54c3.11 0 5.8-.47 8.03-1.4a13.29 13.29 0 008-8.83c.54-1.83.8-3.74.8-5.73zm-140.48 4.67h-8.74v9.96h-10.82V29h-10.33l1.51-10.12h8.82V8.95h10.78v9.92h10.24l-1.46 10.12zM367.95.27l-1.23 8.69H347l-1.52 10.58h17.13l-1.24 8.72h-17.26l-1.65 12.02h23.98L365.2 49h-36.53L335.75.27h32.2z\"\n});\n\nconst SvgLogo = props => React.createElement(\"svg\", _extends({\n  viewBox: \"0 0 368 50\"\n}, props), _ref);\n\nexport default SvgLogo;","import React from \"react\";\nimport { style } from \"typestyle\";\nimport useEvent from \"react-use/lib/useEvent\";\n\nimport FD from \"../wasm/react\";\nimport Display from \"./Display\";\nimport CartSelect from \"./CartSelect\";\nimport Controller from \"./Controller\";\nimport Toaster from \"./Toaster\";\nimport { BOOTLOADER } from \"./data\";\n\nconst LazyDebug = {\n  Left: React.lazy(() =>\n    import(\"./Debug\").then(mod => ({ default: mod.Left }))\n  ),\n  Right: React.lazy(() =>\n    import(\"./Debug\").then(mod => ({ default: mod.Right }))\n  )\n};\n\n//@ts-ignore\nimport Logo from \"./logo.svg\";\n\nconst CSS = {\n  root: style({\n    overflow: \"hidden\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\"\n  }),\n\n  app: style({\n    marginTop: \"4px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }),\n\n  shell: style({\n    padding: \"20px 16px\",\n    background: \"#f5f5dc\",\n    boxShadow: \"inset 0 0 0 4px rgba(32, 32, 32, 0.5)\",\n    borderRadius: \"8px 8px 40px 40px\"\n  }),\n\n  displayWrapper: style({\n    backgroundColor: \"#606060\",\n    padding: \"20px 50px 0\",\n    borderRadius: \"8px\"\n  }),\n\n  display: style({\n    maxWidth: \"100vw\"\n  }),\n\n  title: style({\n    position: \"relative\",\n    textTransform: \"uppercase\",\n    fontFamily: \"'Gill Sans', sans-serif\",\n    fontWeight: \"bold\",\n    fontStyle: \"italic\",\n    letterSpacing: \"-2px\",\n    color: \"white\"\n  }),\n\n  titleText: style({\n    color: \"transparent\"\n  }),\n\n  titleSymbol: style({\n    fontSize: \"0.5em\",\n    verticalAlign: \"middle\"\n  }),\n\n  logo: style({\n    position: \"absolute\",\n    top: \"20%\",\n    height: \"59%\",\n    pointerEvents: \"none\"\n  }),\n\n  controls: style({\n    height: \"300px\",\n    width: \"324px\",\n    margin: \"0 auto\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  })\n};\n\nexport function App(props: { debug?: boolean }) {\n  const { fd } = React.useContext(FD.Context);\n\n  return (\n    <div className={CSS.app}>\n      <CartSelect startName=\"Bootloader\" debug={props.debug} />\n      <div className={CSS.shell}>\n        <div className={CSS.displayWrapper}>\n          <Display\n            className={CSS.display}\n            pixels={fd.display()}\n            signal={fd.changed}\n            scale={2}\n          />\n          <h1 className={CSS.title}>\n            <Logo className={CSS.logo} />\n            <span className={CSS.titleText}>\n              FUN\n              <i className={CSS.titleSymbol}>&#10012;</i>\n              DUDE\n            </span>\n          </h1>\n        </div>\n        <div className={CSS.controls}>\n          <Controller fd={fd} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function(props: { debug?: boolean }) {\n  const [debug, setDebug] = React.useState(\n    window.location.hash.includes(\"debug\")\n  );\n  useEvent(\"hashchange\", () =>\n    setDebug(window.location.hash.includes(\"debug\"))\n  );\n\n  return (\n    <Toaster.Provider show=\"topright\">\n      <FD.Provider bootCart={BOOTLOADER} autoBoot={!debug}>\n        <div className={CSS.root}>\n          <React.Suspense fallback={<div />}>\n            {debug && <LazyDebug.Left />}\n          </React.Suspense>\n          <App debug={debug} />\n          <React.Suspense fallback={<div />}>\n            {debug && <LazyDebug.Right />}\n          </React.Suspense>\n        </div>\n      </FD.Provider>\n    </Toaster.Provider>\n  );\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { forceRenderStyles } from \"typestyle\";\nimport App from \"./App\";\n\nconst container = document.getElementById(\"app\");\nif (container) {\n  forceRenderStyles();\n  render(<App />, container);\n}\n","module.exports = function loadWASMBundle(bundle) {\n  return fetch(bundle)\n    .then(function (res) {\n      if (WebAssembly.instantiateStreaming) {\n        return WebAssembly.instantiateStreaming(res);\n      } else {\n        return res.arrayBuffer()\n          .then(function (data) {\n            return WebAssembly.instantiate(data);\n          });\n      }\n    })\n    .then(function (wasmModule) {\n      return wasmModule.instance.exports;\n    });\n};\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}